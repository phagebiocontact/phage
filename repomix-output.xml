This file is a merged representation of the entire codebase, combined into a single document by Repomix.
The content has been processed where comments have been removed, empty lines have been removed.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Code comments have been removed from supported file types
- Empty lines have been removed from all files
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
AGENTS.md
biome.json
components.json
convex/auth.config.ts
convex/auth.ts
convex/contact.ts
convex/convex.config.ts
convex/dodo.ts
convex/emails.ts
convex/http.ts
convex/payments.ts
convex/README.md
convex/schema.ts
convex/security.ts
convex/simulations.ts
convex/tsconfig.json
next.config.ts
package.json
postcss.config.mjs
README.md
src/app/auth/page.tsx
src/app/contact/page.tsx
src/app/favicon.ico
src/app/features/page.tsx
src/app/globals.css
src/app/jobs/page.tsx
src/app/layout.tsx
src/app/not-found.tsx
src/app/page.tsx
src/app/pricing/page.tsx
src/app/robots.ts
src/app/simulate/page.tsx
src/app/sitemap.ts
src/components/Footer.tsx
src/components/Header.tsx
src/components/MolstarViewer.tsx
src/components/NavLink.tsx
src/components/SecurityInit.tsx
src/components/themeprovider.tsx
src/components/ThemeToggle.tsx
src/components/ui/accordion.tsx
src/components/ui/alert-dialog.tsx
src/components/ui/alert.tsx
src/components/ui/aspect-ratio.tsx
src/components/ui/avatar.tsx
src/components/ui/badge.tsx
src/components/ui/breadcrumb.tsx
src/components/ui/button.tsx
src/components/ui/calendar.tsx
src/components/ui/card.tsx
src/components/ui/carousel.tsx
src/components/ui/chart.tsx
src/components/ui/checkbox.tsx
src/components/ui/collapsible.tsx
src/components/ui/context-menu.tsx
src/components/ui/dialog.tsx
src/components/ui/drawer.tsx
src/components/ui/dropdown-menu.tsx
src/components/ui/form.tsx
src/components/ui/hover-card.tsx
src/components/ui/input-otp.tsx
src/components/ui/input.tsx
src/components/ui/label.tsx
src/components/ui/menubar.tsx
src/components/ui/navigation-menu.tsx
src/components/ui/pagination.tsx
src/components/ui/popover.tsx
src/components/ui/progress.tsx
src/components/ui/radio-group.tsx
src/components/ui/scroll-area.tsx
src/components/ui/select.tsx
src/components/ui/separator.tsx
src/components/ui/sheet.tsx
src/components/ui/sidebar.tsx
src/components/ui/skeleton.tsx
src/components/ui/slider.tsx
src/components/ui/sonner.tsx
src/components/ui/switch.tsx
src/components/ui/table.tsx
src/components/ui/tabs.tsx
src/components/ui/textarea.tsx
src/components/ui/toast.tsx
src/components/ui/toaster.tsx
src/components/ui/toggle-group.tsx
src/components/ui/toggle.tsx
src/components/ui/tooltip.tsx
src/hooks/use-mobile.ts
src/hooks/use-mobile.tsx
src/hooks/use-toast.ts
src/lib/auth-client.ts
src/lib/auth.tsx
src/lib/convex.tsx
src/lib/security.ts
src/lib/utils.ts
tsconfig.json
WARP.md
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="AGENTS.md">
# AGENTS.md - Phage Molecular Dynamics Platform

## Project Overview

**Phage** is a Next.js-based molecular dynamics simulation platform that provides cloud-based protein structure visualization and simulation capabilities for researchers and scientists.

### Tech Stack

- **Frontend**: Next.js 16.1.1 with React 19.2.3, TypeScript 5.9.3
- **Backend**: Convex (serverless functions & database)
- **Authentication**: Better Auth with Convex integration
- **Payments**: Dodo Payments with Convex integration
- **UI Framework**: Shadcn/ui (New York style) with Radix UI components
- **Styling**: Tailwind CSS 4.1.18 with CSS variables
- **3D Visualization**: Molstar 5.5.0 for molecular structure rendering
- **State Management**: React hooks with Convex real-time subscriptions
- **Form Handling**: React Hook Form with Zod validation
- **Icons**: Lucide React
- **Runtime**: Bun (package manager)
- **Linting/Formatting**: Biome 2.2.0
- **Theme**: next-themes for dark/light mode

## Development Commands

```bash
# Development (runs Next.js on port 8080 and Convex dev server)
bun run dev

# Production build
bun run build

# Start production server
bun run start

# Lint and auto-fix (Biome)
bun run lint

# Format code (Biome)
bun run format
```

## Project Structure

```
nexttry/
├── .vscode/
│   └── launch.json                 # VS Code debugging configuration
├── convex/                         # Convex backend (serverless functions & database)
│   ├── _generated/                 # Auto-generated TypeScript types
│   │   ├── api.d.ts, api.js        # API function types
│   │   ├── dataModel.d.ts          # Database schema types
│   │   └── server.d.ts, server.js  # Server function types
│   ├── auth.config.ts              # Better Auth configuration
│   ├── auth.ts                     # Authentication functions (signup, signin, user management)
│   ├── contact.ts                  # Contact form handling
│   ├── convex.config.ts            # Convex app configuration with plugins
│   ├── dodo.ts                     # Dodo Payments integration
│   ├── emails.ts                   # Email sending functions (Resend integration)
│   ├── http.ts                     # HTTP endpoint functions
│   ├── payments.ts                 # Payment processing functions
│   ├── README.md                   # Convex setup and security notes
│   ├── schema.ts                   # Database schema definitions
│   ├── security.ts                 # Security utilities (rate limiting, audit logging)
│   ├── simulations.ts              # Simulation CRUD operations
│   └── tsconfig.json               # TypeScript configuration for Convex
├── public/
│   └── phagedesign.png             # Application logo/favicon
├── src/
│   ├── app/                        # Next.js App Router pages
│   │   ├── auth/page.tsx           # Authentication page (signup/signin)
│   │   ├── contact/page.tsx        # Contact form page
│   │   ├── features/page.tsx       # Features showcase page
│   │   ├── jobs/page.tsx           # User simulations/jobs page
│   │   ├── pricing/page.tsx        # Pricing plans page
│   │   ├── simulate/page.tsx       # Simulation interface page
│   │   ├── favicon.ico             # Site favicon
│   │   ├── globals.css             # Global CSS with Tailwind and custom animations
│   │   ├── layout.tsx              # Root layout with providers and metadata
│   │   ├── not-found.tsx          # 404 error page
│   │   ├── page.tsx                # Landing page with hero section and Molstar viewer
│   │   ├── robots.ts               # SEO robots.txt
│   │   └── sitemap.ts              # SEO sitemap
│   ├── components/                 # Reusable React components
│   │   ├── ui/                     # Shadcn/ui components (40+ UI primitives)
│   │   │   ├── accordion.tsx       # Collapsible content sections
│   │   │   ├── alert-dialog.tsx    # Modal dialogs for confirmations
│   │   │   ├── alert.tsx           # Alert notifications
│   │   │   ├── button.tsx          # Button component with variants
│   │   │   ├── card.tsx            # Card container component
│   │   │   ├── dialog.tsx          # Modal dialog component
│   │   │   ├── dropdown-menu.tsx   # Dropdown navigation menus
│   │   │   ├── form.tsx            # Form components with validation
│   │   │   ├── input.tsx           # Input field component
│   │   │   ├── navigation-menu.tsx # Navigation menu component
│   │   │   ├── select.tsx          # Select dropdown component
│   │   │   ├── sheet.tsx           # Slide-out sheet component
│   │   │   ├── sonner.tsx          # Toast notifications
│   │   │   ├── tabs.tsx            # Tab navigation component
│   │   │   ├── textarea.tsx        # Textarea input component
│   │   │   ├── toast.tsx           # Toast container
│   │   │   ├── tooltip.tsx         # Tooltip component
│   │   │   └── [35+ more UI components...]
│   │   ├── Footer.tsx              # Site footer with links and branding
│   │   ├── Header.tsx              # Navigation header with auth state and mobile menu
│   │   ├── MolstarViewer.tsx       # 3D molecular structure viewer component
│   │   ├── NavLink.tsx             # Navigation link with active state handling
│   │   ├── SecurityInit.tsx        # Client-side security initialization
│   │   ├── ThemeProvider.tsx       # Theme context provider for dark/light mode
│   │   └── ThemeToggle.tsx         # Theme toggle button component
│   ├── hooks/                      # Custom React hooks
│   │   ├── use-mobile.ts           # Mobile device detection hook
│   │   ├── use-mobile.tsx          # Alternative mobile detection hook
│   │   └── use-toast.ts            # Toast notification hook
│   └── lib/                        # Utility libraries and configurations
│       ├── auth-client.ts          # Client-side authentication utilities
│       ├── auth.tsx                # Auth context provider and hooks
│       ├── convex.tsx              # Convex client configuration
│       ├── security.ts             # Security utilities and constants
│       └── utils.ts                # General utility functions (cn, etc.)
├── .gitignore                      # Git ignore patterns
├── biome.json                      # Biome linting and formatting configuration
├── bun.lock                        # Bun lock file (package manager)
├── components.json                 # Shadcn/ui configuration and aliases
├── next.config.ts                  # Next.js configuration with React Compiler
├── package.json                    # Dependencies and scripts
├── postcss.config.mjs              # PostCSS configuration for Tailwind
├── README.md                       # Project documentation and setup
└── tsconfig.json                   # TypeScript configuration with path aliases
```

## Code Style Guidelines

### Import Patterns

```typescript
// External libraries first
import { useEffect, useState } from "react";
import dynamic from "next/dynamic";
import { ArrowRight, Atom } from "lucide-react";

// Internal imports with @ alias
import { Button } from "@/components/ui/button";
import { NavLink } from "@/components/NavLink";
import { useAuth } from "@/lib/auth";
```

### Component Structure

```typescript
"use client"; // For client components only

import { useState } from "react";

// Component name in PascalCase
const ComponentName = () => {
  // State hooks first
  const [state, setState] = useState();
  
  // Effect hooks
  useEffect(() => {
    // Side effects
  }, []);

  // Event handlers
  const handleClick = () => {
    // Handler logic
  };

  // Render JSX
  return (
    <div className="container">
      {/* Component content */}
    </div>
  );
};

export default ComponentName;
```

### Naming Conventions

- **Components**: PascalCase (e.g., `MolstarViewer`, `Header`)
- **Files**: kebab-case for utilities, PascalCase for components
- **Variables**: camelCase (e.g., `mousePosition`, `currentRepr`)
- **Constants**: UPPER_SNAKE_CASE (e.g., `API_BASE_URL`)
- **Functions**: camelCase with descriptive names (e.g., `handleMouseMove`)

### TypeScript Patterns

```typescript
// Use proper typing with interfaces/types
interface MolstarViewerRef {
  setRepresentation: (repr: "cartoon" | "ball-and-stick" | "surface") => void;
  setColor: (color: "chain" | "element" | "rainbow") => void;
  resetZoom: () => void;
}

// Use generic types from Convex
import { Doc } from "./_generated/dataModel";
type User = Doc<"users">;

// Use union types for enums
type SimulationStatus = "pending" | "running" | "completed" | "failed";
```

### Styling Conventions

```typescript
// Use Tailwind classes with CSS variables
className="bg-primary text-primary-foreground border-border"

// Use utility functions for conditional classes
import { cn } from "@/lib/utils";
className={cn(
  "base-classes",
  isActive && "active-classes",
  variant === "outline" && "outline-classes"
)}

// Use semantic color variables from CSS custom properties
className="text-gradient bg-gradient-primary shadow-glow"
```

### Error Handling

```typescript
// Use try-catch with proper error types
try {
  await operation();
} catch (error) {
  console.error("Operation failed:", error);
  // Handle error appropriately
}

// Use error boundaries for React components
// Implement proper validation with Zod schemas
```

## Database Schema (Convex)

### Core Tables

1. **users** - User accounts with credits and authentication
2. **simulations** - Molecular simulation jobs and results
3. **contactMessages** - Contact form submissions
4. **auditLogs** - Security and operation audit trails
5. **paymentEvents** - Payment webhook events
6. **paymentTransactions** - Payment transaction records
7. **rateLimits** - API rate limiting
8. **securityLogs** - Security event logging

### Key Relationships

- `simulations.userId` → `users._id`
- `paymentTransactions.userId` → `users._id`
- `auditLogs.userId` → `users._id` (optional)

## Security Considerations

- Rate limiting implemented in `security.ts`
- Audit logging for all user actions
- Input validation with Zod schemas
- CSRF protection via Better Auth
- Environment variable management for secrets
- Content Security Policy headers in Next.js config

## Development Workflow

1. **Setup**: Run `bun install` to install dependencies
2. **Development**: Use `bun run dev` to start both Next.js and Convex
3. **Linting**: Run `bun run lint` before commits (Biome auto-fixes)
4. **Building**: Use `bun run build` for production optimization
5. **Testing**: Manual testing in development (no automated tests currently)

## Key Features

- **3D Molecular Visualization**: Interactive Molstar viewer with multiple rendering modes
- **User Authentication**: Complete auth flow with Better Auth
- **Payment Processing**: Credit-based system with Dodo Payments
- **Real-time Updates**: Convex subscriptions for live simulation status
- **Responsive Design**: Mobile-first design with Tailwind CSS
- **Dark/Light Theme**: Theme switching with next-themes
- **Security**: Comprehensive logging and rate limiting

## Environment Variables Required

- `NEXT_PUBLIC_CONVEX_URL` - Convex deployment URL
- `BETTER_AUTH_SECRET` - Better Auth secret key
- `DODO_PAYMENTS_SECRET_KEY` - Dodo Payments API key
- `RESEND_API_KEY` - Email sending (optional)

## Notes for AI Agents

- This is a modern Next.js 16 application with React 19
- Uses App Router (not Pages Router)
- Convex handles both database and serverless functions
- All UI components use Shadcn/ui patterns
- Molstar integration requires client-side rendering only
- Authentication state is managed through custom hooks
- The codebase follows TypeScript strict mode
- Biome is used for both linting and formatting
- Path aliases are configured (`@/*` → `./src/*`)
</file>

<file path="WARP.md">
# WARP.md

This file provides guidance to WARP (warp.dev) when working with code in this repository.

## Project Overview

**Phage** is a Next.js-based molecular dynamics simulation platform providing cloud-based protein structure visualization for researchers. The application uses a modern serverless architecture with Convex for backend and real-time data synchronization.

## Development Commands

### Primary Commands
```bash
# Development - runs Next.js (port 8080) and Convex dev server concurrently
bun run dev

# Production build
bun run build

# Start production server
bun start

# Lint and auto-fix with Biome
bun run lint

# Format code with Biome
bun run format
```

### Convex-Specific Commands
```bash
# Initialize/connect Convex and generate types
npx convex dev

# Deploy Convex functions to production
npx convex deploy

# View Convex dashboard
npx convex dashboard
```

## Tech Stack

- **Frontend**: Next.js 16.1.1 (App Router) with React 19.2.3, TypeScript 5.9.3
- **Backend**: Convex (serverless functions + real-time database)
- **Authentication**: Better Auth with Convex integration
- **Payments**: Dodo Payments with Convex integration
- **3D Visualization**: Molstar 5.5.0 (client-side only)
- **UI**: Shadcn/ui (New York style) with Radix UI primitives
- **Styling**: Tailwind CSS 4.1.18 with CSS variables
- **Forms**: React Hook Form + Zod validation
- **Linting/Formatting**: Biome 2.2.0
- **Package Manager**: Bun

## Architecture

### Backend (Convex)

Convex handles both serverless functions and database operations. All backend code lives in the `convex/` directory:

- **Schema** (`schema.ts`): Defines 8 core tables with indexes
  - `users` - User accounts with credits and authentication
  - `simulations` - Molecular simulation jobs with status tracking
  - `contactMessages`, `auditLogs`, `paymentEvents`, `paymentTransactions`, `rateLimits`, `securityLogs`

- **Functions**: Convex functions use specific patterns:
  - **Queries**: Read-only operations (e.g., fetching simulations)
  - **Mutations**: Write operations (e.g., creating simulations, updating credits)
  - **Actions**: External API calls (e.g., email sending, payment webhooks)
  - **HTTP Endpoints** (`http.ts`): Webhooks for Better Auth and Dodo Payments

- **Authentication** (`auth.ts`, `auth.config.ts`): Better Auth integration with Convex
  - User signup/signin mutations
  - Session management through Better Auth
  - User lookup by email or auth ID

- **Security** (`security.ts`): Rate limiting and audit logging utilities
  - Rate limit checks by identifier and action
  - Audit log creation for user actions
  - Security event logging

### Frontend (Next.js App Router)

All frontend code is in `src/`:

- **Pages** (`src/app/`): Next.js App Router pages
  - `/` - Landing page with hero and Molstar viewer
  - `/auth` - Authentication (signup/signin)
  - `/simulate` - Simulation interface
  - `/jobs` - User's simulation jobs
  - `/pricing`, `/features`, `/contact`

- **Components** (`src/components/`):
  - `ui/` - 40+ Shadcn/ui primitives (buttons, forms, dialogs, etc.)
  - `MolstarViewer.tsx` - 3D molecular visualization (must be client-side)
  - `Header.tsx`, `Footer.tsx` - Navigation with auth state
  - `ThemeProvider.tsx`, `ThemeToggle.tsx` - Dark/light mode

- **Providers** (`src/lib/`):
  - `convex.tsx` - ConvexProvider with Better Auth integration
  - `auth.tsx` - Auth context and hooks
  - `auth-client.ts` - Client-side auth utilities
  - `utils.ts` - Utility functions including `cn()` for className merging

### Key Patterns

1. **Real-time Data**: Use Convex hooks for live updates
   ```typescript
   import { useQuery, useMutation } from "convex/react";
   import { api } from "../../convex/_generated/api";
   
   const simulations = useQuery(api.simulations.getUserSimulations);
   const createSimulation = useMutation(api.simulations.create);
   ```

2. **Authentication**: Use auth hooks from `@/lib/auth`
   ```typescript
   import { useAuth } from "@/lib/auth";
   const { user, isLoading } = useAuth();
   ```

3. **Client/Server Components**: 
   - Convex hooks and Molstar require `"use client"`
   - Server components for static content and SEO

4. **Path Aliases**: `@/*` maps to `./src/*`

5. **Styling**: Use Tailwind with semantic CSS variables
   - `bg-primary`, `text-primary-foreground`, `border-border`
   - Custom animations in `globals.css`

## Code Style

### Import Order
```typescript
// 1. External libraries
import { useEffect, useState } from "react";
import dynamic from "next/dynamic";

// 2. Internal imports with @ alias
import { Button } from "@/components/ui/button";
import { useAuth } from "@/lib/auth";
```

### Naming Conventions
- **Components**: PascalCase (`MolstarViewer`, `ThemeToggle`)
- **Files**: PascalCase for components, kebab-case for utilities
- **Variables/Functions**: camelCase (`handleClick`, `currentUser`)
- **Constants**: UPPER_SNAKE_CASE (`API_BASE_URL`)

### TypeScript
- Use Convex-generated types: `Doc<"users">`, `Id<"simulations">`
- Define interfaces for component props
- Use union types for status enums: `"pending" | "running" | "completed" | "failed"`

### Styling
- Use `cn()` utility for conditional classes
- Prefer Tailwind classes over custom CSS
- Use semantic CSS variables for theming

## Important Notes

### Molstar Integration
- Molstar requires client-side rendering only (`"use client"`)
- Large bundle - consider dynamic imports with `{ ssr: false }`
- Initialize viewer in `useEffect` after component mount

### Convex Development
- Run `npx convex dev` to generate types in `convex/_generated/`
- Types are auto-generated from schema and function definitions
- Convex functions run on the backend - no direct access to Node.js APIs

### Environment Variables
Required in `.env.local`:
- `NEXT_PUBLIC_CONVEX_URL` - Convex deployment URL
- `BETTER_AUTH_SECRET` - Better Auth secret key
- `DODO_PAYMENTS_SECRET_KEY` - Dodo Payments API key
- `RESEND_API_KEY` - Email sending (optional)

### Biome Configuration
- Auto-organizes imports on save
- Enforces Next.js and React best practices
- Runs with `--unsafe` flag for auto-fixes
- 2-space indentation

### Routing
- Next.js API routes are proxied to Convex HTTP endpoints (port 3210)
- See `next.config.ts` for rewrite rules

## Development Workflow

1. Start development: `bun run dev` (starts both Next.js and Convex)
2. Convex generates types automatically on changes
3. Lint before commits: `bun run lint`
4. No automated tests - manual testing required
5. Build for production: `bun run build`

## Common Pitfalls

- Don't use Convex hooks in server components
- Don't import Molstar in server-side code
- Always check auth state before protected operations
- Rate limiting is enforced - handle rate limit errors
- Credits must be checked before simulation creation
</file>

<file path="biome.json">
{
  "$schema": "https://biomejs.dev/schemas/2.2.0/schema.json",
  "vcs": {
    "enabled": true,
    "clientKind": "git",
    "useIgnoreFile": true
  },
  "files": {
    "ignoreUnknown": true,
    "includes": ["**", "!node_modules", "!.next", "!dist", "!build"]
  },
  "formatter": {
    "enabled": true,
    "indentStyle": "space",
    "indentWidth": 2
  },
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true,
      "suspicious": {
        "noUnknownAtRules": "off"
      }
    },
    "domains": {
      "next": "recommended",
      "react": "recommended"
    }
  },
  "assist": {
    "actions": {
      "source": {
        "organizeImports": "on"
      }
    }
  }
}
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "src/app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}
</file>

<file path="convex/contact.ts">
import { v } from "convex/values";
import { mutation, query } from "./_generated/server";
export const submitContactForm = mutation({
  args: {
    name: v.string(),
    email: v.string(),
    subject: v.string(),
    message: v.string(),
  },
  handler: async (ctx, args) => {
    const messageId = await ctx.db.insert("contactMessages", {
      name: args.name,
      email: args.email,
      subject: args.subject,
      message: args.message,
      status: "pending",
      createdAt: Date.now(),
    });
    console.log("Contact message saved:", messageId);
    return messageId;
  },
});
export const getContactMessages = query({
  args: {},
  handler: async (_ctx) => {
    throw new Error("Unauthorized access");
  },
});
</file>

<file path="convex/dodo.ts">
import { DodoPayments } from "@dodopayments/convex";
import { components } from "./_generated/api";
export const dodo = new DodoPayments(components.dodopayments, {
  identify: async (_ctx) => {
    return null;
  },
  apiKey: process.env.DODO_PAYMENTS_API_KEY!,
  environment:
    (process.env.DODO_PAYMENTS_ENVIRONMENT as "test_mode" | "live_mode") ??
    "test_mode",
});
export const { checkout, customerPortal } = dodo.api();
</file>

<file path="convex/emails.ts">
import { v } from "convex/values";
import { action } from "./_generated/server";
export const sendContactEmail = action({
  args: {
    name: v.string(),
    email: v.string(),
    subject: v.string(),
    message: v.string(),
  },
  handler: async (_ctx, args) => {
    const resendApiKey = process.env.RESEND_API_KEY;
    if (!resendApiKey) {
      throw new Error("RESEND_API_KEY not configured");
    }
    try {
      const response = await fetch("https://api.resend.com/emails", {
        method: "POST",
        headers: {
          Authorization: `Bearer ${resendApiKey}`,
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          from: "Phage <onboarding@resend.dev>",
          to: ["contact@yourcompany.com"],
          reply_to: args.email,
          subject: `[Contact Form] ${args.subject}`,
          html: `
            <h2>New Contact Form Submission</h2>
            <p><strong>From:</strong> ${args.name} (${args.email})</p>
            <p><strong>Subject:</strong> ${args.subject}</p>
            <hr />
            <p>${args.message.replace(/\n/g, "<br>")}</p>
          `,
        }),
      });
      if (!response.ok) {
        const error = await response.text();
        console.error("Resend API error:", error);
        throw new Error(`Failed to send email: ${error}`);
      }
      const data = await response.json();
      console.log("Email sent successfully:", data);
      return { success: true, id: data.id };
    } catch (error) {
      console.error("Error sending email:", error);
      throw error;
    }
  },
});
</file>

<file path="convex/tsconfig.json">
{
  /* This TypeScript project config describes the environment that
   * Convex functions run in and is used to typecheck them.
   * You can modify it, but some settings are required to use Convex.
   */
  "compilerOptions": {
    /* These settings are not required by Convex and can be modified. */
    "allowJs": true,
    "strict": true,
    "moduleResolution": "Bundler",
    "jsx": "react-jsx",
    "skipLibCheck": true,
    "allowSyntheticDefaultImports": true,

    /* These compiler options are required by Convex */
    "target": "ESNext",
    "lib": ["ES2021", "dom"],
    "forceConsistentCasingInFileNames": true,
    "module": "ESNext",
    "isolatedModules": true,
    "noEmit": true
  },
  "include": ["./**/*"],
  "exclude": ["./_generated"]
}
</file>

<file path="src/components/MolstarViewer.tsx">
"use client";
import type { PluginUIContext } from "molstar/lib/mol-plugin-ui/context";
import { forwardRef, useEffect, useImperativeHandle, useRef } from "react";
interface MolstarViewerProps {
  pdbId: string;
  className?: string;
}
export interface MolstarViewerRef {
  setRepresentation: (type: "cartoon" | "ball-and-stick" | "surface") => void;
  setColor: (color: "chain" | "element" | "rainbow") => void;
  resetZoom: () => void;
}
const MolstarViewer = forwardRef<MolstarViewerRef, MolstarViewerProps>(
  ({ pdbId, className }, ref) => {
    const containerRef = useRef<HTMLDivElement>(null);
    const pluginRef = useRef<PluginUIContext | null>(null);
    useImperativeHandle(ref, () => ({
      setRepresentation: async (type) => {
        const plugin = pluginRef.current;
        if (!plugin) return;
        try {
          const hierarchy = plugin.managers.structure.hierarchy.current;
          const structureRefs = hierarchy.structures;
          if (!structureRefs || structureRefs.length === 0) return;
          const presetMap: Record<string, string> = {
            cartoon: "polymer-and-ligand",
            "ball-and-stick": "atomic-detail",
            surface: "molecular-surface",
          };
          const presetName = presetMap[type] || "polymer-and-ligand";
          const { PresetStructureRepresentations } = await import(
            "molstar/lib/mol-plugin-state/builder/structure/representation-preset"
          );
          const preset =
            PresetStructureRepresentations[
              presetName as keyof typeof PresetStructureRepresentations
            ];
          if (preset && structureRefs.length > 0) {
            await plugin.managers.structure.component.applyPreset(
              structureRefs,
              preset,
            );
          }
        } catch (err) {
          console.warn("Could not change representation:", err);
        }
      },
      setColor: async (colorScheme) => {
        const plugin = pluginRef.current;
        if (!plugin) return;
        try {
          const colorMap: Record<string, string> = {
            chain: "chain-id",
            element: "element-symbol",
            rainbow: "sequence-id",
          };
          const colorName = colorMap[colorScheme] || "chain-id";
          const structures =
            plugin.managers.structure.hierarchy.current.structures;
          if (structures.length === 0) return;
          for (const structure of structures) {
            for (const component of structure.components) {
              await plugin.managers.structure.component.updateRepresentationsTheme(
                [component],
                { color: colorName as never },
              );
            }
          }
        } catch (err) {
          console.warn("Could not change color:", err);
        }
      },
      resetZoom: () => {
        const plugin = pluginRef.current;
        if (!plugin) return;
        plugin.canvas3d?.requestCameraReset();
      },
    }));
    useEffect(() => {
      let mounted = true;
      const initViewer = async () => {
        if (!containerRef.current || pluginRef.current) return;
        const { createPluginUI } = await import("molstar/lib/mol-plugin-ui");
        const { renderReact18 } = await import(
          "molstar/lib/mol-plugin-ui/react18"
        );
        const { DefaultPluginUISpec } = await import(
          "molstar/lib/mol-plugin-ui/spec"
        );
        const { PluginConfig } = await import("molstar/lib/mol-plugin/config");
        if (!mounted || !containerRef.current) return;
        const plugin = await createPluginUI({
          target: containerRef.current,
          spec: {
            ...DefaultPluginUISpec(),
            config: [
              [PluginConfig.Viewport.ShowExpand, false],
              [PluginConfig.Viewport.ShowControls, false],
              [PluginConfig.Viewport.ShowSelectionMode, false],
              [PluginConfig.Viewport.ShowAnimation, false],
              [PluginConfig.Viewport.ShowSettings, false],
            ] as never,
            layout: {
              initial: {
                isExpanded: false,
                showControls: false,
                controlsDisplay: "reactive" as const,
                regionState: {
                  left: "hidden" as const,
                  right: "hidden" as const,
                  top: "hidden" as const,
                  bottom: "hidden" as const,
                },
              },
            },
            components: {
              remoteState: "none",
            },
          },
          render: renderReact18,
        });
        if (!mounted) {
          plugin.dispose();
          return;
        }
        pluginRef.current = plugin;
        plugin.layout.setProps({
          showControls: false,
          regionState: {
            left: "hidden",
            right: "hidden",
            top: "hidden",
            bottom: "hidden",
          },
        });
        const url = `https://files.rcsb.org/download/${pdbId}.cif`;
        const data = await plugin.builders.data.download(
          { url, isBinary: false },
          { state: { isGhost: true } },
        );
        const trajectory = await plugin.builders.structure.parseTrajectory(
          data,
          "mmcif",
        );
        await plugin.builders.structure.hierarchy.applyPreset(
          trajectory,
          "default",
        );
        plugin.canvas3d?.setProps({
          trackball: {
            animate: {
              name: "spin",
              params: { speed: 0.1 },
            },
          },
        });
      };
      initViewer();
      return () => {
        mounted = false;
        if (pluginRef.current) {
          pluginRef.current.dispose();
          pluginRef.current = null;
        }
      };
    }, [pdbId]);
    return (
      <div
        ref={containerRef}
        className={className}
        style={{ position: "relative", width: "100%", height: "100%" }}
      />
    );
  },
);
MolstarViewer.displayName = "MolstarViewer";
export default MolstarViewer;
</file>

<file path="src/components/SecurityInit.tsx">
"use client";
import { useEffect } from "react";
import { initSecurity } from "@/lib/security";
export default function SecurityInit() {
  useEffect(() => {
    initSecurity();
  }, []);
  return null;
}
</file>

<file path="src/components/themeprovider.tsx">
"use client";
import { ThemeProvider as NextThemesProvider } from "next-themes";
import type { ReactNode } from "react";
export function ThemeProvider({ children }: { children: ReactNode }) {
  return (
    <NextThemesProvider attribute="class" defaultTheme="system" enableSystem>
      {children}
    </NextThemesProvider>
  );
}
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}
</file>

<file path=".gitignore">
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files (can opt-in for committing if needed)
# .env*

# vercel
.vercel
.agent
# typescript
*.tsbuildinfo
next-env.d.ts
repo*
.env.local
convex/_generated
deleteproject.py
nul
public
tsc_output.txt
</file>

<file path="convex/auth.config.ts">
export default {
  providers: [
    {
      domain: process.env.NEXT_PUBLIC_CONVEX_SITE_URL || "http://localhost:3210",
      applicationID: "convex",
    },
  ],
};
</file>

<file path="convex/auth.ts">
import { createClient, type GenericCtx } from "@convex-dev/better-auth";
import { convex, crossDomain } from "@convex-dev/better-auth/plugins";
import { betterAuth } from "better-auth";
import { components } from "./_generated/api";
import type { DataModel } from "./_generated/dataModel";
import { query } from "./_generated/server";
import authConfig from "./auth.config";
const convexSiteUrl = process.env.NEXT_PUBLIC_CONVEX_SITE_URL || "http://localhost:3210";
export const authComponent = createClient<DataModel>(components.betterAuth);
import {
  checkout,
  dodopayments,
  portal,
  usage,
  webhooks,
} from "@dodopayments/better-auth";
import DodoPayments from "dodopayments";
export const createAuth = (
  ctx: GenericCtx<DataModel>,
  { optionsOnly } = { optionsOnly: false },
) => {
  const dodoClient = new DodoPayments({
    bearerToken: process.env.DODO_PAYMENTS_API_KEY || "dummy",
    environment:
      (process.env.DODO_PAYMENTS_ENVIRONMENT as "live_mode" | "test_mode") ||
      "test_mode",
  });
  return betterAuth({
    logger: {
      disabled: optionsOnly,
    },
    baseURL: convexSiteUrl,
    trustedOrigins: [convexSiteUrl],
    database: authComponent.adapter(ctx),
    emailAndPassword: {
      enabled: true,
      requireEmailVerification: false,
      minPasswordLength: 12,
    },
    plugins: [
      crossDomain({ siteUrl: convexSiteUrl as string }),
      convex({ authConfig }),
      dodopayments({
        client: dodoClient,
        createCustomerOnSignUp: true,
        use: [
          checkout({
            products: [],
            successUrl: "/dashboard/success",
            authenticatedUsersOnly: true,
          }),
          portal(),
          webhooks({
            webhookKey: process.env.DODO_PAYMENTS_WEBHOOK_SECRET || "dummy",
            onPayload: async (payload) => {
              console.log("Received webhook in better-auth:", payload.type);
            },
          }),
          usage(),
        ],
      }),
    ],
    session: {
      expiresIn: 60 * 60 * 24 * 7,
      updateAge: 60 * 60 * 24,
    },
    rateLimit: {
      enabled: true,
      window: 60,
      max: 10,
    },
    user: {
      additionalFields: {
        credits: {
          type: "number",
          defaultValue: 0,
        },
      },
    },
  });
};
export const getCurrentUser = query({
  args: {},
  handler: async (ctx) => {
    const identity = await ctx.auth.getUserIdentity();
    if (!identity) {
      return null;
    }
    return {
      id: identity.subject,
      email: identity.email,
      name: identity.name,
      image: identity.pictureUrl,
    };
  },
});
export const getAuthUserId = async (
  ctx: GenericCtx<DataModel>,
): Promise<string> => {
  const identity = await ctx.auth.getUserIdentity();
  if (!identity) {
    throw new Error("Not authenticated");
  }
  return identity.subject;
};
</file>

<file path="convex/convex.config.ts">
import betterAuth from "@convex-dev/better-auth/convex.config";
import dodopayments from "@dodopayments/convex/convex.config";
import { defineApp } from "convex/server";
const app = defineApp();
app.use(dodopayments);
app.use(betterAuth);
export default app;
</file>

<file path="convex/http.ts">
import { createDodoWebhookHandler } from "@dodopayments/convex";
import { httpRouter } from "convex/server";
import { api } from "./_generated/api";
import { authComponent, createAuth } from "./auth";
const http = httpRouter();
authComponent.registerRoutes(http, createAuth, { cors: true });
http.route({
  path: "/dodopayments-webhook",
  method: "POST",
  handler: createDodoWebhookHandler({
    onPaymentSucceeded: async (ctx, payload) => {
      const metadata = (payload?.data as any)?.metadata ?? {};
      const userId: string | undefined =
        metadata.user_id ?? metadata.userId ?? metadata.customer_id;
      const creditsRaw: string | number | undefined =
        metadata.credits ?? metadata.credit_amount;
      const credits = Number(creditsRaw);
      const paymentId = payload.data?.payment_id ?? "unknown";
      const amountInCents = (payload.data as any)?.amount ?? 0;
      const paymentMethod = (payload.data as any)?.payment_method ?? undefined;
      try {
        await ctx.runMutation(api.payments.logPaymentEvent, {
          eventId: paymentId,
          type: payload.type ?? "payment.succeeded",
          paymentId,
          userId: userId ? (userId as any) : undefined,
          credits,
        });
      } catch {}
      if (userId && paymentId) {
        try {
          await ctx.runMutation(api.payments.storePaymentTransaction, {
            userId: userId as any,
            paymentId,
            credits: credits || 0,
            amountInCents,
            status: "succeeded",
            paymentMethod,
            transactionId: paymentId,
            metadata: payload.data,
          });
        } catch {}
      }
      if (userId && Number.isFinite(credits) && credits > 0) {
        try {
          await ctx.runMutation(api.payments.applyCreditsToUser, {
            userId: userId as any,
            credits,
          });
          await ctx.runMutation(api.payments.logPaymentEvent, {
            eventId: `${paymentId as string}:resolved`,
            type: "payment.credited",
            paymentId,
            userId: userId as any,
            credits,
          });
        } catch {}
      }
    },
    onPaymentFailed: async (ctx, payload) => {
      const metadata = (payload?.data as any)?.metadata ?? {};
      const userId: string | undefined =
        metadata.user_id ?? metadata.userId ?? metadata.customer_id;
      const creditsRaw: string | number | undefined =
        metadata.credits ?? metadata.credit_amount;
      const _credits = Number(creditsRaw);
      const paymentId = payload.data?.payment_id ?? "unknown";
      const amountInCents = (payload.data as any)?.amount ?? 0;
      try {
        await ctx.runMutation(api.payments.logPaymentEvent, {
          eventId: paymentId,
          type: payload.type ?? "payment.failed",
          paymentId,
          userId: userId ? (userId as any) : undefined,
          credits: 0,
        });
      } catch {}
      if (userId && paymentId) {
        try {
          await ctx.runMutation(api.payments.storePaymentTransaction, {
            userId: userId as any,
            paymentId,
            credits: 0,
            amountInCents,
            status: "failed",
            transactionId: paymentId,
            metadata: payload.data,
          });
        } catch {}
      }
    },
    onRefundSucceeded: async (ctx, payload) => {
      const metadata = (payload?.data as any)?.metadata ?? {};
      const userId: string | undefined =
        metadata.user_id ?? metadata.userId ?? metadata.customer_id;
      const creditsRaw: string | number | undefined =
        metadata.credits ?? metadata.credit_amount;
      const credits = Number(creditsRaw);
      const paymentId = (payload.data as any)?.payment_id ?? "unknown";
      try {
        await ctx.runMutation(api.payments.logPaymentEvent, {
          eventId: `${paymentId}:refund`,
          type: "refund.succeeded",
          paymentId,
          userId: userId ? (userId as any) : undefined,
          credits,
        });
      } catch {}
    },
  }),
});
export default http;
</file>

<file path="convex/payments.ts">
import { v } from "convex/values";
import { internal } from "./_generated/api";
import { action, internalQuery, mutation } from "./_generated/server";
export const createCheckoutSession = action({
  args: {
    userId: v.id("users"),
    credits: v.number(),
    currency: v.optional(v.string()),
    billingAddress: v.optional(
      v.object({
        street: v.optional(v.string()),
        city: v.optional(v.string()),
        state: v.optional(v.string()),
        postalCode: v.optional(v.string()),
        country: v.optional(v.string()),
      }),
    ),
    paymentMethods: v.optional(v.array(v.string())),
  },
  handler: async (ctx, args) => {
    const apiKey = process.env.DODO_PAYMENTS_API_KEY;
    const productId = process.env.DODO_PAYMENTS_PRODUCT_ID;
    const returnUrl = process.env.DODO_PAYMENTS_RETURN_URL;
    if (!(apiKey && productId && returnUrl)) {
      throw new Error(
        "Dodo Payments env is not configured. Please set DODO_PAYMENTS_API_KEY, DODO_PAYMENTS_PRODUCT_ID, DODO_PAYMENTS_RETURN_URL",
      );
    }
    if (!Number.isFinite(args.credits) || args.credits <= 0) {
      throw new Error("credits must be a positive number");
    }
    const user = await ctx.runQuery((internal as any).payments.getUser, {
      userId: args.userId,
    });
    if (!user) {
      throw new Error("User not found");
    }
    const { email: userEmail, name: userName, _id: userId } = user;
    const amountInCents = Math.round((args.credits / 10) * 100);
    const environment = process.env.DODO_PAYMENTS_ENVIRONMENT || "test_mode";
    const baseUrl =
      environment === "live_mode"
        ? "https://live.dodopayments.com"
        : "https://test.dodopayments.com";
    const billingCurrency = args.currency || "USD";
    const paymentMethods = args.paymentMethods || ["credit", "debit"];
    const billing_address = args.billingAddress
      ? {
          street: args.billingAddress.street,
          city: args.billingAddress.city,
          state: args.billingAddress.state,
          zipcode: args.billingAddress.postalCode,
          country: args.billingAddress.country,
        }
      : undefined;
    const idempotencyKey = (
      globalThis.crypto?.randomUUID?.() ?? `${Date.now()}-${Math.random()}`
    ).toString();
    const maxRetries = 2;
    const timeoutMs = 15_000;
    async function postWithRetry(): Promise<Response> {
      let lastErr: unknown;
      for (let attempt = 0; attempt <= maxRetries; attempt++) {
        const controller = new AbortController();
        const timer = setTimeout(() => controller.abort(), timeoutMs);
        try {
          const res = await fetch(`${baseUrl}/checkouts`, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${apiKey}`,
              "Idempotency-Key": idempotencyKey,
            },
            signal: controller.signal,
            body: JSON.stringify({
              product_cart: [
                {
                  product_id: productId,
                  quantity: 1,
                  amount: amountInCents,
                },
              ],
              customer: {
                email: userEmail,
                name: userName,
              },
              allowed_payment_method_types: paymentMethods,
              return_url: returnUrl,
              billing_currency: billingCurrency,
              ...(billing_address ? { billing_address } : {}),
              metadata: {
                user_id: String(userId),
                credits: String(args.credits),
                source: "phage_web",
              },
            }),
          });
          clearTimeout(timer);
          if (res.status >= 500 && res.status < 600 && attempt < maxRetries) {
            const jitter =
              200 * (attempt + 1) + Math.floor(Math.random() * 200);
            await new Promise((r) => setTimeout(r, jitter));
            continue;
          }
          return res;
        } catch (e) {
          clearTimeout(timer);
          lastErr = e;
          if (attempt < maxRetries) {
            const jitter =
              250 * (attempt + 1) + Math.floor(Math.random() * 250);
            await new Promise((r) => setTimeout(r, jitter));
            continue;
          }
          throw e;
        }
      }
      throw lastErr instanceof Error
        ? lastErr
        : new Error("Unknown network error");
    }
    const response = await postWithRetry();
    if (!response.ok) {
      const errorText = await response.text().catch(() => "");
      throw new Error(
        `Dodo API error: ${response.status} - ${errorText || "Unknown error"}`,
      );
    }
    const session = await response.json();
    return {
      checkout_url: (session as any).checkout_url,
      session_id: (session as any).session_id,
    };
  },
});
export const logPaymentEvent = mutation({
  args: {
    eventId: v.string(),
    type: v.string(),
    paymentId: v.optional(v.string()),
    userId: v.optional(v.id("users")),
    credits: v.optional(v.number()),
  },
  handler: async (ctx, args) => {
    await ctx.db.insert("paymentEvents", {
      eventId: args.eventId,
      type: args.type,
      paymentId: args.paymentId,
      userId: args.userId,
      credits: args.credits,
      createdAt: Date.now(),
    });
  },
});
export const applyCreditsToUser = mutation({
  args: {
    userId: v.id("users"),
    credits: v.number(),
  },
  handler: async (ctx, args) => {
    if (args.credits <= 0) {
      return;
    }
    const user = await ctx.db.get(args.userId);
    if (!user) {
      return;
    }
    await ctx.db.patch(args.userId, { credits: user.credits + args.credits });
  },
});
export const storePaymentTransaction = mutation({
  args: {
    userId: v.id("users"),
    paymentId: v.string(),
    credits: v.number(),
    amountInCents: v.number(),
    status: v.string(),
    paymentMethod: v.optional(v.string()),
    transactionId: v.optional(v.string()),
    metadata: v.optional(v.any()),
  },
  handler: async (ctx, args) => {
    await ctx.db.insert("paymentTransactions", {
      userId: args.userId,
      paymentId: args.paymentId,
      credits: args.credits,
      amountInCents: args.amountInCents,
      status: args.status,
      paymentMethod: args.paymentMethod,
      transactionId: args.transactionId,
      metadata: args.metadata,
      createdAt: Date.now(),
    });
  },
});
export const getUser = internalQuery({
  args: { userId: v.id("users") },
  handler: async (ctx, args) => {
    return await ctx.db.get(args.userId);
  },
});
export const createCheckout = createCheckoutSession;
</file>

<file path="convex/README.md">
# Welcome to your Convex functions directory!

Write your Convex functions here.
See https://docs.convex.dev/functions for more.

A query function that takes two arguments looks like:

```ts
// convex/myFunctions.ts
import { query } from "./_generated/server";
import { v } from "convex/values";

export const myQueryFunction = query({
  // Validators for arguments.
  args: {
    first: v.number(),
    second: v.string(),
  },

  // Function implementation.
  handler: async (ctx, args) => {
    // Read the database as many times as you need here.
    // See https://docs.convex.dev/database/reading-data.
    const documents = await ctx.db.query("tablename").collect();

    // Arguments passed from the client are properties of the args object.
    console.log(args.first, args.second);

    // Write arbitrary JavaScript here: filter, aggregate, build derived data,
    // remove non-public properties, or create new objects.
    return documents;
  },
});
```

Using this query function in a React component looks like:

```ts
const data = useQuery(api.myFunctions.myQueryFunction, {
  first: 10,
  second: "hello",
});
```

A mutation function looks like:

```ts
// convex/myFunctions.ts
import { mutation } from "./_generated/server";
import { v } from "convex/values";

export const myMutationFunction = mutation({
  // Validators for arguments.
  args: {
    first: v.string(),
    second: v.string(),
  },

  // Function implementation.
  handler: async (ctx, args) => {
    // Insert or modify documents in the database here.
    // Mutations can also read from the database like queries.
    // See https://docs.convex.dev/database/writing-data.
    const message = { body: args.first, author: args.second };
    const id = await ctx.db.insert("messages", message);

    // Optionally, return a value from your mutation.
    return await ctx.db.get("messages", id);
  },
});
```

Using this mutation function in a React component looks like:

```ts
const mutation = useMutation(api.myFunctions.myMutationFunction);
function handleButtonPress() {
  // fire and forget, the most common way to use mutations
  mutation({ first: "Hello!", second: "me" });
  // OR
  // use the result once the mutation has completed
  mutation({ first: "Hello!", second: "me" }).then((result) =>
    console.log(result),
  );
}
```

Use the Convex CLI to push your functions to a deployment. See everything
the Convex CLI can do by running `npx convex -h` in your project root
directory. To learn more, launch the docs with `npx convex docs`.
</file>

<file path="convex/schema.ts">
import { defineSchema, defineTable } from "convex/server";
import { v } from "convex/values";
export default defineSchema({
  users: defineTable({
    email: v.string(),
    name: v.string(),
    credits: v.number(),
    passwordHash: v.string(),
    createdAt: v.number(),
    authId: v.optional(v.string()),
    dodoCustomerId: v.optional(v.string()),
  })
    .index("by_email", ["email"])
    .index("by_auth_id", ["authId"]),
  simulations: defineTable({
    userId: v.id("users"),
    name: v.string(),
    status: v.union(
      v.literal("pending"),
      v.literal("running"),
      v.literal("completed"),
      v.literal("failed"),
    ),
    progress: v.number(),
    pdbFile: v.optional(v.string()),
    sdfFile: v.optional(v.string()),
    parameters: v.object({
      temperature: v.number(),
      duration: v.number(),
      timestep: v.number(),
      ensemble: v.string(),
    }),
    equilibration: v.optional(
      v.object({
        enabled: v.boolean(),
        time: v.optional(v.number()),
        temperature: v.optional(v.number()),
        pressure: v.optional(v.number()),
        timestep: v.optional(v.number()),
      }),
    ),
    creditsUsed: v.number(),
    createdAt: v.number(),
    completedAt: v.optional(v.number()),
    results: v.optional(
      v.object({
        energyData: v.array(v.number()),
        trajectoryUrl: v.optional(v.string()),
      }),
    ),
  })
    .index("by_user", ["userId"])
    .index("by_status", ["status"]),
  contactMessages: defineTable({
    name: v.string(),
    email: v.string(),
    subject: v.string(),
    message: v.string(),
    createdAt: v.number(),
    status: v.union(
      v.literal("pending"),
      v.literal("sent"),
      v.literal("failed"),
    ),
  }).index("by_status", ["status"]),
  auditLogs: defineTable({
    userId: v.optional(v.id("users")),
    action: v.string(),
    resource: v.string(),
    resourceId: v.optional(v.string()),
    status: v.union(v.literal("success"), v.literal("failure")),
    details: v.optional(v.any()),
    timestamp: v.number(),
  })
    .index("by_user", ["userId"])
    .index("by_timestamp", ["timestamp"]),
  paymentEvents: defineTable({
    eventId: v.string(),
    paymentId: v.optional(v.string()),
    type: v.string(),
    userId: v.optional(v.id("users")),
    credits: v.optional(v.number()),
    createdAt: v.number(),
  })
    .index("by_event_id", ["eventId"])
    .index("by_payment_id", ["paymentId"]),
  paymentTransactions: defineTable({
    userId: v.id("users"),
    paymentId: v.string(),
    credits: v.number(),
    amountInCents: v.number(),
    status: v.string(),
    paymentMethod: v.optional(v.string()),
    transactionId: v.optional(v.string()),
    metadata: v.optional(v.any()),
    createdAt: v.number(),
  })
    .index("by_user", ["userId"])
    .index("by_payment_id", ["paymentId"])
    .index("by_status", ["status"]),
  rateLimits: defineTable({
    identifier: v.string(),
    action: v.string(),
    timestamp: v.number(),
  })
    .index("by_identifier_timestamp", ["identifier", "timestamp"])
    .index("by_timestamp", ["timestamp"]),
  securityLogs: defineTable({
    eventType: v.string(),
    userId: v.optional(v.string()),
    ipAddress: v.optional(v.string()),
    details: v.optional(v.string()),
    severity: v.union(
      v.literal("info"),
      v.literal("warning"),
      v.literal("error"),
      v.literal("critical"),
    ),
    timestamp: v.number(),
  })
    .index("by_timestamp", ["timestamp"])
    .index("by_severity", ["severity"])
    .index("by_user", ["userId"]),
});
</file>

<file path="convex/security.ts">
import { v } from "convex/values";
import { mutation, query } from "./_generated/server";
const SECURITY_CONFIG = {
  allowedOrigins: ["*"],
  signatureValidityWindow: 5 * 60 * 1000,
  maxRequestsPerMinute: 60,
  maxRequestsPerHour: 1000,
};
export function validateOrigin(origin: string | null): boolean {
  if (!origin) return false;
  if (process.env.NODE_ENV === "development") {
    return origin.includes("localhost") || origin.includes("127.0.0.1");
  }
  return SECURITY_CONFIG.allowedOrigins.some(
    (allowed) => origin === allowed || origin.startsWith(allowed),
  );
}
export function generateNonce(): string {
  const timestamp = Date.now();
  const random = Math.random().toString(36).substring(2, 15);
  return `${timestamp}-${random}`;
}
export function validateTimestamp(timestamp: number): boolean {
  const now = Date.now();
  const diff = Math.abs(now - timestamp);
  return diff < SECURITY_CONFIG.signatureValidityWindow;
}
export function getSecurityHeaders() {
  return {
    "X-Frame-Options": "DENY",
    "X-Content-Type-Options": "nosniff",
    "X-XSS-Protection": "1; mode=block",
    "Referrer-Policy": "strict-origin-when-cross-origin",
    "Permissions-Policy": "geolocation=(), microphone=(), camera=()",
    "Content-Security-Policy": [
      "default-src 'self'",
      `connect-src 'self' ${process.env.VITE_CONVEX_URL || ""} https://*.convex.cloud`,
      "script-src 'self' 'unsafe-inline' 'unsafe-eval'",
      "style-src 'self' 'unsafe-inline' https://fonts.googleapis.com",
      "font-src 'self' https://fonts.gstatic.com",
      "img-src 'self' data: https:",
      "frame-ancestors 'none'",
    ].join("; "),
    "Strict-Transport-Security": "max-age=31536000; includeSubDomains; preload",
  };
}
export const checkRateLimit = mutation({
  args: {
    identifier: v.string(),
    action: v.string(),
  },
  handler: async (ctx, args) => {
    const now = Date.now();
    const oneMinuteAgo = now - 60 * 1000;
    const oneHourAgo = now - 60 * 60 * 1000;
    const recentRequests = await ctx.db
      .query("rateLimits")
      .withIndex("by_identifier_timestamp", (q) =>
        q.eq("identifier", args.identifier).gt("timestamp", oneHourAgo),
      )
      .collect();
    const requestsLastMinute = recentRequests.filter(
      (r) => r.timestamp > oneMinuteAgo,
    ).length;
    const requestsLastHour = recentRequests.length;
    if (requestsLastMinute >= SECURITY_CONFIG.maxRequestsPerMinute) {
      throw new Error("Rate limit exceeded: too many requests per minute");
    }
    if (requestsLastHour >= SECURITY_CONFIG.maxRequestsPerHour) {
      throw new Error("Rate limit exceeded: too many requests per hour");
    }
    await ctx.db.insert("rateLimits", {
      identifier: args.identifier,
      action: args.action,
      timestamp: now,
    });
    return { allowed: true };
  },
});
export function sanitizeInput(input: string): string {
  return input
    .replace(/[<>]/g, "") // Remove HTML tags
    .replace(/javascript:/gi, "") // Remove javascript: protocol
    .replace(/on\w+=/gi, "") // Remove event handlers
    .trim();
}
/**
 * Email validation regex (defined at module level for performance)
 */
const EMAIL_REGEX = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
/**
 * Validate email format
 */
export function isValidEmail(email: string): boolean {
  return EMAIL_REGEX.test(email);
}
/**
 * Get client IP from request headers
 */
export function getClientIP(headers: Headers): string {
  return (
    headers.get("x-forwarded-for")?.split(",")[0] ||
    headers.get("x-real-ip") ||
    "unknown"
  );
}
export const logSecurityEvent = mutation({
  args: {
    eventType: v.string(),
    userId: v.optional(v.string()),
    ipAddress: v.optional(v.string()),
    details: v.optional(v.string()),
    severity: v.union(
      v.literal("info"),
      v.literal("warning"),
      v.literal("error"),
      v.literal("critical"),
    ),
  },
  handler: async (ctx, args) => {
    await ctx.db.insert("securityLogs", {
      eventType: args.eventType,
      userId: args.userId,
      ipAddress: args.ipAddress,
      details: args.details,
      severity: args.severity,
      timestamp: Date.now(),
    });
  },
});
export const getSecurityLogs = query({
  args: {
    limit: v.optional(v.number()),
    severity: v.optional(
      v.union(
        v.literal("info"),
        v.literal("warning"),
        v.literal("error"),
        v.literal("critical"),
      ),
    ),
  },
  handler: async (ctx, args) => {
    const limit = args.limit || 100;
    let logsQuery = ctx.db.query("securityLogs").order("desc");
    if (args.severity) {
      logsQuery = logsQuery.filter((q) =>
        q.eq(q.field("severity"), args.severity),
      );
    }
    return await logsQuery.take(limit);
  },
});
</file>

<file path="convex/simulations.ts">
import { v } from "convex/values";
import type { Id } from "./_generated/dataModel";
import { mutation, query } from "./_generated/server";
export const createSimulation = mutation({
  args: {
    name: v.string(),
    parameters: v.object({
      temperature: v.number(),
      duration: v.number(),
      timestep: v.number(),
      ensemble: v.string(),
    }),
    equilibration: v.optional(
      v.object({
        enabled: v.boolean(),
        time: v.optional(v.number()),
        temperature: v.optional(v.number()),
        pressure: v.optional(v.number()),
        timestep: v.optional(v.number()),
      }),
    ),
    pdbFile: v.optional(v.string()),
    sdfFile: v.optional(v.string()),
    creditsUsed: v.number(),
  },
  handler: async (ctx, args) => {
    const identity = await ctx.auth.getUserIdentity();
    if (!identity) {
      throw new Error("Unauthorized - please sign in");
    }
    const userId = identity.subject as Id<"users">;
    if (!args.name || args.name.length > 255) {
      throw new Error("Invalid simulation name");
    }
    if (args.creditsUsed <= 0 || !Number.isFinite(args.creditsUsed)) {
      throw new Error("Invalid credits amount");
    }
    const { temperature, duration, timestep, ensemble } = args.parameters;
    if (temperature < 0 || temperature > 10_000) {
      throw new Error("Temperature out of valid range (0-10000)");
    }
    if (duration < 1 || duration > 1_000_000) {
      throw new Error("Duration out of valid range (1-1000000)");
    }
    if (timestep <= 0 || timestep > 10) {
      throw new Error("Timestep out of valid range (0-10)");
    }
    if (!["NPT", "NVT", "NVE"].includes(ensemble)) {
      throw new Error("Invalid ensemble type");
    }
    if (args.pdbFile && args.pdbFile.length > 5 * 1024 * 1024) {
      throw new Error("PDB file too large (max 5MB)");
    }
    if (args.sdfFile && args.sdfFile.length > 5 * 1024 * 1024) {
      throw new Error("SDF file too large (max 5MB)");
    }
    const user = await ctx.db.get(userId);
    if (!user) {
      throw new Error("User not found");
    }
    if (user.credits < args.creditsUsed) {
      throw new Error("Insufficient credits");
    }
    await ctx.db.patch(userId, {
      credits: user.credits - args.creditsUsed,
    });
    const simulationId = await ctx.db.insert("simulations", {
      userId,
      name: args.name,
      status: "pending",
      progress: 0,
      parameters: args.parameters,
      equilibration: args.equilibration,
      pdbFile: args.pdbFile,
      sdfFile: args.sdfFile,
      creditsUsed: args.creditsUsed,
      createdAt: Date.now(),
    });
    await ctx.db.insert("auditLogs", {
      userId,
      action: "createSimulation",
      resource: "simulations",
      resourceId: simulationId,
      status: "success",
      timestamp: Date.now(),
      details: { creditsUsed: args.creditsUsed, simulationName: args.name },
    });
    return simulationId;
  },
});
export const getUserSimulations = query({
  args: {},
  handler: async (ctx) => {
    const identity = await ctx.auth.getUserIdentity();
    if (!identity) {
      throw new Error("Unauthorized - please sign in");
    }
    const userId = identity.subject as Id<"users">;
    const simulations = await ctx.db
      .query("simulations")
      .withIndex("by_user", (q) => q.eq("userId", userId))
      .order("desc")
      .collect();
    return simulations;
  },
});
export const getSimulation = query({
  args: { simulationId: v.id("simulations") },
  handler: async (ctx, args) => {
    const identity = await ctx.auth.getUserIdentity();
    if (!identity) {
      throw new Error("Unauthorized - please sign in");
    }
    const userId = identity.subject as Id<"users">;
    const simulation = await ctx.db.get(args.simulationId);
    if (!simulation) {
      throw new Error("Simulation not found");
    }
    if (simulation.userId !== userId) {
      throw new Error("Unauthorized - you don't own this simulation");
    }
    return simulation;
  },
});
export const updateSimulationStatus = mutation({
  args: {
    simulationId: v.id("simulations"),
    status: v.union(
      v.literal("pending"),
      v.literal("running"),
      v.literal("completed"),
      v.literal("failed"),
    ),
    progress: v.optional(v.number()),
    results: v.optional(
      v.object({
        energyData: v.array(v.number()),
        trajectoryUrl: v.optional(v.string()),
      }),
    ),
  },
  handler: async (ctx, args) => {
    if (
      args.progress !== undefined &&
      (args.progress < 0 || args.progress > 100)
    ) {
      throw new Error("Progress must be between 0 and 100");
    }
    const simulation = await ctx.db.get(args.simulationId);
    if (!simulation) {
      throw new Error("Simulation not found");
    }
    const updates: any = {
      status: args.status,
    };
    if (args.progress !== undefined) {
      updates.progress = args.progress;
    }
    if (args.results) {
      updates.results = args.results;
    }
    if (args.status === "completed" || args.status === "failed") {
      updates.completedAt = Date.now();
    }
    await ctx.db.patch(args.simulationId, updates);
    await ctx.db.insert("auditLogs", {
      userId: simulation.userId,
      action: "updateSimulationStatus",
      resource: "simulations",
      resourceId: args.simulationId,
      status: "success",
      timestamp: Date.now(),
      details: { newStatus: args.status, progress: args.progress },
    });
  },
});
export const deleteSimulation = mutation({
  args: { simulationId: v.id("simulations") },
  handler: async (ctx, args) => {
    const identity = await ctx.auth.getUserIdentity();
    if (!identity) {
      throw new Error("Unauthorized - please sign in");
    }
    const userId = identity.subject as Id<"users">;
    const simulation = await ctx.db.get(args.simulationId);
    if (!simulation) {
      throw new Error("Simulation not found");
    }
    if (simulation.userId !== userId) {
      throw new Error("Unauthorized - you don't own this simulation");
    }
    await ctx.db.delete(args.simulationId);
    await ctx.db.insert("auditLogs", {
      userId: simulation.userId,
      action: "deleteSimulation",
      resource: "simulations",
      resourceId: args.simulationId,
      status: "success",
      timestamp: Date.now(),
    });
  },
});
</file>

<file path="src/app/auth/page.tsx">
"use client";
import {
  ArrowLeft,
  CheckCircle,
  Dna,
  Eye,
  EyeOff,
  Sparkles,
} from "lucide-react";
import { useRouter } from "next/navigation";
import { useEffect, useState } from "react";
import { NavLink } from "@/components/NavLink";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { useAuth } from "@/lib/auth";
export default function Auth() {
  const [isSignUp, setIsSignUp] = useState(false);
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [name, setName] = useState("");
  const [showPassword, setShowPassword] = useState(false);
  const [isVisible, setIsVisible] = useState(false);
  const { user, signIn, signUp, isLoading } = useAuth();
  const router = useRouter();
  useEffect(() => {
    setIsVisible(true);
  }, []);
  if (user) {
    router.replace("/");
    return null;
  }
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    try {
      if (isSignUp) {
        await signUp(email, password, name);
      } else {
        await signIn(email, password);
      }
      router.push("/");
    } catch (_error) {
      // Error handled in auth context
    }
  };
  const passwordRequirements = [
    { label: "At least 12 characters", valid: password.length >= 12 },
    { label: "Uppercase letter (A-Z)", valid: /[A-Z]/.test(password) },
    { label: "Lowercase letter (a-z)", valid: /[a-z]/.test(password) },
    { label: "Number (0-9)", valid: /\d/.test(password) },
    {
      label: "Special character (!@#$%^&* etc)",
      valid: /[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(password),
    },
  ];
  const allRequirementsMet = passwordRequirements.every((req) => req.valid);
  return (
    <div className="min-h-screen flex">
      {/* Left side - decorative */}
      <div className="hidden lg:flex lg:w-1/2 relative overflow-hidden bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/10">
        {/* Animated background elements */}
        <div className="absolute inset-0 mesh-gradient opacity-30 pointer-events-none" />
        <div className="absolute top-20 left-20 w-72 h-72 bg-primary/15 rounded-full blur-3xl animate-float opacity-50 pointer-events-none" />
        <div className="absolute bottom-20 right-20 w-96 h-96 bg-secondary/15 rounded-full blur-3xl animate-float delay-300 opacity-40 pointer-events-none" />
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-accent/10 rounded-full blur-3xl animate-pulse opacity-30 pointer-events-none" />
        {/* Content */}
        <div className="relative z-10 flex flex-col justify-center p-12 xl:p-20">
          <NavLink
            href="/"
            className="inline-flex items-center gap-2 mb-12 group"
          >
            <ArrowLeft className="h-5 w-5 text-muted-foreground group-hover:-translate-x-1 transition-transform" />
            <span className="text-muted-foreground">Back to home</span>
          </NavLink>
          <div className="space-y-8">
            <div className="inline-flex items-center gap-3">
              <div className="w-14 h-14 rounded-2xl bg-gradient-primary flex items-center justify-center shadow-glow">
                <Dna className="h-8 w-8 text-white" />
              </div>
              <span className="text-gradient font-bold text-3xl">Phage</span>
            </div>
            <h2 className="text-4xl xl:text-5xl font-bold leading-tight">
              Accelerate Your{" "}
              <span className="text-gradient">Molecular Discovery</span>
            </h2>
            <p className="text-muted-foreground text-xl leading-relaxed max-w-md">
              Join thousands of researchers using Phage to power their
              simulations and accelerate drug discovery.
            </p>
            {/* Features list */}
            <div className="space-y-4 pt-4">
              {[
                "5 free credits to get started",
                "GPU-accelerated simulations",
                "Real-time progress monitoring",
                "Publication-ready results",
              ].map((feature, i) => (
                <div key={i} className="flex items-center gap-3 text-lg">
                  <div className="w-6 h-6 rounded-full bg-secondary/20 flex items-center justify-center">
                    <CheckCircle className="h-4 w-4 text-secondary" />
                  </div>
                  <span>{feature}</span>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
      {/* Right side - form */}
      <div className="flex-1 flex items-center justify-center p-6 lg:p-12 bg-background relative overflow-hidden">
        {/* Background effects */}
        <div className="absolute inset-0 mesh-gradient opacity-20" />
        <div className="absolute top-10 right-10 w-48 h-48 bg-primary/10 rounded-full blur-3xl" />
        <div className="absolute bottom-10 left-10 w-64 h-64 bg-secondary/10 rounded-full blur-3xl" />
        <div className="relative w-full max-w-md">
          {/* Mobile logo */}
          <div className="lg:hidden mb-8 text-center">
            <NavLink href="/" className="inline-flex items-center gap-2 mb-6">
              <div className="w-10 h-10 rounded-xl bg-gradient-primary flex items-center justify-center shadow-lg">
                <Dna className="h-6 w-6 text-white" />
              </div>
              <span className="text-gradient font-bold text-xl">Phage</span>
            </NavLink>
          </div>
          {/* Header */}
          <div
            className={`mb-8 transition-all duration-700 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"}`}
          >
            <div className="flex items-center gap-2 mb-3">
              <Sparkles className="h-5 w-5 text-primary" />
              <span className="text-primary text-sm font-medium">
                {isSignUp ? "Join the community" : "Welcome back"}
              </span>
            </div>
            <h1 className="font-bold text-3xl md:text-4xl mb-2">
              {isSignUp ? "Create Account" : "Sign In"}
            </h1>
            <p className="text-muted-foreground text-lg">
              {isSignUp
                ? "Start simulating molecular dynamics today"
                : "Continue your molecular simulations"}
            </p>
          </div>
          {/* Form card */}
          <div
            className={`rounded-2xl border border-border/50 bg-card/80 backdrop-blur-sm p-8 shadow-xl transition-all duration-700 delay-100 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"}`}
          >
            <form className="space-y-5" onSubmit={handleSubmit}>
              {isSignUp && (
                <div className="space-y-2">
                  <Label htmlFor="name" className="text-sm font-medium">
                    Full Name
                  </Label>
                  <Input
                    className="h-12 px-4 transition-all duration-200 focus:ring-2 focus:ring-primary/20"
                    id="name"
                    onChange={(e) => setName(e.target.value)}
                    placeholder="John Doe"
                    required
                    type="text"
                    value={name}
                  />
                </div>
              )}
              <div className="space-y-2">
                <Label htmlFor="email" className="text-sm font-medium">
                  Email
                </Label>
                <Input
                  className="h-12 px-4 transition-all duration-200 focus:ring-2 focus:ring-primary/20"
                  id="email"
                  onChange={(e) => setEmail(e.target.value)}
                  placeholder="you@example.com"
                  required
                  type="email"
                  value={email}
                />
              </div>
              <div className="space-y-2">
                <Label htmlFor="password" className="text-sm font-medium">
                  Password
                </Label>
                <div className="relative">
                  <Input
                    className="h-12 px-4 pr-12 transition-all duration-200 focus:ring-2 focus:ring-primary/20"
                    id="password"
                    minLength={12}
                    onChange={(e) => setPassword(e.target.value)}
                    placeholder="••••••••"
                    required
                    type={showPassword ? "text" : "password"}
                    value={password}
                  />
                  <button
                    type="button"
                    onClick={() => setShowPassword(!showPassword)}
                    className="absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors"
                  >
                    {showPassword ? (
                      <EyeOff className="h-5 w-5" />
                    ) : (
                      <Eye className="h-5 w-5" />
                    )}
                  </button>
                </div>
                {isSignUp && password.length > 0 && (
                  <div className="mt-3 p-4 rounded-xl bg-muted/30 space-y-2">
                    <p className="text-sm font-medium text-muted-foreground">
                      Password requirements:
                    </p>
                    <div className="grid grid-cols-1 gap-1">
                      {passwordRequirements.map((req, i) => (
                        <div
                          key={i}
                          className={`flex items-center gap-2 text-sm transition-colors ${req.valid ? "text-emerald-500" : "text-muted-foreground"}`}
                        >
                          <CheckCircle
                            className={`h-4 w-4 ${req.valid ? "opacity-100" : "opacity-30"}`}
                          />
                          <span>{req.label}</span>
                        </div>
                      ))}
                    </div>
                  </div>
                )}
              </div>
              <Button
                className="w-full h-12 bg-gradient-primary shadow-glow text-lg font-semibold transition-all duration-300 hover:shadow-glow-lg hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed"
                disabled={isLoading || (isSignUp && !allRequirementsMet)}
                type="submit"
              >
                {isLoading ? (
                  <div className="flex items-center gap-2">
                    <div className="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin" />
                    Please wait...
                  </div>
                ) : isSignUp ? (
                  "Create Account"
                ) : (
                  "Sign In"
                )}
              </Button>
            </form>
            <div className="mt-6 pt-6 border-t border-border/40 text-center">
              <button
                className="text-primary font-medium hover:underline transition-colors"
                onClick={() => {
                  setIsSignUp(!isSignUp);
                  setEmail("");
                  setPassword("");
                  setName("");
                }}
                type="button"
              >
                {isSignUp
                  ? "Already have an account? Sign in"
                  : "Don't have an account? Sign up"}
              </button>
            </div>
          </div>
          <p className="mt-6 text-center text-muted-foreground text-sm">
            By continuing, you agree to our{" "}
            <NavLink href="/terms" className="text-primary hover:underline">
              Terms of Service
            </NavLink>{" "}
            and{" "}
            <NavLink href="/privacy" className="text-primary hover:underline">
              Privacy Policy
            </NavLink>
          </p>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="src/app/contact/page.tsx">
"use client";
import { useAction, useMutation } from "convex/react";
import { useState } from "react";
import { toast } from "sonner";
import Footer from "@/components/Footer";
import Header from "@/components/Header";
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from "@/components/ui/accordion";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Textarea } from "@/components/ui/textarea";
import { convex } from "@/lib/convex";
import { api } from "../../../convex/_generated/api";
const ContactFormInner = () => {
  const [formData, setFormData] = useState({
    name: "",
    email: "",
    category: "",
    subject: "",
    message: "",
  });
  const [isSubmitting, setIsSubmitting] = useState(false);
  const submitContactForm = useMutation(api.contact.submitContactForm);
  const sendEmail = useAction(api.emails?.sendContactEmail);
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);
    try {
      // Save to database
      await submitContactForm({
        name: formData.name,
        email: formData.email,
        subject: `[${formData.category}] ${formData.subject}`,
        message: formData.message,
      });
      // Send email via Resend
      try {
        if (sendEmail) {
          await sendEmail({
            name: formData.name,
            email: formData.email,
            subject: `[${formData.category}] ${formData.subject}`,
            message: formData.message,
          });
          toast.success(
            "Message sent successfully! We'll get back to you soon.",
          );
        } else {
          // If email API is not ready, just log or skip
          console.warn("Email API not ready, skipped sending email.");
          toast.success("Message saved! We'll respond shortly.");
        }
      } catch (emailError) {
        // Email failed but form was saved
        console.error("Email sending failed:", emailError);
        toast.success("Message saved! We'll respond via email shortly.");
      }
      setFormData({
        name: "",
        email: "",
        category: "",
        subject: "",
        message: "",
      });
    } catch (error) {
      console.error("Error submitting form:", error);
      toast.error("Failed to send message. Please try again.");
    } finally {
      setIsSubmitting(false);
    }
  };
  return (
    <Card className="border-border/40 bg-card/50 backdrop-blur-sm">
      <CardHeader>
        <CardTitle>Send us a message</CardTitle>
      </CardHeader>
      <CardContent>
        <form className="space-y-4" onSubmit={handleSubmit}>
          <div className="grid gap-4 md:grid-cols-2">
            <div className="space-y-2">
              <Label htmlFor="name">Name</Label>
              <Input
                id="name"
                onChange={(e) =>
                  setFormData({ ...formData, name: e.target.value })
                }
                placeholder="Your name"
                required
                value={formData.name}
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="email">Email</Label>
              <Input
                id="email"
                onChange={(e) =>
                  setFormData({ ...formData, email: e.target.value })
                }
                placeholder="you@example.com"
                required
                type="email"
                value={formData.email}
              />
            </div>
          </div>
          <div className="space-y-2">
            <Label htmlFor="category">Category</Label>
            <Select
              onValueChange={(value) =>
                setFormData({ ...formData, category: value })
              }
              value={formData.category}
            >
              <SelectTrigger>
                <SelectValue placeholder="Select a topic" />
              </SelectTrigger>
              <SelectContent>
                <SelectItem value="general">General Inquiry</SelectItem>
                <SelectItem value="support">Technical Support</SelectItem>
                <SelectItem value="billing">Billing & Credits</SelectItem>
                <SelectItem value="partnership">Partnership</SelectItem>
              </SelectContent>
            </Select>
          </div>
          <div className="space-y-2">
            <Label htmlFor="subject">Subject</Label>
            <Input
              id="subject"
              onChange={(e) =>
                setFormData({ ...formData, subject: e.target.value })
              }
              placeholder="How can we help?"
              required
              value={formData.subject}
            />
          </div>
          <div className="space-y-2">
            <Label htmlFor="message">Message</Label>
            <Textarea
              className="min-h-[150px]"
              id="message"
              onChange={(e) =>
                setFormData({ ...formData, message: e.target.value })
              }
              placeholder="Tell us more about your inquiry..."
              required
              value={formData.message}
            />
          </div>
          <Button
            className="w-full bg-gradient-primary shadow-glow transition-opacity hover:opacity-90"
            disabled={isSubmitting}
            type="submit"
          >
            {isSubmitting ? "Sending..." : "Send Message"}
          </Button>
        </form>
      </CardContent>
    </Card>
  );
};
const Contact = () => {
  const quickFaqs = [
    {
      question: "How do I upload files?",
      answer:
        "Go to the Simulate page and use the drag-and-drop interface to upload your PDB or SDF files. Files must be under 10MB.",
    },
    {
      question: "What happens if my simulation fails?",
      answer:
        "If a simulation fails due to a system error, your credits are automatically refunded. You can check the status in the Jobs page.",
    },
    {
      question: "Can I cancel a running simulation?",
      answer:
        "Yes, you can cancel a simulation from the Jobs page. Partially used credits may not be refunded depending on the stage of cancellation.",
    },
    {
      question: "How do I purchase more credits?",
      answer:
        "Visit the Pricing page to purchase credit packages or a custom amount. We accept major credit cards.",
    },
  ];
  return (
    <div className="min-h-screen bg-background">
      <Header />
      <section className="pt-32 pb-12">
        <div className="container mx-auto px-4">
          <div className="mx-auto max-w-4xl text-center">
            <h1 className="mb-6 animate-fade-in font-bold text-4xl md:text-5xl">
              Get in{" "}
              <span className="bg-gradient-to-r from-blue-600 via-indigo-500 to-cyan-500 bg-clip-text text-transparent">
                Touch
              </span>
            </h1>
            <p className="mx-auto max-w-2xl text-muted-foreground text-xl">
              Have questions about your simulations? Our team of computational
              biologists is here to help.
            </p>
          </div>
        </div>
      </section>
      <section className="pb-24">
        <div className="container mx-auto px-4">
          <div className="mx-auto grid max-w-6xl gap-12 lg:grid-cols-2">
            {}
            {convex ? (
              <ContactFormInner />
            ) : (
              <Card className="border-border/40 bg-card/50 backdrop-blur-sm">
                <CardHeader>
                  <CardTitle>Send us a message</CardTitle>
                </CardHeader>
                <CardContent className="h-[400px] flex items-center justify-center text-center p-8">
                  <div className="space-y-4">
                    <p className="text-muted-foreground">
                      Backend connection is currently unavailable.
                    </p>
                    <p className="text-sm text-muted-foreground/60">
                      Please ensure NEXT_PUBLIC_CONVEX_SITE_URL is set correctly.
                    </p>
                  </div>
                </CardContent>
              </Card>
            )}
            {}
            <div className="space-y-8">
              <div>
                <h2 className="mb-6 font-bold text-2xl">Quick Answers</h2>
                <Accordion className="space-y-4" collapsible type="single">
                  {quickFaqs.map((faq, index) => (
                    <AccordionItem
                      className="rounded-lg border border-border/40 bg-card/30 px-6"
                      key={index}
                      value={`faq-${index}`}
                    >
                      <AccordionTrigger className="text-left font-medium hover:no-underline">
                        {faq.question}
                      </AccordionTrigger>
                      <AccordionContent className="text-muted-foreground">
                        {faq.answer}
                      </AccordionContent>
                    </AccordionItem>
                  ))}
                </Accordion>
              </div>
              <div className="rounded-xl border border-border/40 bg-muted/20 p-6">
                <h3 className="mb-2 font-semibold">Office Location</h3>
                <p className="mb-4 text-muted-foreground text-sm">
                  123 Innovation Drive
                  <br />
                  Tech City, TC 94043
                  <br />
                  United States
                </p>
                <h3 className="mb-2 font-semibold">Email</h3>
                <p className="text-muted-foreground text-sm">
                  support@phage.bio
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>
      <Footer />
    </div>
  );
};
export default Contact;
</file>

<file path="src/app/features/page.tsx">
"use client";
import {
  Activity,
  ArrowRight,
  BarChart3,
  Cloud,
  Cpu,
  Database,
  Globe,
  Lock,
  Share2,
  Zap,
} from "lucide-react";
import { useEffect, useState } from "react";
import Footer from "@/components/Footer";
import Header from "@/components/Header";
import { NavLink } from "@/components/NavLink";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
const Features = () => {
  const [isVisible, setIsVisible] = useState(false);
  useEffect(() => {
    setIsVisible(true);
  }, []);
  const features = [
    {
      icon: <Cloud className="h-8 w-8" />,
      title: "Cloud Native",
      description:
        "Run simulations on our scalable cloud infrastructure. No local hardware needed.",
      gradient: "from-blue-500 to-cyan-500",
      delay: 0,
    },
    {
      icon: <Cpu className="h-8 w-8" />,
      title: "GPU Acceleration",
      description: "Powered by latest NVIDIA H100 GPUs for maximum throughput.",
      gradient: "from-purple-500 to-pink-500",
      delay: 50,
    },
    {
      icon: <Database className="h-8 w-8" />,
      title: "Automated Parametrization",
      description:
        "Auto-generate force field parameters for small molecules using GAFF2/OpenFF.",
      gradient: "from-amber-500 to-orange-500",
      delay: 100,
    },
    {
      icon: <Activity className="h-8 w-8" />,
      title: "Real-time Monitoring",
      description:
        "Watch your simulation progress with live energetic plots and trajectory streaming.",
      gradient: "from-emerald-500 to-teal-500",
      delay: 150,
    },
    {
      icon: <BarChart3 className="h-8 w-8" />,
      title: "Advanced Analysis",
      description:
        "Built-in tools for RMSD, RMSF, Hydrogen bonding, and free energy calculations.",
      gradient: "from-rose-500 to-pink-500",
      delay: 200,
    },
    {
      icon: <Lock className="h-8 w-8" />,
      title: "Secure Storage",
      description:
        "Your data is encrypted at rest and in transit. Compliant with industry standards.",
      gradient: "from-slate-500 to-zinc-500",
      delay: 250,
    },
    {
      icon: <Globe className="h-8 w-8" />,
      title: "Global CDN",
      description:
        "Access your data from anywhere in the world with low latency.",
      gradient: "from-indigo-500 to-blue-500",
      delay: 300,
    },
    {
      icon: <Share2 className="h-8 w-8" />,
      title: "Collaboration",
      description:
        "Share projects with your team or collaborators with granular permission controls.",
      gradient: "from-fuchsia-500 to-purple-500",
      delay: 350,
    },
    {
      icon: <Zap className="h-8 w-8" />,
      title: "API Access",
      description:
        "Integrate Phage into your automated workflows with our comprehensive REST API.",
      gradient: "from-yellow-500 to-amber-500",
      delay: 400,
    },
  ];
  return (
    <div className="min-h-screen bg-background overflow-x-hidden">
      <Header />
      {}
      <section className="relative pt-32 pb-20 overflow-hidden">
        {}
        <div className="absolute inset-0 mesh-gradient opacity-30 pointer-events-none" />
        <div className="absolute top-20 right-0 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-float opacity-40 pointer-events-none" />
        <div className="absolute bottom-0 left-0 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-float delay-300 opacity-40 pointer-events-none" />
        <div className="container relative mx-auto px-4">
          <div className="max-w-4xl mx-auto text-center">
            <span
              className={`inline-block mb-6 px-5 py-2.5 rounded-full bg-secondary/10 text-secondary text-sm font-medium transition-all duration-700 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"}`}
            >
              Platform Features
            </span>
            <h1
              className={`mb-8 font-bold text-5xl md:text-6xl lg:text-7xl leading-tight transition-all duration-700 delay-100 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`}
            >
              Powerful Features for{" "}
              <span className="relative inline-block">
                <span className="text-gradient-secondary">Modern Research</span>
                <svg
                  className="absolute -bottom-2 left-0 w-full"
                  viewBox="0 0 300 12"
                  fill="none"
                >
                  <path
                    d="M2 10C50 4 100 2 150 6C200 10 250 4 298 2"
                    stroke="url(#feature-gradient)"
                    strokeWidth="4"
                    strokeLinecap="round"
                  />
                  <defs>
                    <linearGradient
                      id="feature-gradient"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="0%"
                    >
                      <stop offset="0%" stopColor="hsl(var(--secondary))" />
                      <stop offset="100%" stopColor="hsl(var(--primary))" />
                    </linearGradient>
                  </defs>
                </svg>
              </span>
            </h1>
            <p
              className={`text-muted-foreground text-xl md:text-2xl leading-relaxed max-w-2xl mx-auto transition-all duration-700 delay-200 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`}
            >
              Everything you need to accelerate your computational biology
              research, all in one platform.
            </p>
          </div>
        </div>
      </section>
      {}
      <section className="py-20 bg-muted/20 border-y border-border/40">
        <div className="container mx-auto px-4">
          <div className="max-w-5xl mx-auto">
            <div className="relative aspect-video rounded-3xl overflow-hidden border border-border/50 shadow-2xl bg-black">
              <iframe
                className="absolute inset-0 w-full h-full"
                src="https://www.youtube.com/embed/d95J8yzvjbQ"
                title="Phage Platform Overview"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowFullScreen
              />
            </div>
          </div>
        </div>
      </section>
      {}
      <section className="py-24 lg:py-32 relative">
        <div className="absolute inset-0 mesh-gradient opacity-20" />
        <div className="container relative mx-auto px-4">
          <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
            {features.map((feature, i) => (
              <Card
                key={i}
                className="group interactive-card border-border/50 bg-card/50 backdrop-blur-sm overflow-hidden"
                style={{ animationDelay: `${feature.delay}ms` }}
              >
                <CardHeader className="pb-4">
                  <div
                    className={`mb-6 inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br ${feature.gradient} text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl`}
                  >
                    {feature.icon}
                  </div>
                  <CardTitle className="text-xl font-bold group-hover:text-gradient transition-all duration-300">
                    {feature.title}
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  <p className="text-muted-foreground leading-relaxed">
                    {feature.description}
                  </p>
                </CardContent>
              </Card>
            ))}
          </div>
        </div>
      </section>
      {}
      <section className="py-24 lg:py-32 relative overflow-hidden">
        <div className="absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/5" />
        <div className="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-border to-transparent" />
        <div className="container relative mx-auto px-4">
          <div className="max-w-4xl mx-auto">
            <div className="text-center mb-16">
              <span className="inline-block mb-4 px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium">
                How It Works
              </span>
              <h2 className="font-bold text-4xl md:text-5xl mb-6">
                Simple <span className="text-gradient">Workflow</span>
              </h2>
              <p className="text-muted-foreground text-xl">
                Get from structure to insights in three simple steps
              </p>
            </div>
            <div className="space-y-8">
              {[
                {
                  step: "01",
                  title: "Upload Your Structure",
                  description:
                    "Drop your PDB files for proteins and SDF files for ligands. We handle the rest.",
                  gradient: "from-blue-500 to-cyan-500",
                },
                {
                  step: "02",
                  title: "Configure Parameters",
                  description:
                    "Choose simulation length, temperature, and other parameters. Use our presets or customize.",
                  gradient: "from-purple-500 to-pink-500",
                },
                {
                  step: "03",
                  title: "Analyze Results",
                  description:
                    "View trajectories, plots, and export publication-ready figures automatically.",
                  gradient: "from-emerald-500 to-teal-500",
                },
              ].map((item, i) => (
                <div
                  key={i}
                  className="group flex gap-6 p-6 rounded-2xl transition-all duration-300 hover:bg-card/50"
                >
                  <div
                    className={`flex-shrink-0 w-16 h-16 rounded-2xl bg-gradient-to-br ${item.gradient} flex items-center justify-center text-white font-bold text-xl shadow-lg transition-transform group-hover:scale-110`}
                  >
                    {item.step}
                  </div>
                  <div>
                    <h3 className="font-bold text-xl mb-2 group-hover:text-gradient transition-all duration-300">
                      {item.title}
                    </h3>
                    <p className="text-muted-foreground text-lg">
                      {item.description}
                    </p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>
      {}
      <section className="py-24 lg:py-32 relative overflow-hidden">
        <div className="absolute inset-0 mesh-gradient opacity-40" />
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/10 rounded-full blur-3xl animate-pulse" />
        <div className="container relative mx-auto px-4 text-center">
          <div className="max-w-3xl mx-auto space-y-8">
            <h2 className="font-bold text-4xl md:text-5xl lg:text-6xl">
              Ready to Get <span className="text-gradient">Started</span>?
            </h2>
            <p className="text-muted-foreground text-xl">
              Join researchers worldwide who trust Phage for their simulations.
            </p>
            <div className="flex flex-col sm:flex-row items-center justify-center gap-4">
              <NavLink href="/auth">
                <Button
                  size="lg"
                  className="group h-14 px-10 bg-gradient-primary text-lg font-semibold shadow-glow hover:shadow-glow-lg transition-all duration-300 hover:scale-105"
                >
                  Start Free Trial
                  <ArrowRight className="ml-2 h-5 w-5 transition-transform group-hover:translate-x-1" />
                </Button>
              </NavLink>
              <NavLink href="/pricing">
                <Button
                  size="lg"
                  variant="outline"
                  className="h-14 px-8 text-lg font-medium border-2 hover:bg-primary/5"
                >
                  View Pricing
                </Button>
              </NavLink>
            </div>
          </div>
        </div>
      </section>
      <Footer />
    </div>
  );
};
export default Features;
</file>

<file path="src/app/jobs/page.tsx">
"use client";
import { useQuery } from "convex/react";
import { format } from "date-fns";
import { AlertCircle, CheckCircle2, Clock, Terminal } from "lucide-react";
import { toast } from "sonner";
import Footer from "@/components/Footer";
import Header from "@/components/Header";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Progress } from "@/components/ui/progress";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import { useAuth } from "@/lib/auth";
import { convex } from "@/lib/convex";
import { api } from "../../../convex/_generated/api";
const JobsContentInner = ({ user }: { user: any }) => {
  const jobs = useQuery(api.simulations.getUserSimulations, user ? {} : "skip");
  const getStatusColor = (status: string) => {
    switch (status) {
      case "completed":
        return "bg-green-500/10 text-green-500 hover:bg-green-500/20";
      case "running":
        return "bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 animate-pulse";
      case "failed":
        return "bg-red-500/10 text-red-500 hover:bg-red-500/20";
      case "pending":
        return "bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20";
      default:
        return "bg-gray-500/10 text-gray-500";
    }
  };
  const getStatusIcon = (status: string) => {
    switch (status) {
      case "completed":
        return <CheckCircle2 className="h-4 w-4" />;
      case "running":
        return <Clock className="h-4 w-4 animate-spin" />;
      case "failed":
        return <AlertCircle className="h-4 w-4" />;
      default:
        return <Clock className="h-4 w-4" />;
    }
  };
  if (!user) {
    return (
      <div className="flex h-[calc(100vh-200px)] items-center justify-center">
        <div className="text-center">
          <h2 className="mb-2 font-bold text-2xl">Sign In Required</h2>
          <p className="text-muted-foreground">
            Please sign in to view your simulation jobs.
          </p>
        </div>
      </div>
    );
  }
  return (
    <Card className="border-border/40 bg-card/50 backdrop-blur-sm">
      <CardHeader>
        <CardTitle>Recent Activity</CardTitle>
        <CardDescription>
          A list of your recent simulation jobs and their current status.
        </CardDescription>
      </CardHeader>
      <CardContent>
        {!jobs ? (
          <div className="flex justify-center p-8">
            <div className="h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"></div>
          </div>
        ) : jobs.length === 0 ? (
          <div className="flex flex-col items-center justify-center py-12 text-center">
            <Terminal className="mb-4 h-12 w-12 text-muted-foreground/50" />
            <h3 className="mb-2 font-semibold text-lg">No jobs found</h3>
            <p className="mb-6 max-w-sm text-muted-foreground">
              You haven't run any simulations yet. Start your first job to see
              it here.
            </p>
            <Button onClick={() => (window.location.href = "/simulate")}>
              Start Simulation
            </Button>
          </div>
        ) : (
          <div className="rounded-md border border-border/40">
            <Table>
              <TableHeader>
                <TableRow>
                  <TableHead>Job Name</TableHead>
                  <TableHead>Status</TableHead>
                  <TableHead>Progress</TableHead>
                  <TableHead className="hidden md:table-cell">
                    Duration
                  </TableHead>
                  <TableHead className="hidden md:table-cell">
                    Created
                  </TableHead>
                  <TableHead className="text-right">Actions</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {jobs.map((job: any) => (
                  <TableRow key={job._id}>
                    <TableCell className="font-medium">
                      <div>
                        {job.name}
                        <div className="text-muted-foreground text-xs md:hidden">
                          {format(new Date(job.createdAt), "MMM d, yyyy")}
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <Badge
                        className={`flex w-fit items-center gap-1 ${getStatusColor(job.status)}`}
                        variant="outline"
                      >
                        {getStatusIcon(job.status)}
                        <span className="capitalize">{job.status}</span>
                      </Badge>
                    </TableCell>
                    <TableCell className="w-[140px]">
                      {job.status === "running" ? (
                        <div className="space-y-1">
                          <Progress className="h-2" value={job.progress || 0} />
                          <p className="text-right text-muted-foreground text-xs">
                            {job.progress || 0}%
                          </p>
                        </div>
                      ) : job.status === "completed" ? (
                        <Progress className="h-2" value={100} />
                      ) : (
                        <Progress className="h-2" value={0} />
                      )}
                    </TableCell>
                    <TableCell className="hidden md:table-cell">
                      {job.parameters?.duration}ns
                    </TableCell>
                    <TableCell className="hidden md:table-cell">
                      {format(new Date(job.createdAt), "MMM d, HH:mm")}
                    </TableCell>
                    <TableCell className="text-right">
                      <Button size="sm" variant="ghost" className="h-8 w-8 p-0">
                        <span className="sr-only">Open menu</span>
                      </Button>
                      {job.status === "completed" && (
                        <Button
                          className="h-8"
                          size="sm"
                          variant="outline"
                          onClick={() => {
                            toast.info("Download started");
                          }}
                        >
                          Result
                        </Button>
                      )}
                    </TableCell>
                  </TableRow>
                ))}
              </TableBody>
            </Table>
          </div>
        )}
      </CardContent>
    </Card>
  );
};
const Jobs = () => {
  const { user } = useAuth();
  return (
    <div className="min-h-screen bg-background">
      <Header />
      <section className="pt-32 pb-12">
        <div className="container mx-auto px-4">
          <div className="mb-8 flex items-center justify-between">
            <div>
              <h1 className="mb-2 font-bold text-3xl md:text-4xl">
                Simulation <span className="text-primary">Jobs</span>
              </h1>
              <p className="text-muted-foreground">
                Manage and monitor your molecular dynamics simulations
              </p>
            </div>
            <Button
              onClick={() => (window.location.href = "/simulate")}
              className="hidden bg-gradient-primary shadow-glow md:flex"
            >
              New Simulation
            </Button>
          </div>
          {convex ? (
            <JobsContentInner user={user} />
          ) : (
            <Card className="border-border/40 bg-card/50 backdrop-blur-sm p-12 text-center">
              <p className="text-muted-foreground">
                Backend connection is currently unavailable. Please check your
                configuration.
              </p>
            </Card>
          )}
        </div>
      </section>
      <Footer />
    </div>
  );
};
export default Jobs;
</file>

<file path="src/app/not-found.tsx">
import Link from "next/link";
export default function NotFound() {
  return (
    <div className="flex min-h-screen items-center justify-center bg-gray-100 dark:bg-zinc-900">
      <div className="text-center">
        <h1 className="mb-4 font-bold text-4xl">404</h1>
        <p className="mb-4 text-gray-600 dark:text-gray-400 text-xl">
          Oops! Page not found
        </p>
        <Link className="text-blue-500 underline hover:text-blue-700" href="/">
          Return to Home
        </Link>
      </div>
    </div>
  );
}
</file>

<file path="src/app/pricing/page.tsx">
"use client";
import { useAction } from "convex/react";
import { ArrowRight, Check, DollarSign, Sparkles, Zap } from "lucide-react";
import { useEffect, useState } from "react";
import { toast } from "sonner";
import Footer from "@/components/Footer";
import Header from "@/components/Header";
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from "@/components/ui/accordion";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { useAuth } from "@/lib/auth";
import { convex } from "@/lib/convex";
import { api } from "../../../convex/_generated/api";
import type { Id } from "../../../convex/_generated/dataModel";
const PricingContentInner = ({ user }: { user: any }) => {
  const [isLoading, setIsLoading] = useState(false);
  const [isVisible, setIsVisible] = useState(false);
  const createCheckout = useAction(api.payments.createCheckout);
  const [selectedCredits, setSelectedCredits] = useState(1000);
  useEffect(() => {
    setIsVisible(true);
  }, []);
  const creditOptions = [
    {
      credits: 500,
      label: "Starter",
      description: "Perfect for testing",
      popular: false,
    },
    {
      credits: 1000,
      label: "Standard",
      description: "Most popular choice",
      popular: true,
    },
    {
      credits: 2000,
      label: "Pro",
      description: "For power users",
      popular: false,
    },
  ];
  const creditsNeeded = selectedCredits;
  const costInDollars = (creditsNeeded / 10).toFixed(2);
  const handleBuyCredits = async () => {
    if (!user) {
      toast.error("Sign in required", {
        description: "Please sign in to purchase credits.",
      });
      return;
    }
    if (creditsNeeded <= 0) {
      toast.error("Invalid amount", {
        description: "Please enter a positive number of credits.",
      });
      return;
    }
    try {
      setIsLoading(true);
      const res = await createCheckout({
        userId: user.id as Id<"users">,
        credits: creditsNeeded,
      });
      const url = (res as any)?.checkout_url as string | undefined;
      if (url) {
        window.location.href = url;
      } else {
        toast.error("Checkout link missing", {
          description: "Failed to generate a checkout URL. Please try again.",
        });
      }
    } catch (err) {
      toast.error("Payment error", {
        description:
          err instanceof Error
            ? err.message
            : "Could not start checkout. Please try again.",
      });
    } finally {
      setIsLoading(false);
    }
  };
  const benefits = [
    { icon: <Check className="h-5 w-5" />, text: "No subscription required" },
    { icon: <Check className="h-5 w-5" />, text: "Credits never expire" },
    {
      icon: <Check className="h-5 w-5" />,
      text: "Automatic refunds on failed simulations",
    },
    {
      icon: <Zap className="h-5 w-5" />,
      text: "5 free credits for new users",
      highlight: true,
    },
  ];
  const faqs = [
    {
      question: "How does the credit system work?",
      answer:
        "Each credit allows you to run 1 nanosecond of molecular dynamics simulation. You can purchase credits at a rate of 10 credits per dollar. Credits never expire and can be used whenever you need them.",
    },
    {
      question: "What do I get with the 5 free credits?",
      answer:
        "New users receive 5 free credits to try out the platform. This is enough to run a 5 nanosecond simulation, perfect for testing the service with your research.",
    },
    {
      question: "Are there any subscription fees?",
      answer:
        "No! Phage uses a simple pay-as-you-go model. You only pay for the simulation time you use. There are no monthly subscriptions, hidden fees, or minimum commitments.",
    },
    {
      question: "What file formats are supported?",
      answer:
        "We support PDB (Protein Data Bank) files for proteins and SDF (Structure Data File) for ligands. Files must be under 10MB in size.",
    },
    {
      question: "How long do simulations take to complete?",
      answer:
        "Simulation time varies based on the complexity of your system and simulation parameters. Most simulations complete within minutes to a few hours. You can monitor progress in real-time on the Jobs page.",
    },
    {
      question: "Can I get a refund if something goes wrong?",
      answer:
        "Yes! If a simulation fails due to an error on our end, your credits will be automatically refunded. You're only charged for successful simulations.",
    },
  ];
  return (
    <>
      {}
      <section className="relative pt-32 pb-16 overflow-hidden">
        <div className="absolute inset-0 mesh-gradient opacity-30 pointer-events-none" />
        <div className="absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl animate-float opacity-50 pointer-events-none" />
        <div className="absolute bottom-0 right-10 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-float delay-300 opacity-40 pointer-events-none" />
        <div className="container relative mx-auto px-4">
          <div className="mx-auto max-w-4xl text-center">
            <span
              className={`inline-block mb-6 px-5 py-2.5 rounded-full bg-secondary/10 text-secondary text-sm font-medium transition-all duration-700 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"}`}
            >
              Simple, Transparent Pricing
            </span>
            <h1
              className={`mb-8 font-bold text-5xl md:text-6xl lg:text-7xl leading-tight transition-all duration-700 delay-100 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`}
            >
              Pay Only for What You{" "}
              <span className="text-gradient">Actually Use</span>
            </h1>
            <p
              className={`text-muted-foreground text-xl md:text-2xl max-w-2xl mx-auto transition-all duration-700 delay-200 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`}
            >
              No subscriptions, no hidden fees. Just straightforward pricing
              based on simulation time.
            </p>
          </div>
        </div>
      </section>
      {}
      <section className="py-12 relative">
        <div className="container mx-auto px-4">
          <div className="mx-auto max-w-4xl">
            <Card className="relative border-primary/20 bg-gradient-to-br from-card via-card to-card/80 shadow-xl backdrop-blur-sm overflow-hidden">
              {}
              <div className="absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2" />
              <div className="absolute bottom-0 left-0 w-48 h-48 bg-secondary/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2" />
              <CardHeader className="relative pb-8 text-center">
                <div className="inline-flex items-center justify-center gap-2 mb-4">
                  <div className="w-12 h-12 rounded-2xl bg-gradient-primary flex items-center justify-center shadow-lg">
                    <Sparkles className="h-6 w-6 text-white" />
                  </div>
                </div>
                <CardTitle className="mb-2 font-bold text-3xl md:text-4xl">
                  Credit-Based Pricing
                </CardTitle>
                <p className="text-muted-foreground text-lg">
                  Simple and transparent
                </p>
              </CardHeader>
              <CardContent className="relative space-y-8">
                {}
                <div className="text-center py-8 px-6 rounded-2xl bg-muted/30 backdrop-blur-sm">
                  <div className="flex items-baseline justify-center gap-3 mb-2">
                    <span className="text-gradient text-7xl md:text-8xl font-bold">
                      10
                    </span>
                    <span className="text-2xl text-muted-foreground">
                      credits
                    </span>
                  </div>
                  <div className="flex items-center justify-center gap-2 mb-4">
                    <DollarSign className="h-8 w-8 text-secondary" />
                    <span className="font-bold text-4xl">1</span>
                  </div>
                  <p className="text-muted-foreground">
                    1 credit = 1 nanosecond of simulation
                  </p>
                </div>
                {}
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  {benefits.map((benefit, i) => (
                    <div
                      key={i}
                      className={`flex items-center gap-3 p-4 rounded-xl transition-all duration-300 hover:bg-muted/30 ${benefit.highlight ? "bg-secondary/10 border border-secondary/20" : ""}`}
                    >
                      <div
                        className={`flex h-10 w-10 items-center justify-center rounded-xl ${benefit.highlight ? "bg-gradient-secondary shadow-lg" : "bg-gradient-primary"} text-white`}
                      >
                        {benefit.icon}
                      </div>
                      <span
                        className={
                          benefit.highlight
                            ? "font-semibold text-secondary"
                            : ""
                        }
                      >
                        {benefit.text}
                      </span>
                    </div>
                  ))}
                </div>
                {/* Package selection */}
                <div className="space-y-4 pt-6 border-t border-border/40">
                  <h3 className="text-center font-semibold text-xl">
                    Choose Your Package
                  </h3>
                  <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                    {creditOptions.map((option) => (
                      <Card
                        className={`relative cursor-pointer transition-all duration-300 hover:scale-105 ${
                          selectedCredits === option.credits
                            ? "border-primary bg-primary/10 shadow-glow-sm"
                            : "border-border/40 bg-background hover:border-primary/30"
                        }`}
                        key={option.credits}
                        onClick={() => setSelectedCredits(option.credits)}
                      >
                        {option.popular && (
                          <div className="absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full bg-gradient-primary text-white text-xs font-medium shadow-lg">
                            Most Popular
                          </div>
                        )}
                        <CardContent className="p-5 text-center">
                          <h4 className="font-bold text-lg mb-1">
                            {option.label}
                          </h4>
                          <p className="text-muted-foreground text-sm mb-4">
                            {option.description}
                          </p>
                          <div className="mb-2">
                            <span className="text-gradient text-3xl font-bold">
                              {option.credits.toLocaleString()}
                            </span>
                            <span className="text-muted-foreground text-sm ml-1">
                              credits
                            </span>
                          </div>
                          <div className="text-2xl font-bold">
                            ${(option.credits / 10).toFixed(0)}
                          </div>
                          {selectedCredits === option.credits && (
                            <div className="absolute top-3 right-3">
                              <Check className="h-5 w-5 text-primary" />
                            </div>
                          )}
                        </CardContent>
                      </Card>
                    ))}
                  </div>
                </div>
                {}
                <div className="space-y-4 pt-6 border-t border-border/40">
                  <h3 className="text-center font-semibold">
                    Or enter a custom amount
                  </h3>
                  <div className="flex gap-3 max-w-md mx-auto">
                    <Input
                      className="flex-1 h-12 text-center text-lg font-medium"
                      min="1"
                      onChange={(e) => {
                        const value = Number.parseInt(e.target.value, 10) || 0;
                        if (value >= 0) {
                          setSelectedCredits(value);
                        }
                      }}
                      placeholder="Enter credits"
                      type="number"
                      value={selectedCredits}
                    />
                    <div className="flex items-center px-6 rounded-xl bg-muted/50 border border-border/40 font-bold text-xl">
                      ${costInDollars}
                    </div>
                  </div>
                </div>
                {}
                <Button
                  className="w-full h-14 bg-gradient-primary shadow-glow text-lg font-semibold transition-all duration-300 hover:shadow-glow-lg hover:scale-[1.02]"
                  disabled={isLoading || creditsNeeded <= 0}
                  onClick={handleBuyCredits}
                  size="lg"
                >
                  {isLoading ? (
                    <div className="flex items-center gap-2">
                      <div className="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin" />
                      Redirecting...
                    </div>
                  ) : (
                    <>
                      Buy {creditsNeeded.toLocaleString()} credits for $
                      {costInDollars}
                      <ArrowRight className="ml-2 h-5 w-5" />
                    </>
                  )}
                </Button>
              </CardContent>
            </Card>
          </div>
        </div>
      </section>
      {}
      <section className="py-24 relative">
        <div className="absolute inset-0 mesh-gradient opacity-20" />
        <div className="container relative mx-auto px-4">
          <div className="mx-auto max-w-3xl">
            <div className="mb-16 text-center">
              <span className="inline-block mb-4 px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium">
                FAQ
              </span>
              <h2 className="mb-4 font-bold text-4xl md:text-5xl">
                Frequently Asked{" "}
                <span className="text-gradient">Questions</span>
              </h2>
              <p className="text-muted-foreground text-xl">
                Everything you need to know about pricing and credits
              </p>
            </div>
            <Accordion className="space-y-4" collapsible type="single">
              {faqs.map((faq, index) => (
                <AccordionItem
                  className="group rounded-2xl border border-border/40 bg-card/50 backdrop-blur-sm px-6 transition-all duration-300 hover:border-primary/30 hover:bg-card/80"
                  key={index}
                  value={`item-${index}`}
                >
                  <AccordionTrigger className="text-left font-semibold py-5 hover:no-underline group-hover:text-primary transition-colors">
                    {faq.question}
                  </AccordionTrigger>
                  <AccordionContent className="text-muted-foreground pb-5 leading-relaxed">
                    {faq.answer}
                  </AccordionContent>
                </AccordionItem>
              ))}
            </Accordion>
          </div>
        </div>
      </section>
      {}
      <section className="py-24 relative overflow-hidden">
        <div className="absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/5" />
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/10 rounded-full blur-3xl animate-pulse" />
        <div className="container relative mx-auto px-4 text-center">
          <div className="mx-auto max-w-3xl space-y-8">
            <h2 className="font-bold text-4xl md:text-5xl">
              Start Your Research Today
            </h2>
            <p className="text-muted-foreground text-xl">
              Get 5 free credits and run your first simulation
            </p>
            <Button
              className="h-14 px-12 bg-gradient-primary text-lg font-semibold shadow-glow hover:shadow-glow-lg transition-all duration-300 hover:scale-105"
              disabled={isLoading}
              onClick={handleBuyCredits}
              size="lg"
            >
              {isLoading
                ? "Redirecting..."
                : `Buy ${creditsNeeded.toLocaleString()} credits ($${costInDollars})`}
            </Button>
          </div>
        </div>
      </section>
    </>
  );
};
const Pricing = () => {
  const { user } = useAuth();
  return (
    <div className="min-h-screen bg-background overflow-x-hidden">
      <Header />
      {convex ? (
        <PricingContentInner user={user} />
      ) : (
        <div className="container mx-auto px-4 py-32 text-center">
          <Card className="max-w-md mx-auto p-12 bg-card/50 backdrop-blur-sm">
            <p className="text-muted-foreground">
              Backend connection is currently unavailable.
            </p>
          </Card>
        </div>
      )}
      <Footer />
    </div>
  );
};
export default Pricing;
</file>

<file path="src/app/robots.ts">
import type { MetadataRoute } from "next";
export default function robots(): MetadataRoute.Robots {
  return {
    rules: {
      userAgent: "*",
      allow: "/",
      disallow: ["/api/", "/dashboard/private/"],
    },
    sitemap: `${process.env.NEXT_PUBLIC_APP_URL}/sitemap.xml`,
  };
}
</file>

<file path="src/app/simulate/page.tsx">
"use client";
import { useMutation } from "convex/react";
import { FileCode2, Upload } from "lucide-react";
import { useRouter } from "next/navigation";
import { useState } from "react";
import { toast } from "sonner";
import Footer from "@/components/Footer";
import Header from "@/components/Header";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import { useAuth } from "@/lib/auth";
import { convex } from "@/lib/convex";
import { api } from "../../../convex/_generated/api";
const SimulateContentInner = ({
  user,
  updateCredits,
}: {
  user: any;
  updateCredits: any;
}) => {
  const router = useRouter();
  const [proteinFile, setProteinFile] = useState<File | null>(null);
  const [ligandFile, setLigandFile] = useState<File | null>(null);
  const [parameters, setParameters] = useState({
    title: "",
    description: "",
    simulationTime: 100,
    temperature: 300,
    pressure: 1,
    timestep: 2,
  });
  const [enableEquilibration, setEnableEquilibration] = useState(true);
  const [equilibrationParameters, setEquilibrationParameters] = useState({
    time: 10,
    temperature: 300,
    pressure: 1,
    timestep: 2,
  });
  const [isSubmitting, setIsSubmitting] = useState(false);
  const createSimulation = useMutation(api.simulations.createSimulation);
  const creditsNeeded = parameters.simulationTime;
  const _estimatedCost = (creditsNeeded / 20).toFixed(2);
  const handleFileUpload = (file: File, type: "protein" | "ligand") => {
    if (file.size > 10 * 1024 * 1024) {
      toast.error("File size must be less than 10MB");
      return;
    }
    const validExtensions = type === "protein" ? [".pdb"] : [".sdf"];
    const fileExtension = file.name
      .toLowerCase()
      .substring(file.name.lastIndexOf("."));
    if (!validExtensions.includes(fileExtension)) {
      toast.error(`Please upload a ${validExtensions.join(" or ")} file`);
      return;
    }
    if (type === "protein") {
      setProteinFile(file);
      toast.success("Protein file uploaded successfully");
    } else {
      setLigandFile(file);
      toast.success("Ligand file uploaded successfully");
    }
  };
  const handleDragOver = (e: React.DragEvent) => {
    e.preventDefault();
    e.stopPropagation();
  };
  const handleDrop = (e: React.DragEvent, type: "protein" | "ligand") => {
    e.preventDefault();
    e.stopPropagation();
    const files = e.dataTransfer.files;
    if (files.length > 0) {
      handleFileUpload(files[0], type);
    }
  };
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!user) {
      toast.error("Please sign in to start a simulation");
      router.push("/auth");
      return;
    }
    if (!proteinFile) {
      toast.error("Please upload a protein file");
      return;
    }
    if ((user.credits || 0) < creditsNeeded) {
      toast.error(
        `Insufficient credits. You need ${creditsNeeded} credits but have ${user.credits || 0}`,
      );
      router.push("/pricing");
      return;
    }
    setIsSubmitting(true);
    try {
      await createSimulation({
        name: parameters.title,
        parameters: {
          temperature: parameters.temperature,
          duration: parameters.simulationTime,
          timestep: parameters.timestep,
          ensemble: "NVT",
        },
        equilibration: enableEquilibration
          ? {
              enabled: true,
              time: equilibrationParameters.time,
              temperature: equilibrationParameters.temperature,
              pressure: equilibrationParameters.pressure,
              timestep: equilibrationParameters.timestep,
            }
          : {
              enabled: false,
            },
        pdbFile: proteinFile.name,
        sdfFile: ligandFile?.name,
        creditsUsed: creditsNeeded,
      });
      updateCredits(-creditsNeeded);
      toast.success("Simulation started successfully!");
      router.push("/jobs");
    } catch (error) {
      console.error("Error creating simulation:", error);
      toast.error("Failed to start simulation. Please try again.");
    } finally {
      setIsSubmitting(false);
    }
  };
  const FileUploadZone = ({
    type,
    file,
    accept,
  }: {
    type: "protein" | "ligand";
    file: File | null;
    accept: string;
  }) => (
    <div
      className="group relative cursor-pointer rounded-lg border-2 border-border/60 border-dashed p-8 text-center transition-colors hover:border-primary/50"
      onDragOver={handleDragOver}
      onDrop={(e) => handleDrop(e, type)}
    >
      <input
        accept={accept}
        className="absolute inset-0 h-full w-full cursor-pointer opacity-0"
        onChange={(e) =>
          e.target.files && handleFileUpload(e.target.files[0], type)
        }
        type="file"
      />
      <div className="space-y-4">
        <div className="mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-gradient-primary shadow-glow transition-transform group-hover:scale-110">
          {file ? (
            <FileCode2 className="h-8 w-8 text-white" />
          ) : (
            <Upload className="h-8 w-8 text-white" />
          )}
        </div>
        {file ? (
          <div>
            <p className="font-semibold">{file.name}</p>
            <p className="text-muted-foreground text-sm">
              {(file.size / 1024).toFixed(2)} KB
            </p>
          </div>
        ) : (
          <div>
            <p className="font-semibold">Drop your {type} file here</p>
            <p className="text-muted-foreground text-sm">or click to browse</p>
            <p className="mt-2 text-muted-foreground text-xs">
              {accept.toUpperCase()} • Max 10MB
            </p>
          </div>
        )}
      </div>
    </div>
  );
  return (
    <form className="space-y-6" onSubmit={handleSubmit}>
      <Card className="border-border/40 bg-card/50 backdrop-blur-sm">
        <CardHeader>
          <CardTitle>Simulation Details</CardTitle>
        </CardHeader>
        <CardContent className="space-y-4">
          <div className="space-y-2">
            <Label htmlFor="title">Simulation Title *</Label>
            <Input
              id="title"
              onChange={(e) =>
                setParameters({ ...parameters, title: e.target.value })
              }
              placeholder="e.g., Protein-Ligand Binding Study"
              required
              value={parameters.title}
            />
          </div>
          <div className="space-y-2">
            <Label htmlFor="description">Description (Optional)</Label>
            <Textarea
              id="description"
              onChange={(e) =>
                setParameters({
                  ...parameters,
                  description: e.target.value,
                })
              }
              placeholder="Add notes about your simulation..."
              rows={3}
              value={parameters.description}
            />
          </div>
        </CardContent>
      </Card>
      <Card className="border-border/40 bg-card/50 backdrop-blur-sm">
        <CardHeader>
          <CardTitle>Upload Files</CardTitle>
        </CardHeader>
        <CardContent className="space-y-6">
          <div className="space-y-2">
            <Label>Protein Structure (PDB) *</Label>
            <FileUploadZone accept=".pdb" file={proteinFile} type="protein" />
          </div>
          <div className="space-y-2">
            <Label>Ligand Structure (SDF) - Optional</Label>
            <FileUploadZone accept=".sdf" file={ligandFile} type="ligand" />
          </div>
        </CardContent>
      </Card>
      <Card className="border-border/40 bg-card/50 backdrop-blur-sm">
        <CardHeader>
          <CardTitle>Simulation Parameters</CardTitle>
        </CardHeader>
        <CardContent className="space-y-4">
          <div className="grid gap-4 md:grid-cols-2">
            <div className="space-y-2">
              <Label htmlFor="simulationTime">
                Simulation Time (nanoseconds) *
              </Label>
              <Input
                id="simulationTime"
                min="1"
                onChange={(e) =>
                  setParameters({
                    ...parameters,
                    simulationTime: Number.parseInt(e.target.value, 10) || 1,
                  })
                }
                required
                type="number"
                value={parameters.simulationTime}
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="temperature">Temperature (K) *</Label>
              <Input
                id="temperature"
                min="0"
                onChange={(e) =>
                  setParameters({
                    ...parameters,
                    temperature: Number.parseInt(e.target.value, 10) || 0,
                  })
                }
                required
                type="number"
                value={parameters.temperature}
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="pressure">Pressure (bar) *</Label>
              <Input
                id="pressure"
                min="0"
                onChange={(e) =>
                  setParameters({
                    ...parameters,
                    pressure: Number.parseFloat(e.target.value) || 0,
                  })
                }
                required
                step="0.1"
                type="number"
                value={parameters.pressure}
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="timestep">Time Step (fs) *</Label>
              <Input
                id="timestep"
                min="2"
                onChange={(e) =>
                  setParameters({
                    ...parameters,
                    timestep: Number.parseFloat(e.target.value) || 2,
                  })
                }
                required
                step="1"
                type="number"
                value={parameters.timestep}
              />
            </div>
          </div>
        </CardContent>
      </Card>
      <Card className="border-border/40 bg-card/50 backdrop-blur-sm">
        <CardHeader>
          <div className="flex items-center gap-2">
            <input
              checked={enableEquilibration}
              className="h-4 w-4 cursor-pointer rounded border-border"
              id="enableEquilibration"
              onChange={(e) => setEnableEquilibration(e.target.checked)}
              type="checkbox"
            />
            <CardTitle
              className="cursor-pointer"
              onClick={() => setEnableEquilibration(!enableEquilibration)}
            >
              Equilibration Phase (Optional)
            </CardTitle>
          </div>
        </CardHeader>
        {enableEquilibration && (
          <CardContent className="space-y-4">
            <p className="text-muted-foreground text-sm">
              Configure separate parameters for the equilibration phase before
              the main simulation.
            </p>
            <div className="grid gap-4 md:grid-cols-2">
              <div className="space-y-2">
                <Label htmlFor="equilibrationTime">
                  Equilibration Time (nanoseconds)
                </Label>
                <Input
                  id="equilibrationTime"
                  min="0.1"
                  onChange={(e) =>
                    setEquilibrationParameters({
                      ...equilibrationParameters,
                      time: Number.parseFloat(e.target.value) || 0,
                    })
                  }
                  step="0.1"
                  type="number"
                  value={equilibrationParameters.time}
                />
              </div>
              <div className="space-y-2">
                <Label htmlFor="equilibrationTemp">Temperature (K)</Label>
                <Input
                  id="equilibrationTemp"
                  min="0"
                  onChange={(e) =>
                    setEquilibrationParameters({
                      ...equilibrationParameters,
                      temperature: Number.parseInt(e.target.value, 10) || 0,
                    })
                  }
                  type="number"
                  value={equilibrationParameters.temperature}
                />
              </div>
              <div className="space-y-2">
                <Label htmlFor="equilibrationPressure">Pressure (bar)</Label>
                <Input
                  id="equilibrationPressure"
                  min="0"
                  onChange={(e) =>
                    setEquilibrationParameters({
                      ...equilibrationParameters,
                      pressure: Number.parseFloat(e.target.value) || 0,
                    })
                  }
                  step="0.1"
                  type="number"
                  value={equilibrationParameters.pressure}
                />
              </div>
              <div className="space-y-2">
                <Label htmlFor="equilibrationTimestep">Time Step (fs)</Label>
                <Input
                  id="equilibrationTimestep"
                  min="2"
                  onChange={(e) =>
                    setEquilibrationParameters({
                      ...equilibrationParameters,
                      timestep: Number.parseFloat(e.target.value) || 0,
                    })
                  }
                  step="1"
                  type="number"
                  value={equilibrationParameters.timestep}
                />
              </div>
            </div>
          </CardContent>
        )}
      </Card>
      <div className="flex items-center justify-end gap-4 p-4">
        <div className="text-right">
          <p className="font-semibold">{creditsNeeded} Credits</p>
          <p className="text-muted-foreground text-xs">
            Estimated Cost ~${_estimatedCost}
          </p>
        </div>
        <Button
          size="lg"
          className="bg-gradient-primary shadow-glow min-w-[150px]"
          disabled={isSubmitting}
          type="submit"
        >
          {isSubmitting ? "Starting..." : "Design & Launch"}
        </Button>
      </div>
    </form>
  );
};
const Simulate = () => {
  const { user, updateCredits } = useAuth();
  return (
    <div className="min-h-screen bg-background">
      <Header />
      <section className="pt-32 pb-12">
        <div className="container mx-auto px-4">
          <div className="mx-auto max-w-5xl">
            <div className="mb-8 animate-fade-in">
              <h1 className="mb-4 font-bold text-4xl md:text-5xl">
                New{" "}
                <span className="bg-gradient-to-r from-blue-600 via-indigo-500 to-cyan-500 bg-clip-text text-transparent">
                  Simulation
                </span>
              </h1>
              <p className="text-muted-foreground text-xl">
                Configure and launch your molecular dynamics simulation
              </p>
            </div>
            {convex ? (
              <SimulateContentInner user={user} updateCredits={updateCredits} />
            ) : (
              <Card className="border-border/40 bg-card/50 backdrop-blur-sm p-12 text-center">
                <p className="text-muted-foreground">
                  Backend connection is currently unavailable. Please check your
                  configuration.
                </p>
              </Card>
            )}
          </div>
        </div>
      </section>
      <Footer />
    </div>
  );
};
export default Simulate;
</file>

<file path="src/app/sitemap.ts">
import type { MetadataRoute } from "next";
export default function sitemap(): MetadataRoute.Sitemap {
  const baseUrl = process.env.NEXT_PUBLIC_APP_URL || "https://your-domain.com";
  return [
    {
      url: baseUrl,
      lastModified: new Date(),
      changeFrequency: "yearly",
      priority: 1,
    },
    {
      url: `${baseUrl}/about`,
      lastModified: new Date(),
      changeFrequency: "monthly",
      priority: 0.8,
    },
    {
      url: `${baseUrl}/pricing`,
      lastModified: new Date(),
      changeFrequency: "monthly",
      priority: 0.9,
    },
  ];
}
</file>

<file path="src/components/Footer.tsx">
"use client";
import { Dna, Github, Linkedin, Mail, Twitter } from "lucide-react";
import { NavLink } from "@/components/NavLink";
const footerLinks = {
  platform: [
    { href: "/simulate", label: "Simulate" },
    { href: "/jobs", label: "My Jobs" },
    { href: "/pricing", label: "Pricing" },
    { href: "/features", label: "Features" },
  ],
  company: [
    { href: "/features", label: "About" },
    { href: "/contact", label: "Contact" },
    { href: "/privacy", label: "Privacy" },
    { href: "/terms", label: "Terms" },
  ],
  socials: [
    {
      href: "https://twitter.com",
      icon: <Twitter className="h-5 w-5" />,
      label: "Twitter",
    },
    {
      href: "https://github.com",
      icon: <Github className="h-5 w-5" />,
      label: "GitHub",
    },
    {
      href: "https://linkedin.com",
      icon: <Linkedin className="h-5 w-5" />,
      label: "LinkedIn",
    },
    {
      href: "mailto:support@phage.bio",
      icon: <Mail className="h-5 w-5" />,
      label: "Email",
    },
  ],
};
const Footer = () => {
  return (
    <footer className="relative border-t border-border/40 overflow-hidden">
      {}
      <div className="absolute inset-0 bg-gradient-to-b from-muted/20 to-background" />
      <div className="absolute top-0 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl" />
      <div className="absolute bottom-0 right-1/4 w-64 h-64 bg-secondary/5 rounded-full blur-3xl" />
      <div className="container relative mx-auto px-4 py-16 lg:py-20">
        <div className="grid gap-12 lg:grid-cols-12">
          {}
          <div className="lg:col-span-4 space-y-6">
            <NavLink href="/" className="inline-flex items-center gap-3 group">
              <div className="relative w-12 h-12 rounded-xl bg-gradient-primary p-2 shadow-lg transition-transform group-hover:scale-110">
                <Dna className="w-full h-full text-white" />
              </div>
              <span className="text-gradient font-bold text-2xl">Phage</span>
            </NavLink>
            <p className="text-muted-foreground text-lg leading-relaxed max-w-sm">
              Accelerating molecular discovery through advanced cloud-based
              simulations and AI-powered analysis.
            </p>
            {}
            <div className="flex gap-3 pt-2">
              {footerLinks.socials.map((social) => (
                <a
                  key={social.label}
                  href={social.href}
                  target="_blank"
                  rel="noreferrer"
                  className="w-11 h-11 rounded-xl bg-muted/50 flex items-center justify-center text-muted-foreground transition-all duration-300 hover:bg-primary hover:text-white hover:scale-110 hover:shadow-glow-sm"
                  aria-label={social.label}
                >
                  {social.icon}
                </a>
              ))}
            </div>
          </div>
          {}
          <div className="lg:col-span-8">
            <div className="grid grid-cols-2 gap-8 sm:grid-cols-3">
              {}
              <div>
                <h3 className="font-semibold text-lg mb-5">Platform</h3>
                <ul className="space-y-3">
                  {footerLinks.platform.map((link) => (
                    <li key={link.href}>
                      <NavLink
                        href={link.href}
                        className="text-muted-foreground transition-all duration-300 hover:text-foreground hover:translate-x-1 inline-block"
                      >
                        {link.label}
                      </NavLink>
                    </li>
                  ))}
                </ul>
              </div>
              {}
              <div>
                <h3 className="font-semibold text-lg mb-5">Company</h3>
                <ul className="space-y-3">
                  {footerLinks.company.map((link) => (
                    <li key={link.href}>
                      <NavLink
                        href={link.href}
                        className="text-muted-foreground transition-all duration-300 hover:text-foreground hover:translate-x-1 inline-block"
                      >
                        {link.label}
                      </NavLink>
                    </li>
                  ))}
                </ul>
              </div>
              {}
              <div className="col-span-2 sm:col-span-1">
                <h3 className="font-semibold text-lg mb-5">Stay Updated</h3>
                <p className="text-muted-foreground text-sm mb-4">
                  Get the latest updates on features and releases.
                </p>
                <div className="flex gap-2">
                  <input
                    type="email"
                    placeholder="Enter email"
                    className="flex-1 px-4 py-2.5 rounded-lg bg-muted/50 border border-border/50 text-sm placeholder:text-muted-foreground/70 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all"
                  />
                  <button className="px-4 py-2.5 rounded-lg bg-gradient-primary text-white text-sm font-medium hover:shadow-glow-sm transition-all duration-300 hover:scale-105">
                    Subscribe
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        {}
        <div className="mt-16 pt-8 border-t border-border/40">
          <div className="flex flex-col sm:flex-row items-center justify-between gap-4">
            <p className="text-muted-foreground text-sm">
              © {new Date().getFullYear()} Phage. All rights reserved.
            </p>
            <div className="flex items-center gap-6 text-muted-foreground text-sm">
              <NavLink
                href="/privacy"
                className="hover:text-foreground transition-colors"
              >
                Privacy Policy
              </NavLink>
              <NavLink
                href="/terms"
                className="hover:text-foreground transition-colors"
              >
                Terms of Service
              </NavLink>
            </div>
          </div>
        </div>
      </div>
    </footer>
  );
};
export default Footer;
</file>

<file path="src/components/Header.tsx">
"use client";
import { LogOut, Menu, User, X } from "lucide-react";
import Image from "next/image";
import { useEffect, useState } from "react";
import { NavLink } from "@/components/NavLink";
import { ThemeToggle } from "@/components/ThemeToggle";
import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { useAuth } from "@/lib/auth";
const navLinks = [
  { href: "/features", label: "Features" },
  { href: "/pricing", label: "Pricing" },
  { href: "/contact", label: "Contact" },
  { href: "/jobs", label: "Jobs" },
];
const Header = () => {
  const { user, signOut } = useAuth();
  const [isScrolled, setIsScrolled] = useState(false);
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 20);
    };
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);
  return (
    <>
      <header
        className={`fixed top-0 right-0 left-0 z-50 transition-all duration-500 ${
          isScrolled
            ? "bg-background/80 backdrop-blur-xl border-b border-border/40 shadow-sm"
            : "bg-transparent"
        }`}
      >
        <nav className="container mx-auto flex h-20 items-center justify-between px-4">
          {}
          <NavLink className="group flex items-center gap-3" href="/">
            <div className="relative h-12 w-12 transition-all duration-300 group-hover:scale-110">
              <Image
                alt="Phage Logo"
                src="/phagedesign.png"
                fill
                className="object-contain scale-200"
                priority
              />
            </div>
            <span className="text-gradient font-bold text-2xl tracking-tight">
              Phage
            </span>
          </NavLink>
          {}
          <div className="hidden items-center gap-1 md:flex">
            {navLinks.map((link) => (
              <NavLink
                key={link.href}
                activeClassName="text-foreground bg-primary/10"
                className="relative px-4 py-2 rounded-lg text-muted-foreground text-sm font-medium transition-all duration-300 hover:text-foreground hover:bg-muted/50"
                href={link.href}
              >
                {link.label}
              </NavLink>
            ))}
          </div>
          {}
          <div className="flex items-center gap-3">
            <ThemeToggle />
            {user ? (
              <>
                {}
                <div className="hidden items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-sm lg:flex">
                  <div className="w-2 h-2 rounded-full bg-primary animate-pulse" />
                  <span className="text-muted-foreground">Credits:</span>
                  <span className="text-gradient font-bold">
                    {user.credits}
                  </span>
                </div>
                {}
                <DropdownMenu>
                  <DropdownMenuTrigger asChild>
                    <Button
                      className="gap-2 rounded-full hover:bg-muted/50 transition-colors"
                      size="sm"
                      variant="ghost"
                    >
                      <div className="w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center text-white font-medium text-sm">
                        {user.name?.charAt(0).toUpperCase() || (
                          <User className="h-4 w-4" />
                        )}
                      </div>
                      <span className="hidden font-medium md:inline">
                        {user.name}
                      </span>
                    </Button>
                  </DropdownMenuTrigger>
                  <DropdownMenuContent
                    align="end"
                    className="w-60 p-2 glass-strong rounded-xl border-border/50"
                  >
                    <DropdownMenuLabel className="p-3">
                      <div className="flex flex-col space-y-1">
                        <p className="font-semibold">{user.name}</p>
                        <p className="text-muted-foreground text-xs truncate">
                          {user.email}
                        </p>
                      </div>
                    </DropdownMenuLabel>
                    <DropdownMenuSeparator className="bg-border/50" />
                    <DropdownMenuItem asChild>
                      <NavLink
                        className="flex items-center gap-2 cursor-pointer p-3 rounded-lg transition-colors hover:bg-muted/50"
                        href="/jobs"
                      >
                        <div className="w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center">
                          📊
                        </div>
                        My Simulations
                      </NavLink>
                    </DropdownMenuItem>
                    <DropdownMenuItem asChild>
                      <NavLink
                        className="flex items-center gap-2 cursor-pointer p-3 rounded-lg transition-colors hover:bg-muted/50"
                        href="/pricing"
                      >
                        <div className="w-8 h-8 rounded-lg bg-secondary/10 flex items-center justify-center">
                          💳
                        </div>
                        Buy Credits
                      </NavLink>
                    </DropdownMenuItem>
                    <DropdownMenuSeparator className="bg-border/50" />
                    <DropdownMenuItem
                      className="flex items-center gap-2 cursor-pointer p-3 rounded-lg text-destructive transition-colors hover:bg-destructive/10"
                      onClick={signOut}
                    >
                      <LogOut className="h-4 w-4" />
                      Sign Out
                    </DropdownMenuItem>
                  </DropdownMenuContent>
                </DropdownMenu>
                {}
                <NavLink href="/simulate" className="hidden sm:block">
                  <Button
                    className="bg-gradient-primary shadow-glow-sm hover:shadow-glow transition-all duration-300 hover:scale-105 font-semibold"
                    size="sm"
                  >
                    Start Simulation
                  </Button>
                </NavLink>
              </>
            ) : (
              <>
                <NavLink href="/auth" className="hidden sm:block">
                  <Button
                    size="sm"
                    variant="ghost"
                    className="font-medium hover:bg-muted/50"
                  >
                    Sign In
                  </Button>
                </NavLink>
                <NavLink href="/auth">
                  <Button
                    className="bg-gradient-primary shadow-glow-sm hover:shadow-glow transition-all duration-300 hover:scale-105 font-semibold"
                    size="sm"
                  >
                    Get Started
                  </Button>
                </NavLink>
              </>
            )}
            {}
            <Button
              variant="ghost"
              size="sm"
              className="md:hidden p-2"
              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
            >
              {isMobileMenuOpen ? (
                <X className="h-6 w-6" />
              ) : (
                <Menu className="h-6 w-6" />
              )}
            </Button>
          </div>
        </nav>
      </header>
      {}
      <div
        className={`fixed inset-0 z-40 md:hidden transition-all duration-300 ${
          isMobileMenuOpen
            ? "opacity-100 pointer-events-auto"
            : "opacity-0 pointer-events-none"
        }`}
      >
        {}
        <div
          className="absolute inset-0 bg-background/80 backdrop-blur-xl"
          onClick={() => setIsMobileMenuOpen(false)}
        />
        {}
        <nav
          className={`absolute top-20 left-0 right-0 bg-card/95 backdrop-blur-xl border-b border-border/40 shadow-lg transition-all duration-300 ${
            isMobileMenuOpen ? "translate-y-0" : "-translate-y-4"
          }`}
        >
          <div className="container mx-auto px-4 py-6 space-y-2">
            {navLinks.map((link, i) => (
              <NavLink
                key={link.href}
                activeClassName="text-foreground bg-primary/10"
                className="block px-4 py-3 rounded-xl text-lg font-medium text-muted-foreground transition-all duration-300 hover:text-foreground hover:bg-muted/50"
                href={link.href}
                onClick={() => setIsMobileMenuOpen(false)}
                style={{ animationDelay: `${i * 50}ms` }}
              >
                {link.label}
              </NavLink>
            ))}
            {user && (
              <>
                <div className="h-px bg-border/50 my-4" />
                <div className="flex items-center gap-3 px-4 py-3">
                  <div className="w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center text-white font-medium">
                    {user.name?.charAt(0).toUpperCase()}
                  </div>
                  <div>
                    <p className="font-medium">{user.name}</p>
                    <p className="text-muted-foreground text-sm">
                      {user.credits} credits
                    </p>
                  </div>
                </div>
                <NavLink
                  className="block px-4 py-3 rounded-xl text-lg font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-muted/50"
                  href="/simulate"
                  onClick={() => setIsMobileMenuOpen(false)}
                >
                  Start Simulation
                </NavLink>
              </>
            )}
          </div>
        </nav>
      </div>
    </>
  );
};
export default Header;
</file>

<file path="src/components/NavLink.tsx">
"use client";
import Link from "next/link";
import { usePathname } from "next/navigation";
import type { ComponentProps } from "react";
import { cn } from "@/lib/utils";
interface NavLinkProps extends ComponentProps<typeof Link> {
  activeClassName?: string;
}
export function NavLink({
  className,
  activeClassName,
  ...props
}: NavLinkProps) {
  const pathname = usePathname();
  const isActive = pathname === props.href.toString();
  return (
    <Link className={cn(className, isActive && activeClassName)} {...props} />
  );
}
</file>

<file path="src/components/ThemeToggle.tsx">
"use client";
import { Moon, Sun } from "lucide-react";
import { useTheme } from "next-themes";
import { useEffect, useState } from "react";
export const ThemeToggle = () => {
  const { theme, setTheme } = useTheme();
  const [mounted, setMounted] = useState(false);
  useEffect(() => {
    setMounted(true);
  }, []);
  if (!mounted) {
    return <div className="w-10 h-10 rounded-xl bg-muted/50 animate-pulse" />;
  }
  const isDark = theme === "dark";
  return (
    <button
      onClick={() => setTheme(isDark ? "light" : "dark")}
      className="group relative w-10 h-10 rounded-xl bg-muted/50 hover:bg-muted transition-all duration-300 flex items-center justify-center overflow-hidden focus:outline-none focus:ring-2 focus:ring-primary/50"
      aria-label={`Switch to ${isDark ? "light" : "dark"} mode`}
      tabIndex={0}
      onKeyDown={(e) => {
        if (e.key === "Enter" || e.key === " ") {
          setTheme(isDark ? "light" : "dark");
        }
      }}
    >
      {}
      <Sun
        className={`absolute h-5 w-5 transition-all duration-500 ${
          isDark
            ? "rotate-0 scale-100 text-yellow-500"
            : "rotate-90 scale-0 text-yellow-500"
        }`}
      />
      {}
      <Moon
        className={`absolute h-5 w-5 transition-all duration-500 ${
          isDark
            ? "-rotate-90 scale-0 text-primary"
            : "rotate-0 scale-100 text-primary"
        }`}
      />
      {}
      <div className="absolute inset-0 rounded-xl bg-gradient-primary opacity-0 group-hover:opacity-10 transition-opacity duration-300" />
    </button>
  );
};
</file>

<file path="src/components/ui/accordion.tsx">
"use client";
import * as AccordionPrimitive from "@radix-ui/react-accordion";
import { ChevronDownIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Accordion({
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Root>) {
  return <AccordionPrimitive.Root data-slot="accordion" {...props} />;
}
function AccordionItem({
  className,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Item>) {
  return (
    <AccordionPrimitive.Item
      data-slot="accordion-item"
      className={cn("border-b last:border-b-0", className)}
      {...props}
    />
  );
}
function AccordionTrigger({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {
  return (
    <AccordionPrimitive.Header className="flex">
      <AccordionPrimitive.Trigger
        data-slot="accordion-trigger"
        className={cn(
          "focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",
          className,
        )}
        {...props}
      >
        {children}
        <ChevronDownIcon className="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200" />
      </AccordionPrimitive.Trigger>
    </AccordionPrimitive.Header>
  );
}
function AccordionContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Content>) {
  return (
    <AccordionPrimitive.Content
      data-slot="accordion-content"
      className="data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"
      {...props}
    >
      <div className={cn("pt-0 pb-4", className)}>{children}</div>
    </AccordionPrimitive.Content>
  );
}
export { Accordion, AccordionItem, AccordionTrigger, AccordionContent };
</file>

<file path="src/components/ui/alert-dialog.tsx">
"use client";
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog";
import type * as React from "react";
import { buttonVariants } from "@/components/ui/button";
import { cn } from "@/lib/utils";
function AlertDialog({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {
  return <AlertDialogPrimitive.Root data-slot="alert-dialog" {...props} />;
}
function AlertDialogTrigger({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {
  return (
    <AlertDialogPrimitive.Trigger data-slot="alert-dialog-trigger" {...props} />
  );
}
function AlertDialogPortal({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {
  return (
    <AlertDialogPrimitive.Portal data-slot="alert-dialog-portal" {...props} />
  );
}
function AlertDialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {
  return (
    <AlertDialogPrimitive.Overlay
      data-slot="alert-dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className,
      )}
      {...props}
    />
  );
}
function AlertDialogContent({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {
  return (
    <AlertDialogPortal>
      <AlertDialogOverlay />
      <AlertDialogPrimitive.Content
        data-slot="alert-dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className,
        )}
        {...props}
      />
    </AlertDialogPortal>
  );
}
function AlertDialogHeader({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  );
}
function AlertDialogFooter({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className,
      )}
      {...props}
    />
  );
}
function AlertDialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {
  return (
    <AlertDialogPrimitive.Title
      data-slot="alert-dialog-title"
      className={cn("text-lg font-semibold", className)}
      {...props}
    />
  );
}
function AlertDialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {
  return (
    <AlertDialogPrimitive.Description
      data-slot="alert-dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}
function AlertDialogAction({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {
  return (
    <AlertDialogPrimitive.Action
      className={cn(buttonVariants(), className)}
      {...props}
    />
  );
}
function AlertDialogCancel({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {
  return (
    <AlertDialogPrimitive.Cancel
      className={cn(buttonVariants({ variant: "outline" }), className)}
      {...props}
    />
  );
}
export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
};
</file>

<file path="src/components/ui/alert.tsx">
import { cva, type VariantProps } from "class-variance-authority";
import type * as React from "react";
import { cn } from "@/lib/utils";
const alertVariants = cva(
  "relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",
  {
    variants: {
      variant: {
        default: "bg-card text-card-foreground",
        destructive:
          "text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  },
);
function Alert({
  className,
  variant,
  ...props
}: React.ComponentProps<"div"> & VariantProps<typeof alertVariants>) {
  return (
    <div
      data-slot="alert"
      role="alert"
      className={cn(alertVariants({ variant }), className)}
      {...props}
    />
  );
}
function AlertTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-title"
      className={cn(
        "col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",
        className,
      )}
      {...props}
    />
  );
}
function AlertDescription({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-description"
      className={cn(
        "text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",
        className,
      )}
      {...props}
    />
  );
}
export { Alert, AlertTitle, AlertDescription };
</file>

<file path="src/components/ui/aspect-ratio.tsx">
"use client";
import * as AspectRatioPrimitive from "@radix-ui/react-aspect-ratio";
function AspectRatio({
  ...props
}: React.ComponentProps<typeof AspectRatioPrimitive.Root>) {
  return <AspectRatioPrimitive.Root data-slot="aspect-ratio" {...props} />;
}
export { AspectRatio };
</file>

<file path="src/components/ui/avatar.tsx">
"use client";
import * as AvatarPrimitive from "@radix-ui/react-avatar";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Avatar({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Root>) {
  return (
    <AvatarPrimitive.Root
      data-slot="avatar"
      className={cn(
        "relative flex size-8 shrink-0 overflow-hidden rounded-full",
        className,
      )}
      {...props}
    />
  );
}
function AvatarImage({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Image>) {
  return (
    <AvatarPrimitive.Image
      data-slot="avatar-image"
      className={cn("aspect-square size-full", className)}
      {...props}
    />
  );
}
function AvatarFallback({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {
  return (
    <AvatarPrimitive.Fallback
      data-slot="avatar-fallback"
      className={cn(
        "bg-muted flex size-full items-center justify-center rounded-full",
        className,
      )}
      {...props}
    />
  );
}
export { Avatar, AvatarImage, AvatarFallback };
</file>

<file path="src/components/ui/badge.tsx">
import { Slot } from "@radix-ui/react-slot";
import { cva, type VariantProps } from "class-variance-authority";
import type * as React from "react";
import { cn } from "@/lib/utils";
const badgeVariants = cva(
  "inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",
        destructive:
          "border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  },
);
function Badge({
  className,
  variant,
  asChild = false,
  ...props
}: React.ComponentProps<"span"> &
  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "span";
  return (
    <Comp
      data-slot="badge"
      className={cn(badgeVariants({ variant }), className)}
      {...props}
    />
  );
}
export { Badge, badgeVariants };
</file>

<file path="src/components/ui/breadcrumb.tsx">
import { Slot } from "@radix-ui/react-slot";
import { ChevronRight, MoreHorizontal } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Breadcrumb({ ...props }: React.ComponentProps<"nav">) {
  return <nav aria-label="breadcrumb" data-slot="breadcrumb" {...props} />;
}
function BreadcrumbList({ className, ...props }: React.ComponentProps<"ol">) {
  return (
    <ol
      data-slot="breadcrumb-list"
      className={cn(
        "text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",
        className,
      )}
      {...props}
    />
  );
}
function BreadcrumbItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="breadcrumb-item"
      className={cn("inline-flex items-center gap-1.5", className)}
      {...props}
    />
  );
}
function BreadcrumbLink({
  asChild,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean;
}) {
  const Comp = asChild ? Slot : "a";
  return (
    <Comp
      data-slot="breadcrumb-link"
      className={cn("hover:text-foreground transition-colors", className)}
      {...props}
    />
  );
}
function BreadcrumbPage({ className, ...props }: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="breadcrumb-page"
      role="link"
      aria-disabled="true"
      aria-current="page"
      className={cn("text-foreground font-normal", className)}
      {...props}
    />
  );
}
function BreadcrumbSeparator({
  children,
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="breadcrumb-separator"
      role="presentation"
      aria-hidden="true"
      className={cn("[&>svg]:size-3.5", className)}
      {...props}
    >
      {children ?? <ChevronRight />}
    </li>
  );
}
function BreadcrumbEllipsis({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="breadcrumb-ellipsis"
      role="presentation"
      aria-hidden="true"
      className={cn("flex size-9 items-center justify-center", className)}
      {...props}
    >
      <MoreHorizontal className="size-4" />
      <span className="sr-only">More</span>
    </span>
  );
}
export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
};
</file>

<file path="src/components/ui/button.tsx">
import { Slot } from "@radix-ui/react-slot";
import { cva, type VariantProps } from "class-variance-authority";
import type * as React from "react";
import { cn } from "@/lib/utils";
const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
        "icon-sm": "size-8",
        "icon-lg": "size-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);
function Button({
  className,
  variant = "default",
  size = "default",
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean;
  }) {
  const Comp = asChild ? Slot : "button";
  return (
    <Comp
      data-slot="button"
      data-variant={variant}
      data-size={size}
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  );
}
export { Button, buttonVariants };
</file>

<file path="src/components/ui/calendar.tsx">
"use client";
import {
  ChevronDownIcon,
  ChevronLeftIcon,
  ChevronRightIcon,
} from "lucide-react";
import * as React from "react";
import {
  type DayButton,
  DayPicker,
  getDefaultClassNames,
} from "react-day-picker";
import { Button, buttonVariants } from "@/components/ui/button";
import { cn } from "@/lib/utils";
function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  captionLayout = "label",
  buttonVariant = "ghost",
  formatters,
  components,
  ...props
}: React.ComponentProps<typeof DayPicker> & {
  buttonVariant?: React.ComponentProps<typeof Button>["variant"];
}) {
  const defaultClassNames = getDefaultClassNames();
  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn(
        "bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",
        String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,
        String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,
        className,
      )}
      captionLayout={captionLayout}
      formatters={{
        formatMonthDropdown: (date) =>
          date.toLocaleString("default", { month: "short" }),
        ...formatters,
      }}
      classNames={{
        root: cn("w-fit", defaultClassNames.root),
        months: cn(
          "flex gap-4 flex-col md:flex-row relative",
          defaultClassNames.months,
        ),
        month: cn("flex flex-col w-full gap-4", defaultClassNames.month),
        nav: cn(
          "flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",
          defaultClassNames.nav,
        ),
        button_previous: cn(
          buttonVariants({ variant: buttonVariant }),
          "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",
          defaultClassNames.button_previous,
        ),
        button_next: cn(
          buttonVariants({ variant: buttonVariant }),
          "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",
          defaultClassNames.button_next,
        ),
        month_caption: cn(
          "flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",
          defaultClassNames.month_caption,
        ),
        dropdowns: cn(
          "w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",
          defaultClassNames.dropdowns,
        ),
        dropdown_root: cn(
          "relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",
          defaultClassNames.dropdown_root,
        ),
        dropdown: cn(
          "absolute bg-popover inset-0 opacity-0",
          defaultClassNames.dropdown,
        ),
        caption_label: cn(
          "select-none font-medium",
          captionLayout === "label"
            ? "text-sm"
            : "rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",
          defaultClassNames.caption_label,
        ),
        table: "w-full border-collapse",
        weekdays: cn("flex", defaultClassNames.weekdays),
        weekday: cn(
          "text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",
          defaultClassNames.weekday,
        ),
        week: cn("flex w-full mt-2", defaultClassNames.week),
        week_number_header: cn(
          "select-none w-(--cell-size)",
          defaultClassNames.week_number_header,
        ),
        week_number: cn(
          "text-[0.8rem] select-none text-muted-foreground",
          defaultClassNames.week_number,
        ),
        day: cn(
          "relative w-full h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",
          props.showWeekNumber
            ? "[&:nth-child(2)[data-selected=true]_button]:rounded-l-md"
            : "[&:first-child[data-selected=true]_button]:rounded-l-md",
          defaultClassNames.day,
        ),
        range_start: cn(
          "rounded-l-md bg-accent",
          defaultClassNames.range_start,
        ),
        range_middle: cn("rounded-none", defaultClassNames.range_middle),
        range_end: cn("rounded-r-md bg-accent", defaultClassNames.range_end),
        today: cn(
          "bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",
          defaultClassNames.today,
        ),
        outside: cn(
          "text-muted-foreground aria-selected:text-muted-foreground",
          defaultClassNames.outside,
        ),
        disabled: cn(
          "text-muted-foreground opacity-50",
          defaultClassNames.disabled,
        ),
        hidden: cn("invisible", defaultClassNames.hidden),
        ...classNames,
      }}
      components={{
        Root: ({ className, rootRef, ...props }) => {
          return (
            <div
              data-slot="calendar"
              ref={rootRef}
              className={cn(className)}
              {...props}
            />
          );
        },
        Chevron: ({ className, orientation, ...props }) => {
          if (orientation === "left") {
            return (
              <ChevronLeftIcon className={cn("size-4", className)} {...props} />
            );
          }
          if (orientation === "right") {
            return (
              <ChevronRightIcon
                className={cn("size-4", className)}
                {...props}
              />
            );
          }
          return (
            <ChevronDownIcon className={cn("size-4", className)} {...props} />
          );
        },
        DayButton: CalendarDayButton,
        WeekNumber: ({ children, ...props }) => {
          return (
            <td {...props}>
              <div className="flex size-(--cell-size) items-center justify-center text-center">
                {children}
              </div>
            </td>
          );
        },
        ...components,
      }}
      {...props}
    />
  );
}
function CalendarDayButton({
  className,
  day,
  modifiers,
  ...props
}: React.ComponentProps<typeof DayButton>) {
  const defaultClassNames = getDefaultClassNames();
  const ref = React.useRef<HTMLButtonElement>(null);
  React.useEffect(() => {
    if (modifiers.focused) ref.current?.focus();
  }, [modifiers.focused]);
  return (
    <Button
      ref={ref}
      variant="ghost"
      size="icon"
      data-day={day.date.toLocaleDateString()}
      data-selected-single={
        modifiers.selected &&
        !modifiers.range_start &&
        !modifiers.range_end &&
        !modifiers.range_middle
      }
      data-range-start={modifiers.range_start}
      data-range-end={modifiers.range_end}
      data-range-middle={modifiers.range_middle}
      className={cn(
        "data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",
        defaultClassNames.day,
        className,
      )}
      {...props}
    />
  );
}
export { Calendar, CalendarDayButton };
</file>

<file path="src/components/ui/card.tsx">
import type * as React from "react";
import { cn } from "@/lib/utils";
function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className,
      )}
      {...props}
    />
  );
}
function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className,
      )}
      {...props}
    />
  );
}
function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-title"
      className={cn("leading-none font-semibold", className)}
      {...props}
    />
  );
}
function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}
function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className,
      )}
      {...props}
    />
  );
}
function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6", className)}
      {...props}
    />
  );
}
function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 [.border-t]:pt-6", className)}
      {...props}
    />
  );
}
export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
};
</file>

<file path="src/components/ui/carousel.tsx">
"use client";
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from "embla-carousel-react";
import { ArrowLeft, ArrowRight } from "lucide-react";
import * as React from "react";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";
type CarouselApi = UseEmblaCarouselType[1];
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>;
type CarouselOptions = UseCarouselParameters[0];
type CarouselPlugin = UseCarouselParameters[1];
type CarouselProps = {
  opts?: CarouselOptions;
  plugins?: CarouselPlugin;
  orientation?: "horizontal" | "vertical";
  setApi?: (api: CarouselApi) => void;
};
type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0];
  api: ReturnType<typeof useEmblaCarousel>[1];
  scrollPrev: () => void;
  scrollNext: () => void;
  canScrollPrev: boolean;
  canScrollNext: boolean;
} & CarouselProps;
const CarouselContext = React.createContext<CarouselContextProps | null>(null);
function useCarousel() {
  const context = React.useContext(CarouselContext);
  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />");
  }
  return context;
}
function Carousel({
  orientation = "horizontal",
  opts,
  setApi,
  plugins,
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & CarouselProps) {
  const [carouselRef, api] = useEmblaCarousel(
    {
      ...opts,
      axis: orientation === "horizontal" ? "x" : "y",
    },
    plugins,
  );
  const [canScrollPrev, setCanScrollPrev] = React.useState(false);
  const [canScrollNext, setCanScrollNext] = React.useState(false);
  const onSelect = React.useCallback((api: CarouselApi) => {
    if (!api) return;
    setCanScrollPrev(api.canScrollPrev());
    setCanScrollNext(api.canScrollNext());
  }, []);
  const scrollPrev = React.useCallback(() => {
    api?.scrollPrev();
  }, [api]);
  const scrollNext = React.useCallback(() => {
    api?.scrollNext();
  }, [api]);
  const handleKeyDown = React.useCallback(
    (event: React.KeyboardEvent<HTMLDivElement>) => {
      if (event.key === "ArrowLeft") {
        event.preventDefault();
        scrollPrev();
      } else if (event.key === "ArrowRight") {
        event.preventDefault();
        scrollNext();
      }
    },
    [scrollPrev, scrollNext],
  );
  React.useEffect(() => {
    if (!api || !setApi) return;
    setApi(api);
  }, [api, setApi]);
  React.useEffect(() => {
    if (!api) return;
    onSelect(api);
    api.on("reInit", onSelect);
    api.on("select", onSelect);
    return () => {
      api?.off("select", onSelect);
    };
  }, [api, onSelect]);
  return (
    <CarouselContext.Provider
      value={{
        carouselRef,
        api: api,
        opts,
        orientation:
          orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
        scrollPrev,
        scrollNext,
        canScrollPrev,
        canScrollNext,
      }}
    >
      <div
        onKeyDownCapture={handleKeyDown}
        className={cn("relative", className)}
        role="region"
        aria-roledescription="carousel"
        data-slot="carousel"
        {...props}
      >
        {children}
      </div>
    </CarouselContext.Provider>
  );
}
function CarouselContent({ className, ...props }: React.ComponentProps<"div">) {
  const { carouselRef, orientation } = useCarousel();
  return (
    <div
      ref={carouselRef}
      className="overflow-hidden"
      data-slot="carousel-content"
    >
      <div
        className={cn(
          "flex",
          orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col",
          className,
        )}
        {...props}
      />
    </div>
  );
}
function CarouselItem({ className, ...props }: React.ComponentProps<"div">) {
  const { orientation } = useCarousel();
  return (
    <div
      role="group"
      aria-roledescription="slide"
      data-slot="carousel-item"
      className={cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        orientation === "horizontal" ? "pl-4" : "pt-4",
        className,
      )}
      {...props}
    />
  );
}
function CarouselPrevious({
  className,
  variant = "outline",
  size = "icon",
  ...props
}: React.ComponentProps<typeof Button>) {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel();
  return (
    <Button
      data-slot="carousel-previous"
      variant={variant}
      size={size}
      className={cn(
        "absolute size-8 rounded-full",
        orientation === "horizontal"
          ? "top-1/2 -left-12 -translate-y-1/2"
          : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
        className,
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft />
      <span className="sr-only">Previous slide</span>
    </Button>
  );
}
function CarouselNext({
  className,
  variant = "outline",
  size = "icon",
  ...props
}: React.ComponentProps<typeof Button>) {
  const { orientation, scrollNext, canScrollNext } = useCarousel();
  return (
    <Button
      data-slot="carousel-next"
      variant={variant}
      size={size}
      className={cn(
        "absolute size-8 rounded-full",
        orientation === "horizontal"
          ? "top-1/2 -right-12 -translate-y-1/2"
          : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
        className,
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight />
      <span className="sr-only">Next slide</span>
    </Button>
  );
}
export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
};
</file>

<file path="src/components/ui/chart.tsx">
"use client";
import * as React from "react";
import * as RechartsPrimitive from "recharts";
import { cn } from "@/lib/utils";
const THEMES = { light: "", dark: ".dark" } as const;
export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode;
    icon?: React.ComponentType;
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  );
};
type ChartContextProps = {
  config: ChartConfig;
};
const ChartContext = React.createContext<ChartContextProps | null>(null);
function useChart() {
  const context = React.useContext(ChartContext);
  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />");
  }
  return context;
}
function ChartContainer({
  id,
  className,
  children,
  config,
  ...props
}: React.ComponentProps<"div"> & {
  config: ChartConfig;
  children: React.ComponentProps<
    typeof RechartsPrimitive.ResponsiveContainer
  >["children"];
}) {
  const uniqueId = React.useId();
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`;
  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-slot="chart"
        data-chart={chartId}
        className={cn(
          "[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",
          className,
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  );
}
const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([, config]) => config.theme || config.color,
  );
  if (!colorConfig.length) {
    return null;
  }
  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color;
    return color ? `  --color-${key}: ${color};` : null;
  })
  .join("\n")}
}
`,
          )
          .join("\n"),
      }}
    />
  );
};
const ChartTooltip = RechartsPrimitive.Tooltip;
function ChartTooltipContent({
  active,
  payload,
  className,
  indicator = "dot",
  hideLabel = false,
  hideIndicator = false,
  label,
  labelFormatter,
  labelClassName,
  formatter,
  color,
  nameKey,
  labelKey,
}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
  React.ComponentProps<"div"> & {
    hideLabel?: boolean;
    hideIndicator?: boolean;
    indicator?: "line" | "dot" | "dashed";
    nameKey?: string;
    labelKey?: string;
  }) {
  const { config } = useChart();
  const tooltipLabel = React.useMemo(() => {
    if (hideLabel || !payload?.length) {
      return null;
    }
    const [item] = payload;
    const key = `${labelKey || item?.dataKey || item?.name || "value"}`;
    const itemConfig = getPayloadConfigFromPayload(config, item, key);
    const value =
      !labelKey && typeof label === "string"
        ? config[label as keyof typeof config]?.label || label
        : itemConfig?.label;
    if (labelFormatter) {
      return (
        <div className={cn("font-medium", labelClassName)}>
          {labelFormatter(value, payload)}
        </div>
      );
    }
    if (!value) {
      return null;
    }
    return <div className={cn("font-medium", labelClassName)}>{value}</div>;
  }, [
    label,
    labelFormatter,
    payload,
    hideLabel,
    labelClassName,
    config,
    labelKey,
  ]);
  if (!active || !payload?.length) {
    return null;
  }
  const nestLabel = payload.length === 1 && indicator !== "dot";
  return (
    <div
      className={cn(
        "border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",
        className,
      )}
    >
      {!nestLabel ? tooltipLabel : null}
      <div className="grid gap-1.5">
        {payload
          .filter((item) => item.type !== "none")
          .map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || "value"}`;
            const itemConfig = getPayloadConfigFromPayload(config, item, key);
            const indicatorColor = color || item.payload.fill || item.color;
            return (
              <div
                key={item.dataKey}
                className={cn(
                  "[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",
                  indicator === "dot" && "items-center",
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn(
                            "shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",
                            {
                              "h-2.5 w-2.5": indicator === "dot",
                              "w-1": indicator === "line",
                              "w-0 border-[1.5px] border-dashed bg-transparent":
                                indicator === "dashed",
                              "my-0.5": nestLabel && indicator === "dashed",
                            },
                          )}
                          style={
                            {
                              "--color-bg": indicatorColor,
                              "--color-border": indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        "flex flex-1 justify-between leading-none",
                        nestLabel ? "items-end" : "items-center",
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">
                          {itemConfig?.label || item.name}
                        </span>
                      </div>
                      {item.value && (
                        <span className="text-foreground font-mono font-medium tabular-nums">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            );
          })}
      </div>
    </div>
  );
}
const ChartLegend = RechartsPrimitive.Legend;
function ChartLegendContent({
  className,
  hideIcon = false,
  payload,
  verticalAlign = "bottom",
  nameKey,
}: React.ComponentProps<"div"> &
  Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
    hideIcon?: boolean;
    nameKey?: string;
  }) {
  const { config } = useChart();
  if (!payload?.length) {
    return null;
  }
  return (
    <div
      className={cn(
        "flex items-center justify-center gap-4",
        verticalAlign === "top" ? "pb-3" : "pt-3",
        className,
      )}
    >
      {payload
        .filter((item) => item.type !== "none")
        .map((item) => {
          const key = `${nameKey || item.dataKey || "value"}`;
          const itemConfig = getPayloadConfigFromPayload(config, item, key);
          return (
            <div
              key={item.value}
              className={cn(
                "[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3",
              )}
            >
              {itemConfig?.icon && !hideIcon ? (
                <itemConfig.icon />
              ) : (
                <div
                  className="h-2 w-2 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                />
              )}
              {itemConfig?.label}
            </div>
          );
        })}
    </div>
  );
}
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string,
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined;
  }
  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined;
  let configLabelKey: string = key;
  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string;
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string;
  }
  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config];
}
export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
};
</file>

<file path="src/components/ui/checkbox.tsx">
"use client";
import * as CheckboxPrimitive from "@radix-ui/react-checkbox";
import { CheckIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Checkbox({
  className,
  ...props
}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {
  return (
    <CheckboxPrimitive.Root
      data-slot="checkbox"
      className={cn(
        "peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    >
      <CheckboxPrimitive.Indicator
        data-slot="checkbox-indicator"
        className="grid place-content-center text-current transition-none"
      >
        <CheckIcon className="size-3.5" />
      </CheckboxPrimitive.Indicator>
    </CheckboxPrimitive.Root>
  );
}
export { Checkbox };
</file>

<file path="src/components/ui/collapsible.tsx">
"use client";
import * as CollapsiblePrimitive from "@radix-ui/react-collapsible";
function Collapsible({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {
  return <CollapsiblePrimitive.Root data-slot="collapsible" {...props} />;
}
function CollapsibleTrigger({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {
  return (
    <CollapsiblePrimitive.CollapsibleTrigger
      data-slot="collapsible-trigger"
      {...props}
    />
  );
}
function CollapsibleContent({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {
  return (
    <CollapsiblePrimitive.CollapsibleContent
      data-slot="collapsible-content"
      {...props}
    />
  );
}
export { Collapsible, CollapsibleTrigger, CollapsibleContent };
</file>

<file path="src/components/ui/context-menu.tsx">
"use client";
import * as ContextMenuPrimitive from "@radix-ui/react-context-menu";
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function ContextMenu({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Root>) {
  return <ContextMenuPrimitive.Root data-slot="context-menu" {...props} />;
}
function ContextMenuTrigger({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Trigger>) {
  return (
    <ContextMenuPrimitive.Trigger data-slot="context-menu-trigger" {...props} />
  );
}
function ContextMenuGroup({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Group>) {
  return (
    <ContextMenuPrimitive.Group data-slot="context-menu-group" {...props} />
  );
}
function ContextMenuPortal({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Portal>) {
  return (
    <ContextMenuPrimitive.Portal data-slot="context-menu-portal" {...props} />
  );
}
function ContextMenuSub({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Sub>) {
  return <ContextMenuPrimitive.Sub data-slot="context-menu-sub" {...props} />;
}
function ContextMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioGroup>) {
  return (
    <ContextMenuPrimitive.RadioGroup
      data-slot="context-menu-radio-group"
      {...props}
    />
  );
}
function ContextMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubTrigger> & {
  inset?: boolean;
}) {
  return (
    <ContextMenuPrimitive.SubTrigger
      data-slot="context-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto" />
    </ContextMenuPrimitive.SubTrigger>
  );
}
function ContextMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubContent>) {
  return (
    <ContextMenuPrimitive.SubContent
      data-slot="context-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className,
      )}
      {...props}
    />
  );
}
function ContextMenuContent({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Content>) {
  return (
    <ContextMenuPrimitive.Portal>
      <ContextMenuPrimitive.Content
        data-slot="context-menu-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className,
        )}
        {...props}
      />
    </ContextMenuPrimitive.Portal>
  );
}
function ContextMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Item> & {
  inset?: boolean;
  variant?: "default" | "destructive";
}) {
  return (
    <ContextMenuPrimitive.Item
      data-slot="context-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}
function ContextMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {
  return (
    <ContextMenuPrimitive.CheckboxItem
      data-slot="context-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <ContextMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </ContextMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </ContextMenuPrimitive.CheckboxItem>
  );
}
function ContextMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {
  return (
    <ContextMenuPrimitive.RadioItem
      data-slot="context-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <ContextMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </ContextMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </ContextMenuPrimitive.RadioItem>
  );
}
function ContextMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Label> & {
  inset?: boolean;
}) {
  return (
    <ContextMenuPrimitive.Label
      data-slot="context-menu-label"
      data-inset={inset}
      className={cn(
        "text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className,
      )}
      {...props}
    />
  );
}
function ContextMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Separator>) {
  return (
    <ContextMenuPrimitive.Separator
      data-slot="context-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  );
}
function ContextMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="context-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className,
      )}
      {...props}
    />
  );
}
export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
};
</file>

<file path="src/components/ui/dialog.tsx">
"use client";
import * as DialogPrimitive from "@radix-ui/react-dialog";
import { XIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Dialog({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Root>) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />;
}
function DialogTrigger({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />;
}
function DialogPortal({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Portal>) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />;
}
function DialogClose({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Close>) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />;
}
function DialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {
  return (
    <DialogPrimitive.Overlay
      data-slot="dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className,
      )}
      {...props}
    />
  );
}
function DialogContent({
  className,
  children,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Content> & {
  showCloseButton?: boolean;
}) {
  return (
    <DialogPortal data-slot="dialog-portal">
      <DialogOverlay />
      <DialogPrimitive.Content
        data-slot="dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",
          className,
        )}
        {...props}
      >
        {children}
        {showCloseButton && (
          <DialogPrimitive.Close
            data-slot="dialog-close"
            className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"
          >
            <XIcon />
            <span className="sr-only">Close</span>
          </DialogPrimitive.Close>
        )}
      </DialogPrimitive.Content>
    </DialogPortal>
  );
}
function DialogHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  );
}
function DialogFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className,
      )}
      {...props}
    />
  );
}
function DialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Title>) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props}
    />
  );
}
function DialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Description>) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}
export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
};
</file>

<file path="src/components/ui/drawer.tsx">
"use client";
import type * as React from "react";
import { Drawer as DrawerPrimitive } from "vaul";
import { cn } from "@/lib/utils";
function Drawer({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) {
  return <DrawerPrimitive.Root data-slot="drawer" {...props} />;
}
function DrawerTrigger({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Trigger>) {
  return <DrawerPrimitive.Trigger data-slot="drawer-trigger" {...props} />;
}
function DrawerPortal({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Portal>) {
  return <DrawerPrimitive.Portal data-slot="drawer-portal" {...props} />;
}
function DrawerClose({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Close>) {
  return <DrawerPrimitive.Close data-slot="drawer-close" {...props} />;
}
function DrawerOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Overlay>) {
  return (
    <DrawerPrimitive.Overlay
      data-slot="drawer-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className,
      )}
      {...props}
    />
  );
}
function DrawerContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Content>) {
  return (
    <DrawerPortal data-slot="drawer-portal">
      <DrawerOverlay />
      <DrawerPrimitive.Content
        data-slot="drawer-content"
        className={cn(
          "group/drawer-content bg-background fixed z-50 flex h-auto flex-col",
          "data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b",
          "data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t",
          "data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm",
          "data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",
          className,
        )}
        {...props}
      >
        <div className="bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block" />
        {children}
      </DrawerPrimitive.Content>
    </DrawerPortal>
  );
}
function DrawerHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="drawer-header"
      className={cn(
        "flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",
        className,
      )}
      {...props}
    />
  );
}
function DrawerFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="drawer-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  );
}
function DrawerTitle({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Title>) {
  return (
    <DrawerPrimitive.Title
      data-slot="drawer-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  );
}
function DrawerDescription({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Description>) {
  return (
    <DrawerPrimitive.Description
      data-slot="drawer-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}
export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
};
</file>

<file path="src/components/ui/dropdown-menu.tsx">
"use client";
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu";
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />;
}
function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  );
}
function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  );
}
function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className,
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  );
}
function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  );
}
function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean;
  variant?: "default" | "destructive";
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}
function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  );
}
function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  );
}
function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  );
}
function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean;
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className,
      )}
      {...props}
    />
  );
}
function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  );
}
function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className,
      )}
      {...props}
    />
  );
}
function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />;
}
function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean;
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  );
}
function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className,
      )}
      {...props}
    />
  );
}
export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
};
</file>

<file path="src/components/ui/form.tsx">
"use client";
import type * as LabelPrimitive from "@radix-ui/react-label";
import { Slot } from "@radix-ui/react-slot";
import * as React from "react";
import {
  Controller,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
  FormProvider,
  useFormContext,
  useFormState,
} from "react-hook-form";
import { Label } from "@/components/ui/label";
import { cn } from "@/lib/utils";
const Form = FormProvider;
type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
> = {
  name: TName;
};
const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue,
);
const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  );
};
const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext);
  const itemContext = React.useContext(FormItemContext);
  const { getFieldState } = useFormContext();
  const formState = useFormState({ name: fieldContext.name });
  const fieldState = getFieldState(fieldContext.name, formState);
  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>");
  }
  const { id } = itemContext;
  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  };
};
type FormItemContextValue = {
  id: string;
};
const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue,
);
function FormItem({ className, ...props }: React.ComponentProps<"div">) {
  const id = React.useId();
  return (
    <FormItemContext.Provider value={{ id }}>
      <div
        data-slot="form-item"
        className={cn("grid gap-2", className)}
        {...props}
      />
    </FormItemContext.Provider>
  );
}
function FormLabel({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  const { error, formItemId } = useFormField();
  return (
    <Label
      data-slot="form-label"
      data-error={!!error}
      className={cn("data-[error=true]:text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  );
}
function FormControl({ ...props }: React.ComponentProps<typeof Slot>) {
  const { error, formItemId, formDescriptionId, formMessageId } =
    useFormField();
  return (
    <Slot
      data-slot="form-control"
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  );
}
function FormDescription({ className, ...props }: React.ComponentProps<"p">) {
  const { formDescriptionId } = useFormField();
  return (
    <p
      data-slot="form-description"
      id={formDescriptionId}
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}
function FormMessage({ className, ...props }: React.ComponentProps<"p">) {
  const { error, formMessageId } = useFormField();
  const body = error ? String(error?.message ?? "") : props.children;
  if (!body) {
    return null;
  }
  return (
    <p
      data-slot="form-message"
      id={formMessageId}
      className={cn("text-destructive text-sm", className)}
      {...props}
    >
      {body}
    </p>
  );
}
export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
};
</file>

<file path="src/components/ui/hover-card.tsx">
"use client";
import * as HoverCardPrimitive from "@radix-ui/react-hover-card";
import type * as React from "react";
import { cn } from "@/lib/utils";
function HoverCard({
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Root>) {
  return <HoverCardPrimitive.Root data-slot="hover-card" {...props} />;
}
function HoverCardTrigger({
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Trigger>) {
  return (
    <HoverCardPrimitive.Trigger data-slot="hover-card-trigger" {...props} />
  );
}
function HoverCardContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Content>) {
  return (
    <HoverCardPrimitive.Portal data-slot="hover-card-portal">
      <HoverCardPrimitive.Content
        data-slot="hover-card-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className,
        )}
        {...props}
      />
    </HoverCardPrimitive.Portal>
  );
}
export { HoverCard, HoverCardTrigger, HoverCardContent };
</file>

<file path="src/components/ui/input-otp.tsx">
"use client";
import { OTPInput, OTPInputContext } from "input-otp";
import { MinusIcon } from "lucide-react";
import * as React from "react";
import { cn } from "@/lib/utils";
function InputOTP({
  className,
  containerClassName,
  ...props
}: React.ComponentProps<typeof OTPInput> & {
  containerClassName?: string;
}) {
  return (
    <OTPInput
      data-slot="input-otp"
      containerClassName={cn(
        "flex items-center gap-2 has-disabled:opacity-50",
        containerClassName,
      )}
      className={cn("disabled:cursor-not-allowed", className)}
      {...props}
    />
  );
}
function InputOTPGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="input-otp-group"
      className={cn("flex items-center", className)}
      {...props}
    />
  );
}
function InputOTPSlot({
  index,
  className,
  ...props
}: React.ComponentProps<"div"> & {
  index: number;
}) {
  const inputOTPContext = React.useContext(OTPInputContext);
  const { char, hasFakeCaret, isActive } = inputOTPContext?.slots[index] ?? {};
  return (
    <div
      data-slot="input-otp-slot"
      data-active={isActive}
      className={cn(
        "data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",
        className,
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="animate-caret-blink bg-foreground h-4 w-px duration-1000" />
        </div>
      )}
    </div>
  );
}
function InputOTPSeparator({ ...props }: React.ComponentProps<"div">) {
  return (
    <div data-slot="input-otp-separator" role="separator" {...props}>
      <MinusIcon />
    </div>
  );
}
export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };
</file>

<file path="src/components/ui/input.tsx">
import type * as React from "react";
import { cn } from "@/lib/utils";
function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className,
      )}
      {...props}
    />
  );
}
export { Input };
</file>

<file path="src/components/ui/label.tsx">
"use client";
import * as LabelPrimitive from "@radix-ui/react-label";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Label({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        "flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",
        className,
      )}
      {...props}
    />
  );
}
export { Label };
</file>

<file path="src/components/ui/menubar.tsx">
"use client";
import * as MenubarPrimitive from "@radix-ui/react-menubar";
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Menubar({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Root>) {
  return (
    <MenubarPrimitive.Root
      data-slot="menubar"
      className={cn(
        "bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",
        className,
      )}
      {...props}
    />
  );
}
function MenubarMenu({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {
  return <MenubarPrimitive.Menu data-slot="menubar-menu" {...props} />;
}
function MenubarGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Group>) {
  return <MenubarPrimitive.Group data-slot="menubar-group" {...props} />;
}
function MenubarPortal({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {
  return <MenubarPrimitive.Portal data-slot="menubar-portal" {...props} />;
}
function MenubarRadioGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {
  return (
    <MenubarPrimitive.RadioGroup data-slot="menubar-radio-group" {...props} />
  );
}
function MenubarTrigger({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Trigger>) {
  return (
    <MenubarPrimitive.Trigger
      data-slot="menubar-trigger"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",
        className,
      )}
      {...props}
    />
  );
}
function MenubarContent({
  className,
  align = "start",
  alignOffset = -4,
  sideOffset = 8,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Content>) {
  return (
    <MenubarPortal>
      <MenubarPrimitive.Content
        data-slot="menubar-content"
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",
          className,
        )}
        {...props}
      />
    </MenubarPortal>
  );
}
function MenubarItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Item> & {
  inset?: boolean;
  variant?: "default" | "destructive";
}) {
  return (
    <MenubarPrimitive.Item
      data-slot="menubar-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}
function MenubarCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.CheckboxItem>) {
  return (
    <MenubarPrimitive.CheckboxItem
      data-slot="menubar-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <MenubarPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </MenubarPrimitive.ItemIndicator>
      </span>
      {children}
    </MenubarPrimitive.CheckboxItem>
  );
}
function MenubarRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioItem>) {
  return (
    <MenubarPrimitive.RadioItem
      data-slot="menubar-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <MenubarPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </MenubarPrimitive.ItemIndicator>
      </span>
      {children}
    </MenubarPrimitive.RadioItem>
  );
}
function MenubarLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Label> & {
  inset?: boolean;
}) {
  return (
    <MenubarPrimitive.Label
      data-slot="menubar-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className,
      )}
      {...props}
    />
  );
}
function MenubarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Separator>) {
  return (
    <MenubarPrimitive.Separator
      data-slot="menubar-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  );
}
function MenubarShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="menubar-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className,
      )}
      {...props}
    />
  );
}
function MenubarSub({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {
  return <MenubarPrimitive.Sub data-slot="menubar-sub" {...props} />;
}
function MenubarSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubTrigger> & {
  inset?: boolean;
}) {
  return (
    <MenubarPrimitive.SubTrigger
      data-slot="menubar-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[inset]:pl-8",
        className,
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto h-4 w-4" />
    </MenubarPrimitive.SubTrigger>
  );
}
function MenubarSubContent({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubContent>) {
  return (
    <MenubarPrimitive.SubContent
      data-slot="menubar-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className,
      )}
      {...props}
    />
  );
}
export {
  Menubar,
  MenubarPortal,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarGroup,
  MenubarSeparator,
  MenubarLabel,
  MenubarItem,
  MenubarShortcut,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarSub,
  MenubarSubTrigger,
  MenubarSubContent,
};
</file>

<file path="src/components/ui/navigation-menu.tsx">
import * as NavigationMenuPrimitive from "@radix-ui/react-navigation-menu";
import { cva } from "class-variance-authority";
import { ChevronDownIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function NavigationMenu({
  className,
  children,
  viewport = true,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Root> & {
  viewport?: boolean;
}) {
  return (
    <NavigationMenuPrimitive.Root
      data-slot="navigation-menu"
      data-viewport={viewport}
      className={cn(
        "group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",
        className,
      )}
      {...props}
    >
      {children}
      {viewport && <NavigationMenuViewport />}
    </NavigationMenuPrimitive.Root>
  );
}
function NavigationMenuList({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.List>) {
  return (
    <NavigationMenuPrimitive.List
      data-slot="navigation-menu-list"
      className={cn(
        "group flex flex-1 list-none items-center justify-center gap-1",
        className,
      )}
      {...props}
    />
  );
}
function NavigationMenuItem({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Item>) {
  return (
    <NavigationMenuPrimitive.Item
      data-slot="navigation-menu-item"
      className={cn("relative", className)}
      {...props}
    />
  );
}
const navigationMenuTriggerStyle = cva(
  "group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1",
);
function NavigationMenuTrigger({
  className,
  children,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Trigger>) {
  return (
    <NavigationMenuPrimitive.Trigger
      data-slot="navigation-menu-trigger"
      className={cn(navigationMenuTriggerStyle(), "group", className)}
      {...props}
    >
      {children}{" "}
      <ChevronDownIcon
        className="relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180"
        aria-hidden="true"
      />
    </NavigationMenuPrimitive.Trigger>
  );
}
function NavigationMenuContent({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Content>) {
  return (
    <NavigationMenuPrimitive.Content
      data-slot="navigation-menu-content"
      className={cn(
        "data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto",
        "group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none",
        className,
      )}
      {...props}
    />
  );
}
function NavigationMenuViewport({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Viewport>) {
  return (
    <div
      className={cn(
        "absolute top-full left-0 isolate z-50 flex justify-center",
      )}
    >
      <NavigationMenuPrimitive.Viewport
        data-slot="navigation-menu-viewport"
        className={cn(
          "origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",
          className,
        )}
        {...props}
      />
    </div>
  );
}
function NavigationMenuLink({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Link>) {
  return (
    <NavigationMenuPrimitive.Link
      data-slot="navigation-menu-link"
      className={cn(
        "data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}
function NavigationMenuIndicator({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Indicator>) {
  return (
    <NavigationMenuPrimitive.Indicator
      data-slot="navigation-menu-indicator"
      className={cn(
        "data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden",
        className,
      )}
      {...props}
    >
      <div className="bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md" />
    </NavigationMenuPrimitive.Indicator>
  );
}
export {
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
  navigationMenuTriggerStyle,
};
</file>

<file path="src/components/ui/pagination.tsx">
import {
  ChevronLeftIcon,
  ChevronRightIcon,
  MoreHorizontalIcon,
} from "lucide-react";
import type * as React from "react";
import { type Button, buttonVariants } from "@/components/ui/button";
import { cn } from "@/lib/utils";
function Pagination({ className, ...props }: React.ComponentProps<"nav">) {
  return (
    <nav
      aria-label="pagination"
      data-slot="pagination"
      className={cn("mx-auto flex w-full justify-center", className)}
      {...props}
    />
  );
}
function PaginationContent({
  className,
  ...props
}: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="pagination-content"
      className={cn("flex flex-row items-center gap-1", className)}
      {...props}
    />
  );
}
function PaginationItem({ ...props }: React.ComponentProps<"li">) {
  return <li data-slot="pagination-item" {...props} />;
}
type PaginationLinkProps = {
  isActive?: boolean;
} & Pick<React.ComponentProps<typeof Button>, "size"> &
  React.ComponentProps<"a">;
function PaginationLink({
  className,
  isActive,
  size = "icon",
  ...props
}: PaginationLinkProps) {
  return (
    <a
      aria-current={isActive ? "page" : undefined}
      data-slot="pagination-link"
      data-active={isActive}
      className={cn(
        buttonVariants({
          variant: isActive ? "outline" : "ghost",
          size,
        }),
        className,
      )}
      {...props}
    />
  );
}
function PaginationPrevious({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) {
  return (
    <PaginationLink
      aria-label="Go to previous page"
      size="default"
      className={cn("gap-1 px-2.5 sm:pl-2.5", className)}
      {...props}
    >
      <ChevronLeftIcon />
      <span className="hidden sm:block">Previous</span>
    </PaginationLink>
  );
}
function PaginationNext({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) {
  return (
    <PaginationLink
      aria-label="Go to next page"
      size="default"
      className={cn("gap-1 px-2.5 sm:pr-2.5", className)}
      {...props}
    >
      <span className="hidden sm:block">Next</span>
      <ChevronRightIcon />
    </PaginationLink>
  );
}
function PaginationEllipsis({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      aria-hidden
      data-slot="pagination-ellipsis"
      className={cn("flex size-9 items-center justify-center", className)}
      {...props}
    >
      <MoreHorizontalIcon className="size-4" />
      <span className="sr-only">More pages</span>
    </span>
  );
}
export {
  Pagination,
  PaginationContent,
  PaginationLink,
  PaginationItem,
  PaginationPrevious,
  PaginationNext,
  PaginationEllipsis,
};
</file>

<file path="src/components/ui/popover.tsx">
"use client";
import * as PopoverPrimitive from "@radix-ui/react-popover";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Popover({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Root>) {
  return <PopoverPrimitive.Root data-slot="popover" {...props} />;
}
function PopoverTrigger({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {
  return <PopoverPrimitive.Trigger data-slot="popover-trigger" {...props} />;
}
function PopoverContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Content>) {
  return (
    <PopoverPrimitive.Portal>
      <PopoverPrimitive.Content
        data-slot="popover-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className,
        )}
        {...props}
      />
    </PopoverPrimitive.Portal>
  );
}
function PopoverAnchor({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {
  return <PopoverPrimitive.Anchor data-slot="popover-anchor" {...props} />;
}
export { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };
</file>

<file path="src/components/ui/progress.tsx">
"use client";
import * as ProgressPrimitive from "@radix-ui/react-progress";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Progress({
  className,
  value,
  ...props
}: React.ComponentProps<typeof ProgressPrimitive.Root>) {
  return (
    <ProgressPrimitive.Root
      data-slot="progress"
      className={cn(
        "bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",
        className,
      )}
      {...props}
    >
      <ProgressPrimitive.Indicator
        data-slot="progress-indicator"
        className="bg-primary h-full w-full flex-1 transition-all"
        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
      />
    </ProgressPrimitive.Root>
  );
}
export { Progress };
</file>

<file path="src/components/ui/radio-group.tsx">
"use client";
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group";
import { CircleIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function RadioGroup({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {
  return (
    <RadioGroupPrimitive.Root
      data-slot="radio-group"
      className={cn("grid gap-3", className)}
      {...props}
    />
  );
}
function RadioGroupItem({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {
  return (
    <RadioGroupPrimitive.Item
      data-slot="radio-group-item"
      className={cn(
        "border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator
        data-slot="radio-group-indicator"
        className="relative flex items-center justify-center"
      >
        <CircleIcon className="fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  );
}
export { RadioGroup, RadioGroupItem };
</file>

<file path="src/components/ui/scroll-area.tsx">
"use client";
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area";
import type * as React from "react";
import { cn } from "@/lib/utils";
function ScrollArea({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {
  return (
    <ScrollAreaPrimitive.Root
      data-slot="scroll-area"
      className={cn("relative", className)}
      {...props}
    >
      <ScrollAreaPrimitive.Viewport
        data-slot="scroll-area-viewport"
        className="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"
      >
        {children}
      </ScrollAreaPrimitive.Viewport>
      <ScrollBar />
      <ScrollAreaPrimitive.Corner />
    </ScrollAreaPrimitive.Root>
  );
}
function ScrollBar({
  className,
  orientation = "vertical",
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {
  return (
    <ScrollAreaPrimitive.ScrollAreaScrollbar
      data-slot="scroll-area-scrollbar"
      orientation={orientation}
      className={cn(
        "flex touch-none p-px transition-colors select-none",
        orientation === "vertical" &&
          "h-full w-2.5 border-l border-l-transparent",
        orientation === "horizontal" &&
          "h-2.5 flex-col border-t border-t-transparent",
        className,
      )}
      {...props}
    >
      <ScrollAreaPrimitive.ScrollAreaThumb
        data-slot="scroll-area-thumb"
        className="bg-border relative flex-1 rounded-full"
      />
    </ScrollAreaPrimitive.ScrollAreaScrollbar>
  );
}
export { ScrollArea, ScrollBar };
</file>

<file path="src/components/ui/select.tsx">
"use client";
import * as SelectPrimitive from "@radix-ui/react-select";
import { CheckIcon, ChevronDownIcon, ChevronUpIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Select({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Root>) {
  return <SelectPrimitive.Root data-slot="select" {...props} />;
}
function SelectGroup({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Group>) {
  return <SelectPrimitive.Group data-slot="select-group" {...props} />;
}
function SelectValue({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Value>) {
  return <SelectPrimitive.Value data-slot="select-value" {...props} />;
}
function SelectTrigger({
  className,
  size = "default",
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {
  size?: "sm" | "default";
}) {
  return (
    <SelectPrimitive.Trigger
      data-slot="select-trigger"
      data-size={size}
      className={cn(
        "border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      {children}
      <SelectPrimitive.Icon asChild>
        <ChevronDownIcon className="size-4 opacity-50" />
      </SelectPrimitive.Icon>
    </SelectPrimitive.Trigger>
  );
}
function SelectContent({
  className,
  children,
  position = "item-aligned",
  align = "center",
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Content>) {
  return (
    <SelectPrimitive.Portal>
      <SelectPrimitive.Content
        data-slot="select-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",
          position === "popper" &&
            "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
          className,
        )}
        position={position}
        align={align}
        {...props}
      >
        <SelectScrollUpButton />
        <SelectPrimitive.Viewport
          className={cn(
            "p-1",
            position === "popper" &&
              "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1",
          )}
        >
          {children}
        </SelectPrimitive.Viewport>
        <SelectScrollDownButton />
      </SelectPrimitive.Content>
    </SelectPrimitive.Portal>
  );
}
function SelectLabel({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Label>) {
  return (
    <SelectPrimitive.Label
      data-slot="select-label"
      className={cn("text-muted-foreground px-2 py-1.5 text-xs", className)}
      {...props}
    />
  );
}
function SelectItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Item>) {
  return (
    <SelectPrimitive.Item
      data-slot="select-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",
        className,
      )}
      {...props}
    >
      <span
        data-slot="select-item-indicator"
        className="absolute right-2 flex size-3.5 items-center justify-center"
      >
        <SelectPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </SelectPrimitive.ItemIndicator>
      </span>
      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
    </SelectPrimitive.Item>
  );
}
function SelectSeparator({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Separator>) {
  return (
    <SelectPrimitive.Separator
      data-slot="select-separator"
      className={cn("bg-border pointer-events-none -mx-1 my-1 h-px", className)}
      {...props}
    />
  );
}
function SelectScrollUpButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {
  return (
    <SelectPrimitive.ScrollUpButton
      data-slot="select-scroll-up-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className,
      )}
      {...props}
    >
      <ChevronUpIcon className="size-4" />
    </SelectPrimitive.ScrollUpButton>
  );
}
function SelectScrollDownButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {
  return (
    <SelectPrimitive.ScrollDownButton
      data-slot="select-scroll-down-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className,
      )}
      {...props}
    >
      <ChevronDownIcon className="size-4" />
    </SelectPrimitive.ScrollDownButton>
  );
}
export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
};
</file>

<file path="src/components/ui/separator.tsx">
"use client";
import * as SeparatorPrimitive from "@radix-ui/react-separator";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Separator({
  className,
  orientation = "horizontal",
  decorative = true,
  ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",
        className,
      )}
      {...props}
    />
  );
}
export { Separator };
</file>

<file path="src/components/ui/sheet.tsx">
"use client";
import * as SheetPrimitive from "@radix-ui/react-dialog";
import { XIcon } from "lucide-react";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />;
}
function SheetTrigger({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {
  return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />;
}
function SheetClose({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Close>) {
  return <SheetPrimitive.Close data-slot="sheet-close" {...props} />;
}
function SheetPortal({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Portal>) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />;
}
function SheetOverlay({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {
  return (
    <SheetPrimitive.Overlay
      data-slot="sheet-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className,
      )}
      {...props}
    />
  );
}
function SheetContent({
  className,
  children,
  side = "right",
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Content> & {
  side?: "top" | "right" | "bottom" | "left";
}) {
  return (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Content
        data-slot="sheet-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
          side === "right" &&
            "data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",
          side === "left" &&
            "data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",
          side === "top" &&
            "data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",
          side === "bottom" &&
            "data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",
          className,
        )}
        {...props}
      >
        {children}
        <SheetPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
          <XIcon className="size-4" />
          <span className="sr-only">Close</span>
        </SheetPrimitive.Close>
      </SheetPrimitive.Content>
    </SheetPortal>
  );
}
function SheetHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("flex flex-col gap-1.5 p-4", className)}
      {...props}
    />
  );
}
function SheetFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  );
}
function SheetTitle({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Title>) {
  return (
    <SheetPrimitive.Title
      data-slot="sheet-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  );
}
function SheetDescription({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Description>) {
  return (
    <SheetPrimitive.Description
      data-slot="sheet-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}
export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
};
</file>

<file path="src/components/ui/sidebar.tsx">
"use client";
import { Slot } from "@radix-ui/react-slot";
import { cva, type VariantProps } from "class-variance-authority";
import { PanelLeftIcon } from "lucide-react";
import * as React from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Separator } from "@/components/ui/separator";
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet";
import { Skeleton } from "@/components/ui/skeleton";
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip";
import { useIsMobile } from "@/hooks/use-mobile";
import { cn } from "@/lib/utils";
const SIDEBAR_COOKIE_NAME = "sidebar_state";
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;
const SIDEBAR_WIDTH = "16rem";
const SIDEBAR_WIDTH_MOBILE = "18rem";
const SIDEBAR_WIDTH_ICON = "3rem";
const SIDEBAR_KEYBOARD_SHORTCUT = "b";
type SidebarContextProps = {
  state: "expanded" | "collapsed";
  open: boolean;
  setOpen: (open: boolean) => void;
  openMobile: boolean;
  setOpenMobile: (open: boolean) => void;
  isMobile: boolean;
  toggleSidebar: () => void;
};
const SidebarContext = React.createContext<SidebarContextProps | null>(null);
function useSidebar() {
  const context = React.useContext(SidebarContext);
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.");
  }
  return context;
}
function SidebarProvider({
  defaultOpen = true,
  open: openProp,
  onOpenChange: setOpenProp,
  className,
  style,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  defaultOpen?: boolean;
  open?: boolean;
  onOpenChange?: (open: boolean) => void;
}) {
  const isMobile = useIsMobile();
  const [openMobile, setOpenMobile] = React.useState(false);
  const [_open, _setOpen] = React.useState(defaultOpen);
  const open = openProp ?? _open;
  const setOpen = React.useCallback(
    (value: boolean | ((value: boolean) => boolean)) => {
      const openState = typeof value === "function" ? value(open) : value;
      if (setOpenProp) {
        setOpenProp(openState);
      } else {
        _setOpen(openState);
      }
      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;
    },
    [setOpenProp, open],
  );
  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);
  }, [isMobile, setOpen]);
  React.useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if (
        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
        (event.metaKey || event.ctrlKey)
      ) {
        event.preventDefault();
        toggleSidebar();
      }
    };
    window.addEventListener("keydown", handleKeyDown);
    return () => window.removeEventListener("keydown", handleKeyDown);
  }, [toggleSidebar]);
  const state = open ? "expanded" : "collapsed";
  const contextValue = React.useMemo<SidebarContextProps>(
    () => ({
      state,
      open,
      setOpen,
      isMobile,
      openMobile,
      setOpenMobile,
      toggleSidebar,
    }),
    [state, open, setOpen, isMobile, openMobile, toggleSidebar],
  );
  return (
    <SidebarContext.Provider value={contextValue}>
      <TooltipProvider delayDuration={0}>
        <div
          data-slot="sidebar-wrapper"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH,
              "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
              ...style,
            } as React.CSSProperties
          }
          className={cn(
            "group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",
            className,
          )}
          {...props}
        >
          {children}
        </div>
      </TooltipProvider>
    </SidebarContext.Provider>
  );
}
function Sidebar({
  side = "left",
  variant = "sidebar",
  collapsible = "offcanvas",
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  side?: "left" | "right";
  variant?: "sidebar" | "floating" | "inset";
  collapsible?: "offcanvas" | "icon" | "none";
}) {
  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();
  if (collapsible === "none") {
    return (
      <div
        data-slot="sidebar"
        className={cn(
          "bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",
          className,
        )}
        {...props}
      >
        {children}
      </div>
    );
  }
  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          data-sidebar="sidebar"
          data-slot="sidebar"
          data-mobile="true"
          className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
            } as React.CSSProperties
          }
          side={side}
        >
          <SheetHeader className="sr-only">
            <SheetTitle>Sidebar</SheetTitle>
            <SheetDescription>Displays the mobile sidebar.</SheetDescription>
          </SheetHeader>
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    );
  }
  return (
    <div
      className="group peer text-sidebar-foreground hidden md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
      data-slot="sidebar"
    >
      {}
      <div
        data-slot="sidebar-gap"
        className={cn(
          "relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)",
        )}
      />
      <div
        data-slot="sidebar-container"
        className={cn(
          "fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",
          side === "left"
            ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
            : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
          variant === "floating" || variant === "inset"
            ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className,
        )}
        {...props}
      >
        <div
          data-sidebar="sidebar"
          data-slot="sidebar-inner"
          className="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"
        >
          {children}
        </div>
      </div>
    </div>
  );
}
function SidebarTrigger({
  className,
  onClick,
  ...props
}: React.ComponentProps<typeof Button>) {
  const { toggleSidebar } = useSidebar();
  return (
    <Button
      data-sidebar="trigger"
      data-slot="sidebar-trigger"
      variant="ghost"
      size="icon"
      className={cn("size-7", className)}
      onClick={(event) => {
        onClick?.(event);
        toggleSidebar();
      }}
      {...props}
    >
      <PanelLeftIcon />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  );
}
function SidebarRail({ className, ...props }: React.ComponentProps<"button">) {
  const { toggleSidebar } = useSidebar();
  return (
    <button
      data-sidebar="rail"
      data-slot="sidebar-rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex",
        "in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className,
      )}
      {...props}
    />
  );
}
function SidebarInset({ className, ...props }: React.ComponentProps<"main">) {
  return (
    <main
      data-slot="sidebar-inset"
      className={cn(
        "bg-background relative flex w-full flex-1 flex-col",
        "md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",
        className,
      )}
      {...props}
    />
  );
}
function SidebarInput({
  className,
  ...props
}: React.ComponentProps<typeof Input>) {
  return (
    <Input
      data-slot="sidebar-input"
      data-sidebar="input"
      className={cn("bg-background h-8 w-full shadow-none", className)}
      {...props}
    />
  );
}
function SidebarHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-header"
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  );
}
function SidebarFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-footer"
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  );
}
function SidebarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof Separator>) {
  return (
    <Separator
      data-slot="sidebar-separator"
      data-sidebar="separator"
      className={cn("bg-sidebar-border mx-2 w-auto", className)}
      {...props}
    />
  );
}
function SidebarContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-content"
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className,
      )}
      {...props}
    />
  );
}
function SidebarGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group"
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  );
}
function SidebarGroupLabel({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"div"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "div";
  return (
    <Comp
      data-slot="sidebar-group-label"
      data-sidebar="group-label"
      className={cn(
        "text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className,
      )}
      {...props}
    />
  );
}
function SidebarGroupAction({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "button";
  return (
    <Comp
      data-slot="sidebar-group-action"
      data-sidebar="group-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "after:absolute after:-inset-2 md:after:hidden",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
}
function SidebarGroupContent({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group-content"
      data-sidebar="group-content"
      className={cn("w-full text-sm", className)}
      {...props}
    />
  );
}
function SidebarMenu({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu"
      data-sidebar="menu"
      className={cn("flex w-full min-w-0 flex-col gap-1", className)}
      {...props}
    />
  );
}
function SidebarMenuItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-item"
      data-sidebar="menu-item"
      className={cn("group/menu-item relative", className)}
      {...props}
    />
  );
}
const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:p-0!",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);
function SidebarMenuButton({
  asChild = false,
  isActive = false,
  variant = "default",
  size = "default",
  tooltip,
  className,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean;
  isActive?: boolean;
  tooltip?: string | React.ComponentProps<typeof TooltipContent>;
} & VariantProps<typeof sidebarMenuButtonVariants>) {
  const Comp = asChild ? Slot : "button";
  const { isMobile, state } = useSidebar();
  const button = (
    <Comp
      data-slot="sidebar-menu-button"
      data-sidebar="menu-button"
      data-size={size}
      data-active={isActive}
      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
      {...props}
    />
  );
  if (!tooltip) {
    return button;
  }
  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    };
  }
  return (
    <Tooltip>
      <TooltipTrigger asChild>{button}</TooltipTrigger>
      <TooltipContent
        side="right"
        align="center"
        hidden={state !== "collapsed" || isMobile}
        {...tooltip}
      />
    </Tooltip>
  );
}
function SidebarMenuAction({
  className,
  asChild = false,
  showOnHover = false,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean;
  showOnHover?: boolean;
}) {
  const Comp = asChild ? Slot : "button";
  return (
    <Comp
      data-slot="sidebar-menu-action"
      data-sidebar="menu-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "after:absolute after:-inset-2 md:after:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",
        className,
      )}
      {...props}
    />
  );
}
function SidebarMenuBadge({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-menu-badge"
      data-sidebar="menu-badge"
      className={cn(
        "text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none",
        "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
}
function SidebarMenuSkeleton({
  className,
  showIcon = false,
  ...props
}: React.ComponentProps<"div"> & {
  showIcon?: boolean;
}) {
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`;
  }, []);
  return (
    <div
      data-slot="sidebar-menu-skeleton"
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 max-w-(--skeleton-width) flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  );
}
function SidebarMenuSub({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu-sub"
      data-sidebar="menu-sub"
      className={cn(
        "border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
}
function SidebarMenuSubItem({
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-sub-item"
      data-sidebar="menu-sub-item"
      className={cn("group/menu-sub-item relative", className)}
      {...props}
    />
  );
}
function SidebarMenuSubButton({
  asChild = false,
  size = "md",
  isActive = false,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean;
  size?: "sm" | "md";
  isActive?: boolean;
}) {
  const Comp = asChild ? Slot : "a";
  return (
    <Comp
      data-slot="sidebar-menu-sub-button"
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
}
export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
};
</file>

<file path="src/components/ui/skeleton.tsx">
import { cn } from "@/lib/utils";
function Skeleton({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-accent animate-pulse rounded-md", className)}
      {...props}
    />
  );
}
export { Skeleton };
</file>

<file path="src/components/ui/slider.tsx">
"use client";
import * as SliderPrimitive from "@radix-ui/react-slider";
import * as React from "react";
import { cn } from "@/lib/utils";
function Slider({
  className,
  defaultValue,
  value,
  min = 0,
  max = 100,
  ...props
}: React.ComponentProps<typeof SliderPrimitive.Root>) {
  const _values = React.useMemo(
    () =>
      Array.isArray(value)
        ? value
        : Array.isArray(defaultValue)
          ? defaultValue
          : [min, max],
    [value, defaultValue, min, max],
  );
  return (
    <SliderPrimitive.Root
      data-slot="slider"
      defaultValue={defaultValue}
      value={value}
      min={min}
      max={max}
      className={cn(
        "relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",
        className,
      )}
      {...props}
    >
      <SliderPrimitive.Track
        data-slot="slider-track"
        className={cn(
          "bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",
        )}
      >
        <SliderPrimitive.Range
          data-slot="slider-range"
          className={cn(
            "bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full",
          )}
        />
      </SliderPrimitive.Track>
      {Array.from({ length: _values.length }, (_, index) => (
        <SliderPrimitive.Thumb
          data-slot="slider-thumb"
          key={index}
          className="border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"
        />
      ))}
    </SliderPrimitive.Root>
  );
}
export { Slider };
</file>

<file path="src/components/ui/sonner.tsx">
"use client";
import {
  CircleCheckIcon,
  InfoIcon,
  Loader2Icon,
  OctagonXIcon,
  TriangleAlertIcon,
} from "lucide-react";
import { useTheme } from "next-themes";
import { Toaster as Sonner, type ToasterProps } from "sonner";
const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme();
  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      icons={{
        success: <CircleCheckIcon className="size-4" />,
        info: <InfoIcon className="size-4" />,
        warning: <TriangleAlertIcon className="size-4" />,
        error: <OctagonXIcon className="size-4" />,
        loading: <Loader2Icon className="size-4 animate-spin" />,
      }}
      style={
        {
          "--normal-bg": "var(--popover)",
          "--normal-text": "var(--popover-foreground)",
          "--normal-border": "var(--border)",
          "--border-radius": "var(--radius)",
        } as React.CSSProperties
      }
      {...props}
    />
  );
};
export { Toaster };
</file>

<file path="src/components/ui/switch.tsx">
"use client";
import * as SwitchPrimitive from "@radix-ui/react-switch";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Switch({
  className,
  ...props
}: React.ComponentProps<typeof SwitchPrimitive.Root>) {
  return (
    <SwitchPrimitive.Root
      data-slot="switch"
      className={cn(
        "peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    >
      <SwitchPrimitive.Thumb
        data-slot="switch-thumb"
        className={cn(
          "bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0",
        )}
      />
    </SwitchPrimitive.Root>
  );
}
export { Switch };
</file>

<file path="src/components/ui/table.tsx">
"use client";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Table({ className, ...props }: React.ComponentProps<"table">) {
  return (
    <div
      data-slot="table-container"
      className="relative w-full overflow-x-auto"
    >
      <table
        data-slot="table"
        className={cn("w-full caption-bottom text-sm", className)}
        {...props}
      />
    </div>
  );
}
function TableHeader({ className, ...props }: React.ComponentProps<"thead">) {
  return (
    <thead
      data-slot="table-header"
      className={cn("[&_tr]:border-b", className)}
      {...props}
    />
  );
}
function TableBody({ className, ...props }: React.ComponentProps<"tbody">) {
  return (
    <tbody
      data-slot="table-body"
      className={cn("[&_tr:last-child]:border-0", className)}
      {...props}
    />
  );
}
function TableFooter({ className, ...props }: React.ComponentProps<"tfoot">) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn(
        "bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",
        className,
      )}
      {...props}
    />
  );
}
function TableRow({ className, ...props }: React.ComponentProps<"tr">) {
  return (
    <tr
      data-slot="table-row"
      className={cn(
        "hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",
        className,
      )}
      {...props}
    />
  );
}
function TableHead({ className, ...props }: React.ComponentProps<"th">) {
  return (
    <th
      data-slot="table-head"
      className={cn(
        "text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className,
      )}
      {...props}
    />
  );
}
function TableCell({ className, ...props }: React.ComponentProps<"td">) {
  return (
    <td
      data-slot="table-cell"
      className={cn(
        "p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className,
      )}
      {...props}
    />
  );
}
function TableCaption({
  className,
  ...props
}: React.ComponentProps<"caption">) {
  return (
    <caption
      data-slot="table-caption"
      className={cn("text-muted-foreground mt-4 text-sm", className)}
      {...props}
    />
  );
}
export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
};
</file>

<file path="src/components/ui/tabs.tsx">
"use client";
import * as TabsPrimitive from "@radix-ui/react-tabs";
import type * as React from "react";
import { cn } from "@/lib/utils";
function Tabs({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Root>) {
  return (
    <TabsPrimitive.Root
      data-slot="tabs"
      className={cn("flex flex-col gap-2", className)}
      {...props}
    />
  );
}
function TabsList({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.List>) {
  return (
    <TabsPrimitive.List
      data-slot="tabs-list"
      className={cn(
        "bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",
        className,
      )}
      {...props}
    />
  );
}
function TabsTrigger({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {
  return (
    <TabsPrimitive.Trigger
      data-slot="tabs-trigger"
      className={cn(
        "data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}
function TabsContent({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Content>) {
  return (
    <TabsPrimitive.Content
      data-slot="tabs-content"
      className={cn("flex-1 outline-none", className)}
      {...props}
    />
  );
}
export { Tabs, TabsList, TabsTrigger, TabsContent };
</file>

<file path="src/components/ui/textarea.tsx">
import type * as React from "react";
import { cn } from "@/lib/utils";
function Textarea({ className, ...props }: React.ComponentProps<"textarea">) {
  return (
    <textarea
      data-slot="textarea"
      className={cn(
        "border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className,
      )}
      {...props}
    />
  );
}
export { Textarea };
</file>

<file path="src/components/ui/toast.tsx">
"use client";
import * as ToastPrimitives from "@radix-ui/react-toast";
import { cva, type VariantProps } from "class-variance-authority";
import { X } from "lucide-react";
import * as React from "react";
import { cn } from "@/lib/utils";
const ToastProvider = ToastPrimitives.Provider;
const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className,
    )}
    {...props}
  />
));
ToastViewport.displayName = ToastPrimitives.Viewport.displayName;
const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[state=closed]:animate-out data-[state=open]:animate-in data-[swipe=end]:animate-out data-[swipe=move]:transition-none data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  },
);
const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  );
});
Toast.displayName = ToastPrimitives.Root.displayName;
const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className,
    )}
    {...props}
  />
));
ToastAction.displayName = ToastPrimitives.Action.displayName;
const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className,
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
));
ToastClose.displayName = ToastPrimitives.Close.displayName;
const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold", className)}
    {...props}
  />
));
ToastTitle.displayName = ToastPrimitives.Title.displayName;
const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  />
));
ToastDescription.displayName = ToastPrimitives.Description.displayName;
type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>;
type ToastActionElement = React.ReactElement<typeof ToastAction>;
export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
};
</file>

<file path="src/components/ui/toaster.tsx">
"use client";
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast";
import { useToast } from "@/hooks/use-toast";
export function Toaster() {
  const { toasts } = useToast();
  return (
    <ToastProvider>
      {toasts.map(({ id, title, description, action, ...props }) => (
        <Toast key={id} {...props}>
          <div className="grid gap-1">
            {title && <ToastTitle>{title}</ToastTitle>}
            {description && <ToastDescription>{description}</ToastDescription>}
          </div>
          {action}
          <ToastClose />
        </Toast>
      ))}
      <ToastViewport />
    </ToastProvider>
  );
}
</file>

<file path="src/components/ui/toggle-group.tsx">
"use client";
import * as ToggleGroupPrimitive from "@radix-ui/react-toggle-group";
import type { VariantProps } from "class-variance-authority";
import * as React from "react";
import { toggleVariants } from "@/components/ui/toggle";
import { cn } from "@/lib/utils";
const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants> & {
    spacing?: number;
  }
>({
  size: "default",
  variant: "default",
  spacing: 0,
});
function ToggleGroup({
  className,
  variant,
  size,
  spacing = 0,
  children,
  ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Root> &
  VariantProps<typeof toggleVariants> & {
    spacing?: number;
  }) {
  return (
    <ToggleGroupPrimitive.Root
      data-slot="toggle-group"
      data-variant={variant}
      data-size={size}
      data-spacing={spacing}
      style={{ "--gap": spacing } as React.CSSProperties}
      className={cn(
        "group/toggle-group flex w-fit items-center gap-[--spacing(var(--gap))] rounded-md data-[spacing=default]:data-[variant=outline]:shadow-xs",
        className,
      )}
      {...props}
    >
      <ToggleGroupContext.Provider value={{ variant, size, spacing }}>
        {children}
      </ToggleGroupContext.Provider>
    </ToggleGroupPrimitive.Root>
  );
}
function ToggleGroupItem({
  className,
  children,
  variant,
  size,
  ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Item> &
  VariantProps<typeof toggleVariants>) {
  const context = React.useContext(ToggleGroupContext);
  return (
    <ToggleGroupPrimitive.Item
      data-slot="toggle-group-item"
      data-variant={context.variant || variant}
      data-size={context.size || size}
      data-spacing={context.spacing}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        "w-auto min-w-0 shrink-0 px-3 focus:z-10 focus-visible:z-10",
        "data-[spacing=0]:rounded-none data-[spacing=0]:shadow-none data-[spacing=0]:first:rounded-l-md data-[spacing=0]:last:rounded-r-md data-[spacing=0]:data-[variant=outline]:border-l-0 data-[spacing=0]:data-[variant=outline]:first:border-l",
        className,
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  );
}
export { ToggleGroup, ToggleGroupItem };
</file>

<file path="src/components/ui/toggle.tsx">
"use client";
import * as TogglePrimitive from "@radix-ui/react-toggle";
import { cva, type VariantProps } from "class-variance-authority";
import type * as React from "react";
import { cn } from "@/lib/utils";
const toggleVariants = cva(
  "inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline:
          "border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground",
      },
      size: {
        default: "h-9 px-2 min-w-9",
        sm: "h-8 px-1.5 min-w-8",
        lg: "h-10 px-2.5 min-w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);
function Toggle({
  className,
  variant,
  size,
  ...props
}: React.ComponentProps<typeof TogglePrimitive.Root> &
  VariantProps<typeof toggleVariants>) {
  return (
    <TogglePrimitive.Root
      data-slot="toggle"
      className={cn(toggleVariants({ variant, size, className }))}
      {...props}
    />
  );
}
export { Toggle, toggleVariants };
</file>

<file path="src/components/ui/tooltip.tsx">
"use client";
import * as TooltipPrimitive from "@radix-ui/react-tooltip";
import type * as React from "react";
import { cn } from "@/lib/utils";
function TooltipProvider({
  delayDuration = 0,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {
  return (
    <TooltipPrimitive.Provider
      data-slot="tooltip-provider"
      delayDuration={delayDuration}
      {...props}
    />
  );
}
function Tooltip({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Root>) {
  return (
    <TooltipProvider>
      <TooltipPrimitive.Root data-slot="tooltip" {...props} />
    </TooltipProvider>
  );
}
function TooltipTrigger({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {
  return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />;
}
function TooltipContent({
  className,
  sideOffset = 0,
  children,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Content>) {
  return (
    <TooltipPrimitive.Portal>
      <TooltipPrimitive.Content
        data-slot="tooltip-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",
          className,
        )}
        {...props}
      >
        {children}
        <TooltipPrimitive.Arrow className="bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" />
      </TooltipPrimitive.Content>
    </TooltipPrimitive.Portal>
  );
}
export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };
</file>

<file path="src/hooks/use-mobile.ts">
import * as React from "react";
const MOBILE_BREAKPOINT = 768;
export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(
    undefined,
  );
  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
    };
    mql.addEventListener("change", onChange);
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
    return () => mql.removeEventListener("change", onChange);
  }, []);
  return !!isMobile;
}
</file>

<file path="src/hooks/use-mobile.tsx">
import * as React from "react";
const MOBILE_BREAKPOINT = 768;
export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(
    undefined,
  );
  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
    };
    mql.addEventListener("change", onChange);
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
    return () => mql.removeEventListener("change", onChange);
  }, []);
  return !!isMobile;
}
</file>

<file path="src/hooks/use-toast.ts">
"use client";
import * as React from "react";
import type { ToastActionElement, ToastProps } from "@/components/ui/toast";
const TOAST_LIMIT = 1;
const TOAST_REMOVE_DELAY = 1000000;
type ToasterToast = ToastProps & {
  id: string;
  title?: React.ReactNode;
  description?: React.ReactNode;
  action?: ToastActionElement;
};
const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const;
let count = 0;
function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER;
  return count.toString();
}
type ActionType = typeof actionTypes;
type Action =
  | {
      type: ActionType["ADD_TOAST"];
      toast: ToasterToast;
    }
  | {
      type: ActionType["UPDATE_TOAST"];
      toast: Partial<ToasterToast>;
    }
  | {
      type: ActionType["DISMISS_TOAST"];
      toastId?: ToasterToast["id"];
    }
  | {
      type: ActionType["REMOVE_TOAST"];
      toastId?: ToasterToast["id"];
    };
interface State {
  toasts: ToasterToast[];
}
const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();
const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return;
  }
  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId);
    dispatch({
      type: "REMOVE_TOAST",
      toastId,
    });
  }, TOAST_REMOVE_DELAY);
  toastTimeouts.set(toastId, timeout);
};
export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      };
    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t,
        ),
      };
    case "DISMISS_TOAST": {
      const { toastId } = action;
      if (toastId) {
        addToRemoveQueue(toastId);
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id);
        });
      }
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t,
        ),
      };
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        };
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      };
  }
};
const listeners: Array<(state: State) => void> = [];
let memoryState: State = { toasts: [] };
function dispatch(action: Action) {
  memoryState = reducer(memoryState, action);
  listeners.forEach((listener) => {
    listener(memoryState);
  });
}
type Toast = Omit<ToasterToast, "id">;
function toast({ ...props }: Toast) {
  const id = genId();
  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    });
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id });
  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) {
          dismiss();
        }
      },
    },
  });
  return {
    id,
    dismiss,
    update,
  };
}
function useToast() {
  const [state, setState] = React.useState<State>(memoryState);
  React.useEffect(() => {
    listeners.push(setState);
    return () => {
      const index = listeners.indexOf(setState);
      if (index > -1) {
        listeners.splice(index, 1);
      }
    };
  }, []);
  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  };
}
export { useToast, toast };
</file>

<file path="src/lib/auth-client.ts">
import {
  convexClient,
  crossDomainClient,
} from "@convex-dev/better-auth/client/plugins";
import { dodopaymentsClient } from "@dodopayments/better-auth";
import { createAuthClient } from "better-auth/react";
export const authClient = createAuthClient({
  baseURL: process.env.NEXT_PUBLIC_CONVEX_SITE_URL || "http://127.0.0.1:3210",
  plugins: [convexClient(), crossDomainClient(), dodopaymentsClient()],
});
</file>

<file path="src/lib/auth.tsx">
"use client";
import { useQuery } from "convex/react";
import { createContext, type ReactNode, useContext } from "react";
import { toast } from "sonner";
import { api } from "../../convex/_generated/api";
import { authClient } from "./auth-client";
type User = {
  id: string;
  email: string;
  name: string;
  emailVerified: boolean;
  image?: string;
  createdAt: Date;
  updatedAt: Date;
  credits: number;
};
type AuthContextType = {
  user: User | null;
  isLoading: boolean;
  signIn: (email: string, password: string) => Promise<void>;
  signUp: (email: string, password: string, name: string) => Promise<void>;
  signOut: () => Promise<void>;
  updateCredits: (amount: number) => void;
};
const AuthContext = createContext<AuthContextType | undefined>(undefined);
export function AuthProvider({ children }: { children: ReactNode }) {
  const betterAuthUser = useQuery(api.auth.getCurrentUser);
  const isLoading = betterAuthUser === undefined;
  const userRecord = betterAuthUser as any;
  const user: User | null = userRecord
    ? {
        id: userRecord.id ?? userRecord._id,
        email: userRecord.email,
        name: userRecord.name,
        emailVerified: userRecord.emailVerified,
        image: userRecord.image || undefined,
        createdAt: new Date(userRecord.createdAt ?? userRecord._creationTime),
        updatedAt: new Date(userRecord.updatedAt ?? userRecord._creationTime),
        credits: userRecord.credits ?? 0,
      }
    : null;
  const signIn = async (email: string, password: string) => {
    try {
      const result = await authClient.signIn.email({
        email,
        password,
      });
      if (result.error) {
        throw new Error(result.error.message || "Sign in failed");
      }
      toast.success("Welcome back!", {
        description: `Signed in as ${email}`,
      });
    } catch (error) {
      const message =
        error instanceof Error
          ? error.message
          : "Please check your credentials";
      toast.error("Sign in failed", {
        description: message,
      });
      throw error;
    }
  };
  const signUp = async (email: string, password: string, name: string) => {
    try {
      const result = await authClient.signUp.email({
        email,
        password,
        name,
      });
      if (result.error) {
        throw new Error(result.error.message || "Sign up failed");
      }
      toast.success("Account created!", {
        description: `Welcome ${name}`,
      });
    } catch (error) {
      const message =
        error instanceof Error ? error.message : "Please try again";
      toast.error("Sign up failed", {
        description: message,
      });
      throw error;
    }
  };
  const signOut = async () => {
    try {
      await authClient.signOut();
      toast.success("Signed out", {
        description: "You have been successfully signed out",
      });
    } catch (error) {
      toast.error("Sign out failed", {
        description: "Please try again",
      });
      throw error;
    }
  };
  const updateCredits = (amount: number) => {
    console.log("Updating credits", amount);
  };
  return (
    <AuthContext.Provider
      value={{
        user,
        isLoading,
        signIn,
        signUp,
        signOut,
        updateCredits,
      }}
    >
      {children}
    </AuthContext.Provider>
  );
}
export function useAuth() {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error("useAuth must be used within an AuthProvider");
  }
  return context;
}
</file>

<file path="src/lib/convex.tsx">
"use client";
import { ConvexBetterAuthProvider } from "@convex-dev/better-auth/react";
import { ConvexReactClient } from "convex/react";
import type { ReactNode } from "react";
import { authClient } from "@/lib/auth-client";
const convexUrl = process.env.NEXT_PUBLIC_CONVEX_URL as string;
export const convex = new ConvexReactClient(convexUrl);
export function ConvexProvider({ children }: { children: ReactNode }) {
  return (
    <ConvexBetterAuthProvider client={convex} authClient={authClient}>
      {children}
    </ConvexBetterAuthProvider>
  );
}
</file>

<file path="src/lib/security.ts">
const SECURITY_CONFIG = {
  enforceHTTPS: process.env.NODE_ENV === "production",
  requestTimeout: 30000,
  maxRetries: 3,
};
export function validateSecureConnection(): void {
  if (
    typeof window !== "undefined" &&
    SECURITY_CONFIG.enforceHTTPS &&
    window.location.protocol !== "https:"
  ) {
    console.error("⚠️ Insecure connection detected. Redirecting to HTTPS...");
    window.location.href = window.location.href.replace("http:", "https:");
  }
}
export function generateRequestId(): string {
  const timestamp = Date.now();
  const random = Math.random().toString(36).substring(2, 15);
  return `${timestamp}-${random}`;
}
export function getSecureHeaders(): Record<string, string> {
  const headers: Record<string, string> = {
    "Content-Type": "application/json",
    "X-Requested-With": "XMLHttpRequest",
    "X-Request-ID": generateRequestId(),
  };
  const csrfToken = getCSRFToken();
  if (csrfToken) {
    headers["X-CSRF-Token"] = csrfToken;
  }
  return headers;
}
function getCSRFToken(): string | null {
  if (typeof document === "undefined") return null;
  const metaTag = document.querySelector('meta[name="csrf-token"]');
  if (metaTag) {
    return metaTag.getAttribute("content");
  }
  const cookies = document.cookie.split(";");
  for (const cookie of cookies) {
    const [name, value] = cookie.trim().split("=");
    if (name === "XSRF-TOKEN") {
      return decodeURIComponent(value);
    }
  }
  return null;
}
export function sanitizeInput(input: string): string {
  if (typeof document === "undefined") return input;
  const div = document.createElement("div");
  div.textContent = input;
  return div.innerHTML;
}
export function isValidRedirectUrl(url: string): boolean {
  if (typeof window === "undefined") return true;
  try {
    const urlObj = new URL(url, window.location.origin);
    return urlObj.origin === window.location.origin;
  } catch {
    return false;
  }
}
export const secureStorage = {
  setItem(key: string, value: string): void {
    if (typeof window === "undefined") return;
    try {
      const encoded = btoa(encodeURIComponent(value));
      localStorage.setItem(key, encoded);
    } catch (error) {
      console.error("Failed to store item securely:", error);
    }
  },
  getItem(key: string): string | null {
    if (typeof window === "undefined") return null;
    try {
      const encoded = localStorage.getItem(key);
      if (!encoded) return null;
      return decodeURIComponent(atob(encoded));
    } catch (error) {
      console.error("Failed to retrieve item securely:", error);
      return null;
    }
  },
  removeItem(key: string): void {
    if (typeof window === "undefined") return;
    localStorage.removeItem(key);
  },
  clear(): void {
    if (typeof window === "undefined") return;
    localStorage.clear();
  },
};
export function initSecurityMonitoring(): void {
  if (typeof window === "undefined") return;
  validateSecureConnection();
  if (window.location.protocol === "https:") {
    const observer = new PerformanceObserver((list) => {
      for (const entry of list.getEntries()) {
        const resource = entry as PerformanceResourceTiming;
        if (resource.name.startsWith("http:")) {
          console.warn("⚠️ Insecure resource loaded over HTTPS:", resource.name);
        }
      }
    });
    observer.observe({ entryTypes: ["resource"] });
  }
  window.addEventListener("error", (event) => {
    if (event.message.includes("script")) {
      console.warn("⚠️ Potential XSS attempt detected:", event);
    }
  });
  if (window.self !== window.top) {
    console.warn("⚠️ Page loaded in iframe - potential clickjacking attempt");
  }
}
export async function secureFetch(
  url: string,
  options: RequestInit = {},
): Promise<Response> {
  if (SECURITY_CONFIG.enforceHTTPS && !url.startsWith("https://")) {
    throw new Error("Insecure URL: HTTPS required in production");
  }
  const headers = {
    ...getSecureHeaders(),
    ...options.headers,
  };
  const controller = new AbortController();
  const timeoutId = setTimeout(
    () => controller.abort(),
    SECURITY_CONFIG.requestTimeout,
  );
  try {
    const response = await fetch(url, {
      ...options,
      headers,
      signal: controller.signal,
      credentials: "include",
    });
    clearTimeout(timeoutId);
    if (response.status === 403) {
      throw new Error("Access forbidden - possible CSRF token mismatch");
    }
    return response;
  } catch (error) {
    clearTimeout(timeoutId);
    if (error instanceof Error && error.name === "AbortError") {
      throw new Error("Request timeout");
    }
    throw error;
  }
}
export function initSecurity(): void {
  if (typeof document === "undefined") return;
  initSecurityMonitoring();
}
</file>

<file path="src/lib/utils.ts">
import { type ClassValue, clsx } from "clsx";
import { twMerge } from "tailwind-merge";
export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
</file>

<file path="next.config.ts">
import type { NextConfig } from "next";
const nextConfig: NextConfig = {
  reactCompiler: true,
  images: {
    formats: ["image/avif", "image/webp"],
  },
  async rewrites() {
    return [
      {
        source: "/api/:path*",
        destination: "http://localhost:3210/api/:path*",
      },
    ];
  },
};
export default nextConfig;
</file>

<file path="package.json">
{
  "name": "nexttry",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "conc 'next dev -p 8080' 'convex dev'",
    "build": "next build",
    "start": "next start",
    "lint": "biome check --write --unsafe",
    "format": "biome format --write"
  },
  "dependencies": {
    "@convex-dev/better-auth": "^0.10.9",
    "@dodopayments/better-auth": "^1.4.2",
    "@dodopayments/convex": "^0.2.8",
    "@hookform/resolvers": "^5.2.2",
    "@radix-ui/react-accordion": "^1.2.12",
    "@radix-ui/react-alert-dialog": "^1.1.15",
    "@radix-ui/react-aspect-ratio": "^1.1.8",
    "@radix-ui/react-avatar": "^1.1.11",
    "@radix-ui/react-checkbox": "^1.3.3",
    "@radix-ui/react-collapsible": "^1.1.12",
    "@radix-ui/react-context-menu": "^2.2.16",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-hover-card": "^1.1.15",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-menubar": "^1.1.16",
    "@radix-ui/react-navigation-menu": "^1.2.14",
    "@radix-ui/react-popover": "^1.1.15",
    "@radix-ui/react-progress": "^1.1.8",
    "@radix-ui/react-radio-group": "^1.3.8",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-separator": "^1.1.8",
    "@radix-ui/react-slider": "^1.3.6",
    "@radix-ui/react-slot": "^1.2.4",
    "@radix-ui/react-switch": "^1.2.6",
    "@radix-ui/react-tabs": "^1.1.13",
    "@radix-ui/react-toast": "^1.2.15",
    "@radix-ui/react-toggle": "^1.1.10",
    "@radix-ui/react-toggle-group": "^1.1.11",
    "@radix-ui/react-tooltip": "^1.2.8",
    "better-auth": "1.4.9",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "convex": "^1.31.2",
    "date-fns": "^4.1.0",
    "dodopayments": "^2.13.1",
    "embla-carousel-react": "^8.6.0",
    "input-otp": "^1.4.2",
    "lucide-react": "^0.562.0",
    "molstar": "^5.5.0",
    "next": "16.1.1",
    "next-themes": "^0.4.6",
    "react": "19.2.3",
    "react-day-picker": "^9.13.0",
    "react-dom": "19.2.3",
    "react-hook-form": "^7.69.0",
    "react-resizable-panels": "^4.1.1",
    "recharts": "2.15.4",
    "sass": "^1.97.1",
    "sharp": "^0.34.5",
    "sonner": "^2.0.7",
    "tailwind-merge": "^3.4.0",
    "vaul": "^1.1.2",
    "zod": "^4.3.4"
  },
  "devDependencies": {
    "@biomejs/biome": "2.2.0",
    "@tailwindcss/postcss": "^4.1.18",
    "@types/node": "^20.19.27",
    "@types/react": "^19.2.7",
    "@types/react-dom": "^19.2.3",
    "babel-plugin-react-compiler": "1.0.0",
    "concurrently": "^9.2.1",
    "tailwindcss": "^4.1.18",
    "tw-animate-css": "^1.4.0",
    "typescript": "^5.9.3"
  },
  "ignoreScripts": [
    "sharp",
    "unrs-resolver"
  ],
  "trustedDependencies": [
    "sharp",
    "unrs-resolver"
  ]
}
</file>

<file path="postcss.config.mjs">
export default {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};
</file>

<file path="README.md">
old design - https://github.com/greenrace66/phagebio
new - https://github.com/greenrace666/biostructure-lab
working on new one , setup backend , payments ,auth , visualisation , api
stack:
frontend - next
bundler - next
backend - convex
auth - betterauth
payment - dodo payment
js runtime - bun
ide - cursor/windsurf/trae/qoder/vscode
llm , agent - https://rectangular-onyx-d1b.notion.site/AI-stuf-21d5b439345680c49f0de2bc3b3d710c
visualisation , 3d modelling - molstar
ui - shadcn
animation - motion
mail - resend
lint - biome
</file>

<file path="src/app/globals.css">
@import "tailwindcss";
@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));
  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes fadeInDown {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes fadeInLeft {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  @keyframes fadeInRight {
    from {
      opacity: 0;
      transform: translateX(30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  @keyframes bounce {
    0%,
    100% {
      transform: translateY(-5%);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }
  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
  @keyframes float {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }
  @keyframes glow {
    0%,
    100% {
      box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
    }
    50% {
      box-shadow:
        0 0 40px hsl(var(--primary) / 0.6),
        0 0 60px hsl(var(--primary) / 0.3);
    }
  }
  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(100%);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes blur-in {
    from {
      filter: blur(12px);
      opacity: 0;
    }
    to {
      filter: blur(0);
      opacity: 1;
    }
  }
  @keyframes gradient-x {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  @keyframes gradient-y {
    0%,
    100% {
      background-position: 50% 0%;
    }
    50% {
      background-position: 50% 100%;
    }
  }
  @keyframes morph {
    0%,
    100% {
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    }
    50% {
      border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
    }
  }
  @keyframes counter-rotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(-360deg);
    }
  }
}
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 100%;
    --secondary: 174 83% 40%;
    --secondary-foreground: 0 0% 100%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 199 89% 48%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 239 84% 67%;
    --radius: 0.75rem;
    --gradient-primary: linear-gradient(
      135deg,
      hsl(239 84% 67%),
      hsl(199 89% 48%)
    );
    --gradient-secondary: linear-gradient(
      135deg,
      hsl(174 83% 40%),
      hsl(199 89% 48%)
    );
    --gradient-hero: linear-gradient(
      180deg,
      hsl(0 0% 100% / 0.95),
      hsl(210 40% 98% / 0.8)
    );
    --shadow-glow: 0 0 40px hsl(239 84% 67% / 0.3);
    --shadow-card: 0 10px 30px -10px hsl(239 84% 67% / 0.2);
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }
  .dark {
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;
    --card: 222 47% 9%;
    --card-foreground: 210 40% 98%;
    --popover: 222 47% 9%;
    --popover-foreground: 210 40% 98%;
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 100%;
    --secondary: 174 83% 40%;
    --secondary-foreground: 0 0% 100%;
    --muted: 217.2 32.6% 12%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 199 89% 48%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 18%;
    --input: 217.2 32.6% 15%;
    --ring: 239 84% 67%;
    --gradient-primary: linear-gradient(
      135deg,
      hsl(239 84% 67%),
      hsl(199 89% 48%)
    );
    --gradient-secondary: linear-gradient(
      135deg,
      hsl(174 83% 40%),
      hsl(199 89% 48%)
    );
    --gradient-hero: linear-gradient(
      180deg,
      hsl(222 47% 6% / 0.95),
      hsl(222 47% 3% / 0.9)
    );
    --shadow-glow: 0 0 50px hsl(239 84% 67% / 0.4);
    --shadow-card: 0 10px 40px -10px hsl(239 84% 67% / 0.3);
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}
@layer base {
  * {
    border-color: hsl(var(--border));
  }
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }
  html {
    scroll-behavior: smooth;
  }
}
@layer utilities {
  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }
  .animate-fade-in-up {
    animation: fadeInUp 0.7s ease-out forwards;
  }
  .animate-fade-in-down {
    animation: fadeInDown 0.6s ease-out forwards;
  }
  .animate-fade-in-left {
    animation: fadeInLeft 0.6s ease-out forwards;
  }
  .animate-fade-in-right {
    animation: fadeInRight 0.6s ease-out forwards;
  }
  .animate-scale-in {
    animation: scaleIn 0.4s ease-out forwards;
  }
  .animate-bounce-slow {
    animation: bounce 2s ease-in-out infinite;
  }
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }
  .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      hsl(var(--primary) / 0.1),
      transparent
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }
  .animate-blur-in {
    animation: blur-in 0.8s ease-out forwards;
  }
  .animate-gradient-x {
    background-size: 200% 200%;
    animation: gradient-x 15s ease infinite;
  }
  .animate-gradient-y {
    background-size: 200% 200%;
    animation: gradient-y 15s ease infinite;
  }
  .animate-morph {
    animation: morph 8s ease-in-out infinite;
  }
  .animate-counter-rotate {
    animation: counter-rotate 20s linear infinite;
  }
  .delay-75 {
    animation-delay: 75ms;
  }
  .delay-100 {
    animation-delay: 100ms;
  }
  .delay-150 {
    animation-delay: 150ms;
  }
  .delay-200 {
    animation-delay: 200ms;
  }
  .delay-300 {
    animation-delay: 300ms;
  }
  .delay-400 {
    animation-delay: 400ms;
  }
  .delay-500 {
    animation-delay: 500ms;
  }
  .delay-600 {
    animation-delay: 600ms;
  }
  .delay-700 {
    animation-delay: 700ms;
  }
  .glass {
    background: hsl(var(--background) / 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid hsl(var(--border) / 0.5);
  }
  .glass-strong {
    background: hsl(var(--background) / 0.85);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid hsl(var(--border) / 0.3);
  }
  .text-gradient {
    background: linear-gradient(135deg, #4f46e5, #06b6d4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .text-gradient-secondary {
    background: linear-gradient(135deg, #14b8a6, #06b6d4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .bg-gradient-primary {
    background: linear-gradient(135deg, #4f46e5, #06b6d4);
  }
  .bg-gradient-secondary {
    background: linear-gradient(135deg, #14b8a6, #06b6d4);
  }
  .bg-gradient-hero {
    background: linear-gradient(
      180deg,
      hsl(0 0% 100% / 0.95),
      hsl(210 40% 98% / 0.8)
    );
  }
  .dark .bg-gradient-hero {
    background: linear-gradient(
      180deg,
      hsl(222 47% 6% / 0.95),
      hsl(222 47% 3% / 0.9)
    );
  }
  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }
  .shadow-glow-sm {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.2);
  }
  .shadow-glow-lg {
    box-shadow: 0 0 60px hsl(var(--primary) / 0.4);
  }
  .shadow-card {
    box-shadow: var(--shadow-card);
  }
  .hover-lift {
    transition:
      transform 0.3s ease,
      box-shadow 0.3s ease;
  }
  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px -15px hsl(var(--primary) / 0.3);
  }
  .interactive-card {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }
  .interactive-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      hsl(var(--primary) / 0),
      hsl(var(--primary) / 0.03)
    );
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
    z-index: 0;
  }
  .interactive-card:hover::before {
    opacity: 1;
  }
  .interactive-card:hover {
    transform: translateY(-6px) scale(1.01);
    border-color: hsl(var(--primary) / 0.5);
    box-shadow:
      0 20px 40px -15px hsl(var(--primary) / 0.25),
      0 0 0 1px hsl(var(--primary) / 0.1);
  }
  /* Magnetic button effect base */
  .btn-magnetic {
    position: relative;
    transition: transform 0.2s ease;
  }
  /* Smooth underline animation */
  .underline-animate {
    position: relative;
  }
  .underline-animate::after {
    content: "";
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--gradient-primary);
    transition: width 0.3s ease;
  }
  .underline-animate:hover::after {
    width: 100%;
  }
  /* Noise texture overlay */
  .noise::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.03;
    pointer-events: none;
    z-index: 1;
  }
  .mesh-gradient {
    background:
      radial-gradient(
        at 40% 20%,
        hsl(var(--primary) / 0.08) 0px,
        transparent 50%
      ),
      radial-gradient(
        at 80% 0%,
        hsl(var(--secondary) / 0.05) 0px,
        transparent 50%
      ),
      radial-gradient(at 0% 50%, hsl(var(--accent) / 0.05) 0px, transparent 50%),
      radial-gradient(
        at 80% 50%,
        hsl(var(--primary) / 0.04) 0px,
        transparent 50%
      ),
      radial-gradient(
        at 0% 100%,
        hsl(var(--secondary) / 0.06) 0px,
        transparent 50%
      ),
      radial-gradient(
        at 80% 100%,
        hsl(var(--primary) / 0.05) 0px,
        transparent 50%
      );
    pointer-events: none;
  }
  .gradient-border {
    position: relative;
    background: hsl(var(--card));
    border-radius: var(--radius);
  }
  .gradient-border::before {
    content: "";
    position: absolute;
    inset: -1px;
    background: var(--gradient-primary);
    border-radius: calc(var(--radius) + 1px);
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .gradient-border:hover::before {
    opacity: 1;
  }
  .focus-ring:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px hsl(var(--background)),
      0 0 0 4px hsl(var(--ring));
  }
  ::selection {
    background: hsl(var(--primary) / 0.2);
    color: hsl(var(--foreground));
  }
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }
}
</file>

<file path="src/app/layout.tsx">
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import { Toaster as Sonner } from "sonner";
import { ThemeProvider } from "@/components/themeprovider";
import { Toaster } from "@/components/ui/toaster";
import { TooltipProvider } from "@/components/ui/tooltip";
import { AuthProvider } from "@/lib/auth";
import { ConvexProvider } from "@/lib/convex";
import "./globals.css";
import SecurityInit from "@/components/SecurityInit";
const inter = Inter({ subsets: ["latin"] });
export const metadata: Metadata = {
  metadataBase: new URL(
    process.env.NEXT_PUBLIC_APP_URL || "http://localhost:3000",
  ),
  title: {
    default: "Phage - Molecular Dynamics Simulation Platform",
    template: "%s | Phage",
  },
  description:
    "Advanced Molecular Dynamics Simulation Platform for researchers and scientists.",
  keywords: [
    "Molecular Dynamics",
    "Simulation",
    "Science",
    "Research",
    "Proteins",
    "Ligands",
  ],
  authors: [{ name: "Your Company" }],
  creator: "Your Company",
  icons: {
    icon: "/phagedesign.png",
    shortcut: "/phagedesign.png",
    apple: "/phagedesign.png",
  },
  openGraph: {
    type: "website",
    locale: "en_US",
    url: process.env.NEXT_PUBLIC_APP_URL,
    siteName: "Phage",
    title: "Phage - Molecular Dynamics Simulation Platform",
    description:
      "Advanced Molecular Dynamics Simulation Platform for researchers and scientists.",
    images: [
      {
        url: "/phagedesign.png",
        width: 1200,
        height: 630,
        alt: "Phage Platform",
      },
    ],
  },
  twitter: {
    card: "summary_large_image",
    title: "Phage - Molecular Dynamics Simulation Platform",
    description:
      "Advanced Molecular Dynamics Simulation Platform for researchers and scientists.",
    images: ["/phagedesign.png"],
    creator: "@yourtwitterhandle",
  },
};
export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body className={`${inter.className} antialiased`}>
        <ConvexProvider>
          <AuthProvider>
            <ThemeProvider>
              <TooltipProvider>
                <SecurityInit />
                {children}
                <Toaster />
                <Sonner />
              </TooltipProvider>
            </ThemeProvider>
          </AuthProvider>
        </ConvexProvider>
      </body>
    </html>
  );
}
</file>

<file path="src/app/page.tsx">
"use client";
import {
  ArrowRight,
  Atom,
  Box,
  CheckCircle2,
  FlaskConical,
  Palette,
  Play,
  RotateCcw,
  Shield,
  Sparkles,
  Timer,
  Users,
  Zap,
} from "lucide-react";
import dynamic from "next/dynamic";
import { useEffect, useRef, useState } from "react";
import Footer from "@/components/Footer";
import Header from "@/components/Header";
import { NavLink } from "@/components/NavLink";
import { Button } from "@/components/ui/button";
const MolstarViewer = dynamic(() => import("@/components/MolstarViewer"), {
  ssr: false,
  loading: () => (
    <div className="w-full h-full flex items-center justify-center">
      <div className="animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full" />
    </div>
  ),
});
import type { MolstarViewerRef } from "@/components/MolstarViewer";
const Index = () => {
  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
  const heroRef = useRef<HTMLDivElement>(null);
  const molstarRef = useRef<MolstarViewerRef>(null);
  const [isVisible, setIsVisible] = useState(false);
  const [currentRepr, setCurrentRepr] = useState<
    "cartoon" | "ball-and-stick" | "surface"
  >("cartoon");
  const [currentColor, setCurrentColor] = useState<
    "chain" | "element" | "rainbow"
  >("chain");
  useEffect(() => {
    setIsVisible(true);
    const handleMouseMove = (e: MouseEvent) => {
      if (heroRef.current) {
        const rect = heroRef.current.getBoundingClientRect();
        setMousePosition({
          x: (e.clientX - rect.left) / rect.width,
          y: (e.clientY - rect.top) / rect.height,
        });
      }
    };
    window.addEventListener("mousemove", handleMouseMove);
    return () => window.removeEventListener("mousemove", handleMouseMove);
  }, []);
  const stats = [
    {
      value: "10k+",
      label: "Simulations Run",
      icon: <Sparkles className="h-5 w-5" />,
    },
    { value: "99.9%", label: "Uptime", icon: <Shield className="h-5 w-5" /> },
    {
      value: "50x",
      label: "Faster Results",
      icon: <Zap className="h-5 w-5" />,
    },
    {
      value: "24/7",
      label: "Expert Support",
      icon: <Users className="h-5 w-5" />,
    },
  ];
  const features = [
    {
      icon: <Zap className="h-8 w-8" />,
      title: "Flash Speed",
      description:
        "Leverage our distributed GPU cloud to run simulations in minutes, not days.",
      gradient: "from-yellow-500 to-orange-500",
    },
    {
      icon: <Shield className="h-8 w-8" />,
      title: "Enterprise Security",
      description:
        "Your data is encrypted end-to-end with industry-standard protocols.",
      gradient: "from-emerald-500 to-teal-500",
    },
    {
      icon: <FlaskConical className="h-8 w-8" />,
      title: "High Accuracy",
      description:
        "Validated force fields and algorithms ensure publication-quality results.",
      gradient: "from-violet-500 to-purple-500",
    },
  ];
  const visualizations = [
    "Interactive 3D viewer with multiple rendering modes",
    "Automatic trajectory analysis and plotting",
    "One-click export for publication figures",
    "Seamless collaboration with team members",
  ];
  return (
    <div className="min-h-screen bg-background overflow-x-hidden">
      <Header />
      {}
      <section
        ref={heroRef}
        className="relative overflow-hidden pt-32 pb-20 lg:pt-48 lg:pb-32"
      >
        {}
        <div className="absolute inset-0 mesh-gradient opacity-30 pointer-events-none" />
        <div
          className="absolute inset-0 transition-transform duration-700 ease-out"
          style={{
            background: `radial-gradient(600px circle at ${mousePosition.x * 100}% ${mousePosition.y * 100}%, hsl(var(--primary) / 0.12), transparent 40%)`,
          }}
        />
        {}
        <div className="absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl animate-float opacity-30 pointer-events-none" />
        <div className="absolute bottom-20 right-10 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-float delay-300 opacity-20 pointer-events-none" />
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-accent/5 rounded-full blur-3xl animate-pulse opacity-20 pointer-events-none" />
        <div className="container relative mx-auto px-4">
          <div className="grid lg:grid-cols-2 gap-12 items-center">
            {}
            <div className="text-left">
              {}
              <div
                className={`mb-8 inline-flex items-center gap-2 rounded-full border border-primary/30 bg-primary/10 px-5 py-2.5 font-medium text-primary text-sm backdrop-blur-sm transition-all duration-700 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"}`}
              >
                <span className="relative flex h-2 w-2">
                  <span className="absolute inline-flex h-full w-full animate-ping rounded-full bg-primary opacity-75" />
                  <span className="relative inline-flex h-2 w-2 rounded-full bg-primary" />
                </span>
                Next Generation Molecular Dynamics
                <Sparkles className="h-4 w-4 text-primary/70" />
              </div>
              {}
              <h1
                className={`mb-8 font-bold text-5xl leading-tight tracking-tight md:text-7xl lg:text-8xl transition-all duration-700 delay-100 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`}
              >
                Simulate Molecules <br className="hidden md:block" />
                <span className="relative inline-block">
                  <span className="bg-gradient-to-r from-blue-600 via-indigo-500 to-blue-600 bg-clip-text text-transparent animate-gradient-x">
                    At Scale
                  </span>
                  <svg
                    className="absolute -bottom-2 left-0 w-full"
                    viewBox="0 0 300 12"
                    fill="none"
                  >
                    <path
                      d="M2 10C50 4 100 2 150 6C200 10 250 4 298 2"
                      stroke="url(#underline-gradient)"
                      strokeWidth="4"
                      strokeLinecap="round"
                      className="animate-fade-in delay-500"
                    />
                    <defs>
                      <linearGradient
                        id="underline-gradient"
                        x1="0%"
                        y1="0%"
                        x2="100%"
                        y2="0%"
                      >
                        <stop offset="0%" stopColor="hsl(var(--primary))" />
                        <stop offset="100%" stopColor="hsl(var(--secondary))" />
                      </linearGradient>
                    </defs>
                  </svg>
                </span>
              </h1>
              {}
              <p
                className={`mb-12 max-w-2xl text-muted-foreground text-xl md:text-2xl leading-relaxed transition-all duration-700 delay-200 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`}
              >
                Run complex molecular simulations in the cloud with
                unprecedented speed and accuracy.
                <span className="text-foreground font-medium">
                  {" "}
                  No expensive hardware required.
                </span>
              </p>
              {}
              <div
                className={`flex flex-col items-center justify-start gap-4 sm:flex-row transition-all duration-700 delay-300 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`}
              >
                <NavLink href="/auth">
                  <Button
                    size="lg"
                    className="group h-14 w-full min-w-[200px] bg-gradient-primary text-lg font-semibold shadow-glow hover:shadow-glow-lg transition-all duration-300 hover:scale-105 sm:w-auto"
                  >
                    Start Free Trial
                    <ArrowRight className="ml-2 h-5 w-5 transition-transform group-hover:translate-x-1" />
                  </Button>
                </NavLink>
                <NavLink href="/features">
                  <Button
                    size="lg"
                    variant="outline"
                    className="group h-14 w-full min-w-[200px] text-lg font-semibold border-2 hover:bg-primary/5 hover:border-primary/50 transition-all duration-300 sm:w-auto"
                  >
                    <div className="relative">
                      <Play className="mr-2 h-5 w-5 fill-current transition-transform group-hover:scale-110" />
                    </div>
                    Watch Demo
                  </Button>
                </NavLink>
              </div>
            </div>
            {}
            <div
              className={`relative transition-all duration-1000 delay-500 ${isVisible ? "opacity-100 translate-x-0" : "opacity-0 translate-x-12"}`}
            >
              {}
              <div className="absolute -top-16 left-1/2 -translate-x-1/2 flex flex-col items-center gap-1 animate-bounce-slow z-30">
                <span className="font-handwriting text-lg text-primary/80 whitespace-nowrap rotate-[-3deg]">
                  ✨ Interact with this!
                </span>
                <svg
                  className="w-8 h-8 text-primary/60"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  strokeWidth="2"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                >
                  <path d="M12 5v14M19 12l-7 7-7-7" />
                </svg>
              </div>
              <div className="relative aspect-[4/3] w-full max-w-[600px] mx-auto">
                <div className="absolute inset-0 rounded-3xl bg-primary/20 blur-3xl -z-10 animate-pulse" />
                <div className="relative h-full w-full rounded-3xl overflow-hidden border border-primary/20 bg-card/40 backdrop-blur-xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] group">
                  {}
                  <div className="absolute inset-x-0 top-0 h-10 bg-white/5 backdrop-blur-sm flex items-center px-6 gap-2 z-20">
                    <div className="flex gap-1.5">
                      <div className="w-2.5 h-2.5 rounded-full bg-red-500/20" />
                      <div className="w-2.5 h-2.5 rounded-full bg-yellow-500/20" />
                      <div className="w-2.5 h-2.5 rounded-full bg-green-500/20" />
                    </div>
                    <div className="flex-1 text-center font-mono text-[10px] text-white/40 uppercase tracking-widest">
                      nucleosome_1aoi
                    </div>
                  </div>
                  {}
                  <div className="h-full w-full pt-10">
                    <MolstarViewer
                      ref={molstarRef}
                      pdbId="1AOI"
                      className="w-full h-full"
                    />
                  </div>
                  {}
                  <div className="absolute inset-0 pointer-events-none bg-[radial-gradient(#ffffff08_1px,transparent_1px)] [background-size:24px_24px] [mask-image:radial-gradient(ellipse_at_center,black,transparent)] opacity-50" />
                </div>
                {}
                <div className="mt-4 flex items-center justify-center gap-2 flex-wrap">
                  {}
                  <button
                    type="button"
                    onClick={() => {
                      const next =
                        currentRepr === "cartoon"
                          ? "ball-and-stick"
                          : currentRepr === "ball-and-stick"
                            ? "surface"
                            : "cartoon";
                      setCurrentRepr(next);
                      molstarRef.current?.setRepresentation(next);
                    }}
                    className="flex items-center gap-2 px-4 py-2 rounded-xl bg-card/60 backdrop-blur-sm border border-primary/20 text-sm font-medium text-foreground/80 hover:bg-primary/10 hover:border-primary/40 transition-all duration-200"
                  >
                    <Box className="w-4 h-4" />
                    <span className="capitalize">
                      {currentRepr.replace("-", " ")}
                    </span>
                  </button>
                  {}
                  <button
                    type="button"
                    onClick={() => {
                      const next =
                        currentColor === "chain"
                          ? "element"
                          : currentColor === "element"
                            ? "rainbow"
                            : "chain";
                      setCurrentColor(next);
                      molstarRef.current?.setColor(next);
                    }}
                    className="flex items-center gap-2 px-4 py-2 rounded-xl bg-card/60 backdrop-blur-sm border border-secondary/20 text-sm font-medium text-foreground/80 hover:bg-secondary/10 hover:border-secondary/40 transition-all duration-200"
                  >
                    <Palette className="w-4 h-4" />
                    <span className="capitalize">{currentColor}</span>
                  </button>
                  {}
                  <button
                    type="button"
                    onClick={() => molstarRef.current?.resetZoom()}
                    className="flex items-center gap-2 px-4 py-2 rounded-xl bg-card/60 backdrop-blur-sm border border-accent/20 text-sm font-medium text-foreground/80 hover:bg-accent/10 hover:border-accent/40 transition-all duration-200"
                  >
                    <RotateCcw className="w-4 h-4" />
                    <span>Reset View</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      {}
      <section className="relative border-y border-border/40 bg-muted/30 py-16 backdrop-blur-sm overflow-hidden">
        <div className="absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-secondary/5" />
        <div className="container relative mx-auto px-4">
          <div className="grid grid-cols-2 gap-6 md:grid-cols-4 md:gap-8">
            {stats.map((stat, i) => (
              <div
                key={i}
                className={`group relative text-center p-6 rounded-2xl transition-all duration-500 hover:bg-card/50 hover:shadow-lg animate-fade-in-up`}
                style={{ animationDelay: `${i * 100}ms` }}
              >
                <div className="absolute inset-0 rounded-2xl bg-gradient-to-br from-primary/0 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity" />
                <div className="relative">
                  <div className="mb-3 mx-auto w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center text-primary transition-transform group-hover:scale-110 group-hover:bg-primary/20">
                    {stat.icon}
                  </div>
                  <h3 className="font-bold text-4xl md:text-5xl bg-gradient-to-r from-blue-600 via-indigo-500 to-cyan-500 bg-clip-text text-transparent mb-1">
                    {stat.value}
                  </h3>
                  <p className="text-muted-foreground text-sm md:text-base">
                    {stat.label}
                  </p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>
      {}
      <section className="py-24 lg:py-32 relative">
        <div className="absolute inset-0 mesh-gradient opacity-30" />
        <div className="container relative mx-auto px-4">
          <div className="mb-20 text-center">
            <span className="inline-block mb-4 px-4 py-2 rounded-full bg-secondary/10 text-secondary text-sm font-medium animate-fade-in">
              Why Choose Us
            </span>
            <h2 className="mb-6 font-bold text-4xl md:text-5xl lg:text-6xl animate-fade-in delay-100">
              Why Choose <span className="text-gradient">Phage</span>?
            </h2>
            <p className="mx-auto max-w-2xl text-muted-foreground text-xl animate-fade-in delay-200">
              Built for researchers, by researchers. We understand what you need
              to accelerate your drug discovery pipeline.
            </p>
          </div>
          <div className="grid gap-8 md:grid-cols-3">
            {features.map((feature, i) => (
              <div
                key={i}
                className="group interactive-card rounded-3xl border border-border/50 bg-card/50 backdrop-blur-sm p-8 lg:p-10"
                style={{ animationDelay: `${i * 150}ms` }}
              >
                <div
                  className={`mb-8 inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br ${feature.gradient} text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl`}
                >
                  {feature.icon}
                </div>
                <h3 className="mb-4 font-bold text-2xl group-hover:text-gradient transition-all duration-300">
                  {feature.title}
                </h3>
                <p className="text-muted-foreground text-lg leading-relaxed">
                  {feature.description}
                </p>
              </div>
            ))}
          </div>
        </div>
      </section>
      {}
      <section className="relative overflow-hidden py-24 lg:py-32">
        {}
        <div className="absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/5" />
        <div className="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-border to-transparent" />
        <div className="absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-border to-transparent" />
        <div className="container relative mx-auto px-4">
          <div className="grid gap-16 lg:grid-cols-2 lg:items-center">
            <div className="space-y-10 animate-fade-in-left">
              <div>
                <span className="inline-block mb-4 px-4 py-2 rounded-full bg-secondary/10 text-secondary text-sm font-medium">
                  Visualization
                </span>
                <h2 className="font-bold text-4xl leading-tight md:text-5xl lg:text-6xl">
                  Visualize Your Molecules in{" "}
                  <span className="text-gradient-secondary">Real-Time</span>
                </h2>
              </div>
              <div className="space-y-5">
                {visualizations.map((item, i) => (
                  <div
                    key={i}
                    className="group flex items-center gap-4 p-4 rounded-xl transition-all duration-300 hover:bg-secondary/5"
                    style={{ animationDelay: `${i * 100}ms` }}
                  >
                    <div className="flex-shrink-0 h-10 w-10 rounded-lg bg-gradient-secondary flex items-center justify-center shadow-lg transition-transform group-hover:scale-110">
                      <CheckCircle2 className="h-5 w-5 text-white" />
                    </div>
                    <span className="text-lg font-medium">{item}</span>
                  </div>
                ))}
              </div>
              <NavLink href="/features">
                <Button
                  size="lg"
                  className="group h-14 bg-gradient-secondary text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"
                >
                  Explore Features
                  <ArrowRight className="ml-2 h-5 w-5 transition-transform group-hover:translate-x-1" />
                </Button>
              </NavLink>
            </div>
            {}
            <div className="relative animate-fade-in-right">
              <div className="relative aspect-square lg:aspect-[4/3]">
                {}
                <div className="absolute inset-0 rounded-3xl bg-gradient-to-tr from-primary/30 via-secondary/20 to-accent/30 blur-3xl opacity-50 animate-pulse" />
                {}
                <div className="relative h-full rounded-3xl bg-gradient-to-br from-card/80 to-card/40 border border-border/50 backdrop-blur-xl shadow-2xl overflow-hidden">
                  {}
                  <div className="absolute left-0 right-0 top-0 h-12 bg-black/20 backdrop-blur-sm flex items-center px-4 gap-2">
                    <div className="flex gap-2">
                      <div className="h-3 w-3 rounded-full bg-red-500/70 hover:bg-red-500 transition-colors cursor-pointer" />
                      <div className="h-3 w-3 rounded-full bg-yellow-500/70 hover:bg-yellow-500 transition-colors cursor-pointer" />
                      <div className="h-3 w-3 rounded-full bg-green-500/70 hover:bg-green-500 transition-colors cursor-pointer" />
                    </div>
                    <div className="flex-1 text-center text-xs text-white/50 font-mono">
                      Protein Structure Viewer
                    </div>
                  </div>
                  {}
                  <div className="absolute inset-0 flex items-center justify-center pt-8">
                    <div className="relative">
                      {}
                      <div className="absolute inset-0 flex items-center justify-center">
                        <div className="w-48 h-48 md:w-64 md:h-64 rounded-full border-2 border-dashed border-primary/30 animate-spin-slow" />
                      </div>
                      <div className="absolute inset-0 flex items-center justify-center">
                        <div className="w-36 h-36 md:w-48 md:h-48 rounded-full border border-secondary/30 animate-counter-rotate" />
                      </div>
                      {}
                      <Atom className="h-24 w-24 md:h-32 md:w-32 text-primary animate-float" />
                      {}
                      <div className="absolute -top-4 -right-4 w-3 h-3 rounded-full bg-secondary animate-bounce-slow" />
                      <div className="absolute -bottom-2 -left-6 w-2 h-2 rounded-full bg-primary animate-bounce-slow delay-200" />
                      <div className="absolute top-1/2 -right-8 w-2 h-2 rounded-full bg-accent animate-bounce-slow delay-400" />
                    </div>
                  </div>
                  {}
                  <div className="absolute bottom-4 right-4 rounded-lg bg-black/60 backdrop-blur-sm px-4 py-3 text-xs font-mono text-green-400 shadow-lg">
                    <div className="flex items-center gap-2">
                      <div className="w-2 h-2 rounded-full bg-green-500 animate-pulse" />
                      <Timer className="h-3 w-3" />
                      <span>EST: 2m 15s</span>
                    </div>
                  </div>
                  {}
                  <div className="absolute left-4 bottom-4 rounded-lg bg-black/40 backdrop-blur-sm px-3 py-2 text-xs text-white/70">
                    <div className="flex items-center gap-2">
                      <div className="w-8 h-8 rounded bg-primary/20 flex items-center justify-center">
                        <FlaskConical className="h-4 w-4 text-primary" />
                      </div>
                      <div>
                        <div className="font-medium text-white/90">
                          4 Ligands
                        </div>
                        <div className="text-white/50">Active</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      {}
      <section className="relative py-24 lg:py-32 overflow-hidden">
        <div className="absolute inset-0 mesh-gradient opacity-40" />
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/10 rounded-full blur-3xl animate-pulse" />
        <div className="container relative mx-auto px-4 text-center">
          <div className="max-w-3xl mx-auto space-y-8">
            <h2 className="font-bold text-4xl md:text-5xl lg:text-6xl animate-fade-in">
              Ready to Accelerate Your{" "}
              <span className="text-gradient">Research</span>?
            </h2>
            <p className="text-muted-foreground text-xl animate-fade-in delay-100">
              Join thousands of researchers using Phage to power their
              discoveries. Start with 5 free credits today.
            </p>
            <div className="flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in delay-200">
              <NavLink href="/auth">
                <Button
                  size="lg"
                  className="group h-14 px-10 bg-gradient-primary text-lg font-semibold shadow-glow hover:shadow-glow-lg transition-all duration-300 hover:scale-105"
                >
                  Get Started Free
                  <ArrowRight className="ml-2 h-5 w-5 transition-transform group-hover:translate-x-1" />
                </Button>
              </NavLink>
              <NavLink href="/contact">
                <Button
                  size="lg"
                  variant="ghost"
                  className="h-14 px-8 text-lg font-medium hover:bg-primary/5"
                >
                  Talk to Sales
                </Button>
              </NavLink>
            </div>
          </div>
        </div>
      </section>
      <Footer />
    </div>
  );
};
export default Index;
</file>

</files>
